{
    "recover_status": "success",
    "cost": 0,
    "rewrites": {},
    "direct_patch": true,
    "instance_ref": {
        "repo": "strapi/strapi",
        "pull_number": 24965,
        "instance_id": "strapi__strapi-24965",
        "issue_numbers": [
            "24963"
        ],
        "base_commit": "b03ed9b0d57d44676c8eb8eaf6dc3e9c88df224e",
        "patch": "diff --git a/packages/plugins/i18n/server/src/services/ai-localizations.ts b/packages/plugins/i18n/server/src/services/ai-localizations.ts\nindex 3d21a605656b..8694a1811039 100644\n--- a/packages/plugins/i18n/server/src/services/ai-localizations.ts\n+++ b/packages/plugins/i18n/server/src/services/ai-localizations.ts\n@@ -11,7 +11,12 @@ const createAILocalizationsService = ({ strapi }: { strapi: Core.Strapi }) => {\n   const aiServerUrl = process.env.STRAPI_AI_URL || 'https://strapi-ai.apps.strapi.io';\n   const aiLocalizationJobsService = getService('ai-localization-jobs');\n \n-  const UNSUPPORTED_ATTRIBUTE_TYPES: Schema.Attribute.Kind[] = ['media', 'relation', 'boolean'];\n+  const UNSUPPORTED_ATTRIBUTE_TYPES: Schema.Attribute.Kind[] = [\n+    'media',\n+    'relation',\n+    'boolean',\n+    'enumeration',\n+  ];\n   const IGNORED_FIELDS = [\n     'id',\n     'documentId',\n",
        "test_patch": "",
        "problem_statement": "AI i18n throws an error when a Enum field  is present\n### Node Version\n\n20.19.5\n\n### NPM/Yarn/PNPM Version\n\n4.10.3\n\n### Strapi Version\n\n5.31.3\n\n### Operating System\n\nMacOS\n\n### Database\n\nSQLite\n\n### Javascript or Typescript\n\nTypescript\n\n### Reproduction URL\n\n_No response_\n\n### Bug Description\n\nAn error is thrown when there is a translatable enum and AI i18n is enabled.\n\n<img width=\"1988\" height=\"1138\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/cf9a0967-665d-4854-a448-efdd132258ea\" />\n\n### Steps to Reproduce\n\n1. Add a Growth licence\n3. Enable i18n AI + add locales\n4. Create a schema with an enum field that is localised\n6. Create an entry, select an enum value and save\n\n### Expected Behavior\n\nThe enum should be translated and saved.\n\n### Logs\n\n```shell\n[2025-12-03 10:16:48.197] info: AI token generated successfully\n[2025-12-03 10:16:48.198] http: Contacting AI Server for localizations generation\n[2025-12-03 10:16:49.092] http: GET /i18n/ai-localization-jobs/collection-types/api::product.product/wx1ajxq0i239g69y9vp1onxo (17 ms) 200\n[2025-12-03 10:16:50.121] http: GET /i18n/ai-localization-jobs/collection-types/api::product.product/wx1ajxq0i239g69y9vp1onxo (17 ms) 200\n[2025-12-03 10:16:51.147] http: GET /i18n/ai-localization-jobs/collection-types/api::product.product/wx1ajxq0i239g69y9vp1onxo (15 ms) 200\n[2025-12-03 10:16:52.174] http: GET /i18n/ai-localization-jobs/collection-types/api::product.product/wx1ajxq0i239g69y9vp1onxo (14 ms) 200\n[2025-12-03 10:16:53.205] http: GET /i18n/ai-localization-jobs/collection-types/api::product.product/wx1ajxq0i239g69y9vp1onxo (18 ms) 200\n[2025-12-03 10:16:54.226] http: GET /i18n/ai-localization-jobs/collection-types/api::product.product/wx1ajxq0i239g69y9vp1onxo (12 ms) 200\n[2025-12-03 10:16:55.258] http: GET /i18n/ai-localization-jobs/collection-types/api::product.product/wx1ajxq0i239g69y9vp1onxo (16 ms) 200\n[2025-12-03 10:16:56.286] http: GET /i18n/ai-localization-jobs/collection-types/api::product.product/wx1ajxq0i239g69y9vp1onxo (17 ms) 200\n[2025-12-03 10:16:57.317] http: GET /i18n/ai-localization-jobs/collection-types/api::product.product/wx1ajxq0i239g69y9vp1onxo (20 ms) 200\n[2025-12-03 10:16:58.344] http: GET /i18n/ai-localization-jobs/collection-types/api::product.product/wx1ajxq0i239g69y9vp1onxo (17 ms) 200\n[2025-12-03 10:16:59.361] http: GET /i18n/ai-localization-jobs/collection-types/api::product.product/wx1ajxq0i239g69y9vp1onxo (11 ms) 200\n[2025-12-03 10:17:00.394] http: GET /i18n/ai-localization-jobs/collection-types/api::product.product/wx1ajxq0i239g69y9vp1onxo (21 ms) 200\n[2025-12-03 10:17:01.420] http: GET /i18n/ai-localization-jobs/collection-types/api::product.product/wx1ajxq0i239g69y9vp1onxo (16 ms) 200\n[2025-12-03 10:17:02.444] http: GET /i18n/ai-localization-jobs/collection-types/api::product.product/wx1ajxq0i239g69y9vp1onxo (14 ms) 200\n[2025-12-03 10:17:03.465] http: GET /i18n/ai-localization-jobs/collection-types/api::product.product/wx1ajxq0i239g69y9vp1onxo (13 ms) 200\n[2025-12-03 10:17:04.493] http: GET /i18n/ai-localization-jobs/collection-types/api::product.product/wx1ajxq0i239g69y9vp1onxo (15 ms) 200\n[2025-12-03 10:17:05.521] http: GET /i18n/ai-localization-jobs/collection-types/api::product.product/wx1ajxq0i239g69y9vp1onxo (16 ms) 200\n[2025-12-03 10:17:06.546] http: GET /i18n/ai-localization-jobs/collection-types/api::product.product/wx1ajxq0i239g69y9vp1onxo (15 ms) 200\n[2025-12-03 10:17:07.577] http: GET /i18n/ai-localization-jobs/collection-types/api::product.product/wx1ajxq0i239g69y9vp1onxo (17 ms) 200\n[2025-12-03 10:17:08.608] http: GET /i18n/ai-localization-jobs/collection-types/api::product.product/wx1ajxq0i239g69y9vp1onxo (15 ms) 200\n[2025-12-03 10:17:08.760] info: [AI Localizations Job] Updated existing job for document wx1ajxq0i239g69y9vp1onxo with status: failed\n[2025-12-03 10:17:08.763] error: AI Localizations generation failed timing must be one of the following values: morning, noon, night, \n[2025-12-03 10:17:09.634] http: GET /i18n/ai-localization-jobs/collection-types/api::product.product/wx1ajxq0i239g69y9vp1onxo (16 ms) 200\n[2025-12-03 10:17:09.667] http: GET /content-manager/collection-types/api::product.product/wx1ajxq0i239g69y9vp1onxo?locale=en (22 ms) 200\n```\n\n### Code Snippets\n\n_No response_\n\n### Media\n\n_No response_\n\n### Additional information\n\n_No response_\n\n### Confirmation Checklist\n\n- [x] I have checked the existing [issues](https://github.com/strapi/strapi/issues) for duplicates.\n- [x] I agree to follow this project's [Code of Conduct](https://github.com/strapi/strapi/blob/develop/CODE_OF_CONDUCT.md).\n",
        "hints_text": "",
        "created_at": "2025-12-03T10:11:40Z",
        "pr_mirror": "strapi__strapi.main"
    }
}