{
    "cost": 0.191465,
    "rewrites": {
        "dubinc__dub.main/apps/web/lib/types.ts": {
            "output": "import {\n  PartnerBountySchema,\n  PartnerEarningsSchema,\n  PartnerProfileCustomerSchema,\n  PartnerProfileLinkSchema,\n  partnerUserSchema,\n} from \"@/lib/zod/schemas/partner-profile\";\nimport { DirectorySyncProviders } from \"@boxyhq/saml-jackson\";\nimport {\n  CommissionStatus,\n  FolderUserRole,\n  FraudEvent,\n  FraudEventGroup,\n  FraudRuleType,\n  Link,\n  PartnerGroup,\n  PartnerRole,\n  PayoutStatus,\n  Prisma,\n  ProgramEnrollmentStatus,\n  Project,\n  User,\n  UtmTemplate,\n  Webhook,\n  WorkspaceRole,\n} from \"@dub/prisma/client\";\nimport { z } from \"zod\";\nimport { RESOURCE_COLORS } from \"../ui/colors\";\nimport { PAID_TRAFFIC_PLATFORMS } from \"./api/fraud/constants\";\nimport { BOUNTY_SUBMISSION_REQUIREMENTS } from \"./constants/bounties\";\nimport {\n  FOLDER_PERMISSIONS,\n  FOLDER_WORKSPACE_ACCESS,\n} from \"./folder/constants\";\nimport { WEBHOOK_TRIGGER_DESCRIPTIONS } from \"./webhook/constants\";\nimport {\n  BountyListSchema,\n  BountySchema,\n  BountySubmissionExtendedSchema,\n  getBountySubmissionsQuerySchema,\n} from \"./zod/schemas/bounties\";\nimport {\n  CampaignListSchema,\n  CampaignSchema,\n  campaignSummarySchema,\n  EMAIL_TEMPLATE_VARIABLES,\n  updateCampaignSchema,\n} from \"./zod/schemas/campaigns\";\nimport {\n  clickEventResponseSchema,\n  clickEventSchemaTB,\n} from \"./zod/schemas/clicks\";\nimport { CommissionEnrichedSchema } from \"./zod/schemas/commissions\";\nimport { customerActivityResponseSchema } from \"./zod/schemas/customer-activity\";\nimport {\n  CustomerEnrichedSchema,\n  CustomerSchema,\n} from \"./zod/schemas/customers\";\nimport { dashboardSchema } from \"./zod/schemas/dashboard\";\nimport { DiscountCodeSchema, DiscountSchema } from \"./zod/schemas/discount\";\nimport { EmailDomainSchema } from \"./zod/schemas/email-domains\";\nimport { FolderSchema } from \"./zod/schemas/folders\";\nimport {\n  fraudGroupSchema,\n  fraudRuleSchema,\n  updateFraudRuleSettingsSchema,\n} from \"./zod/schemas/fraud\";\nimport { GroupWithProgramSchema } from \"./zod/schemas/group-with-program\";\nimport {\n  additionalPartnerLinkSchemaOptionalPath,\n  GroupSchema,\n  GroupSchemaExtended,\n  GroupWithFormDataSchema,\n  PartnerGroupDefaultLinkSchema,\n} from \"./zod/schemas/groups\";\nimport { integrationSchema } from \"./zod/schemas/integration\";\nimport { InvoiceSchema } from \"./zod/schemas/invoices\";\nimport {\n  leadEventResponseSchema,\n  leadEventSchemaTB,\n  trackLeadResponseSchema,\n} from \"./zod/schemas/leads\";\nimport {\n  ABTestVariantsSchema,\n  createLinkBodySchema,\n} from \"./zod/schemas/links\";\nimport { MessageSchema } from \"./zod/schemas/messages\";\nimport { createOAuthAppSchema, oAuthAppSchema } from \"./zod/schemas/oauth\";\nimport {\n  NetworkPartnerSchema,\n  PartnerConversionScoreSchema,\n} from \"./zod/schemas/partner-network\";\nimport {\n  createPartnerSchema,\n  EnrolledPartnerSchema,\n  EnrolledPartnerSchemaExtended,\n  PartnerSchema,\n  WebhookPartnerSchema,\n} from \"./zod/schemas/partners\";\nimport {\n  PartnerPayoutResponseSchema,\n  PayoutResponseSchema,\n} from \"./zod/schemas/payouts\";\nimport {\n  programApplicationFormDataWithValuesSchema,\n  programApplicationFormFieldWithValuesSchema,\n  programApplicationFormSchema,\n} from \"./zod/schemas/program-application-form\";\nimport { programInviteEmailDataSchema } from \"./zod/schemas/program-invite-email\";\nimport { programLanderSchema } from \"./zod/schemas/program-lander\";\nimport { programDataSchema } from \"./zod/schemas/program-onboarding\";\nimport {\n  PartnerCommentSchema,\n  ProgramEnrollmentSchema,\n  ProgramSchema,\n} from \"./zod/schemas/programs\";\nimport {\n  rewardConditionsArraySchema,\n  rewardConditionSchema,\n  rewardConditionsSchema,\n  rewardContextSchema,\n  RewardSchema,\n} from \"./zod/schemas/rewards\";\nimport {\n  saleEventResponseSchema,\n  trackSaleResponseSchema,\n} from \"./zod/schemas/sales\";\nimport { fraudEventContext } from \"./zod/schemas/schemas\";\nimport { tokenSchema } from \"./zod/schemas/token\";\nimport { usageResponse } from \"./zod/schemas/usage\";\nimport {\n  createWebhookSchema,\n  webhookEventSchemaTB,\n  WebhookSchema,\n} from \"./zod/schemas/webhooks\";\nimport {\n  WORKFLOW_ATTRIBUTES,\n  WORKFLOW_COMPARISON_OPERATORS,\n  workflowActionSchema,\n  workflowConditionSchema,\n} from \"./zod/schemas/workflows\";\nimport { workspacePreferencesSchema } from \"./zod/schemas/workspace-preferences\";\nimport { workspaceUserSchema } from \"./zod/schemas/workspaces\";\n\nexport type LinkProps = Link;\n\n// used on client side (e.g. Link builder)\n// TODO: standardize this with ExpandedLink\nexport interface ExpandedLinkProps extends LinkProps {\n  tags: TagProps[];\n  webhookIds: string[];\n  dashboardId: string | null;\n  user?: UserProps;\n}\n\nexport interface SimpleLinkProps {\n  domain: string;\n  key: string;\n  url: string;\n}\n\nexport interface QRLinkProps {\n  domain: string;\n  key?: string;\n  url?: string;\n}\n\nexport interface RedisLinkProps {\n  id: string;\n  url?: string;\n  trackConversion?: boolean;\n  password?: boolean;\n  proxy?: boolean;\n  rewrite?: boolean;\n  expiresAt?: Date;\n  expiredUrl?: string;\n  disabledAt?: Date;\n  ios?: string;\n  android?: string;\n  geo?: object;\n  doIndex?: boolean;\n  projectId?: string;\n  webhookIds?: string[];\n  programId?: string;\n  partnerId?: string;\n  partner?: Pick<PartnerProps, \"id\" | \"name\" | \"image\">;\n  discount?: Pick<\n    DiscountProps,\n    \"id\" | \"amount\" | \"type\" | \"maxDuration\" | \"couponId\" | \"couponTestId\"\n  >;\n  testVariants?: z.infer<typeof ABTestVariantsSchema>;\n  testCompletedAt?: Date;\n}\n\nexport type ResourceColorsEnum = (typeof RESOURCE_COLORS)[number];\n\nexport interface TagProps {\n  id: string;\n  name: string;\n  color: ResourceColorsEnum;\n}\n\nexport type UtmTemplateProps = UtmTemplate;\nexport type UtmTemplateWithUserProps = UtmTemplateProps & {\n  user?: UserProps;\n};\n\nexport type PlanProps = (typeof plans)[number];\n\nexport type BetaFeatures = \"noDubLink\" | \"analyticsSettingsSiteVisitTracking\";\n\nexport interface WorkspaceProps extends Project {\n  logo: string | null;\n  plan: PlanProps;\n  domains: {\n    slug: string;\n    primary: boolean;\n    verified: boolean;\n  }[];\n  users: {\n    role: WorkspaceRole;\n    defaultFolderId: string | null;\n  }[];\n  flags?: {\n    [key in BetaFeatures]: boolean;\n  };\n  store: Record<string, any> | null;\n}\n\nexport interface ExtendedWorkspaceProps extends WorkspaceProps {\n  domains: (WorkspaceProps[\"domains\"][number] & {\n    linkRetentionDays: number | null;\n  })[];\n  defaultProgramId: string | null;\n  allowedHostnames: string[];\n  users: (WorkspaceProps[\"users\"][number] & {\n    workspacePreferences?: z.infer<typeof workspacePreferencesSchema>;\n  })[];\n  publishableKey: string | null;\n}\n\nexport type WorkspaceWithUsers = Omit<WorkspaceProps, \"domains\">;\n\nexport type WorkspaceUserProps = z.infer<typeof workspaceUserSchema>;\n\nexport interface UserProps {\n  id: string;\n  name: string;\n  email: string;\n  image?: string;\n  createdAt: Date;\n  source: string | null;\n  defaultWorkspace?: string;\n  defaultPartnerId?: string;\n  isMachine: boolean;\n  hasPassword: boolean;\n  provider: string | null;\n}\n\nexport type DomainVerificationStatusProps =\n  | \"Valid Configuration\"\n  | \"Invalid Configuration\"\n  | \"Conflicting DNS Records\"\n  | \"Pending Verification\"\n  | \"Domain Not Found\"\n  | \"Unknown Error\";\n\nexport interface DomainProps {\n  id: string;\n  slug: string;\n  verified: boolean;\n  primary: boolean;\n  archived: boolean;\n  placeholder?: string;\n  expiredUrl?: string;\n  notFoundUrl?: string;\n  projectId: string;\n  logo?: string;\n  appleAppSiteAssociation?: string;\n  assetLinks?: string;\n  deepviewData?: string;\n  link?: LinkProps;\n  registeredDomain?: RegisteredDomainProps;\n}\n\nexport interface RegisteredDomainProps {\n  id: string;\n  autoRenewalDisabledAt: Date | null;\n  createdAt: Date;\n  expiresAt: Date;\n  renewalFee: number;\n}\n\nexport interface BitlyGroupProps {\n  guid: string;\n  bsds: string[]; // custom domains\n  tags: string[];\n}\n\nexport interface ImportedDomainCountProps {\n  id: number;\n  domain: string;\n  links: number;\n}\n\nexport interface SAMLProviderProps {\n  name: string;\n  logo: string;\n  saml: \"okta\" | \"azure\" | \"google\";\n  samlModalCopy: string;\n  scim: keyof typeof DirectorySyncProviders;\n  scimModalCopy: {\n    url: string;\n    token: string;\n  };\n}\n\nexport type NewLinkProps = z.infer<typeof createLinkBodySchema>;\n\ntype ProcessedLinkOverrides = \"domain\" | \"key\" | \"url\" | \"projectId\";\n\nexport type ProcessedLinkProps = Omit<NewLinkProps, ProcessedLinkOverrides> &\n  Pick<LinkProps, ProcessedLinkOverrides> & { userId?: LinkProps[\"userId\"] } & {\n    createdAt?: Date;\n    id?: string;\n    partnerGroupDefaultLinkId?: string | null;\n  };\n\nexport const plans = [\n  \"free\",\n  \"pro\",\n  \"business\",\n  \"business plus\",\n  \"business extra\",\n  \"business max\",\n  \"advanced\",\n  \"enterprise\",\n] as const;\n\nexport type DashboardProps = z.infer<typeof dashboardSchema>;\n\nexport type TokenProps = z.infer<typeof tokenSchema>;\n\nexport type OAuthAppProps = z.infer<typeof oAuthAppSchema>;\n\nexport type OAuthAppWithClientSecret = OAuthAppProps & { clientSecret: string };\n\nexport type NewOAuthApp = z.infer<typeof createOAuthAppSchema>;\n\nexport type IntegrationProps = z.infer<typeof integrationSchema>;\n\nexport type NewOrExistingIntegration = Omit<\n  IntegrationProps,\n  \"id\" | \"verified\" | \"installations\"\n> & {\n  id?: string;\n};\n\nexport type InstalledIntegrationProps = Pick<\n  IntegrationProps,\n  | \"id\"\n  | \"projectId\"\n  | \"slug\"\n  | \"logo\"\n  | \"name\"\n  | \"developer\"\n  | \"description\"\n  | \"verified\"\n  | \"comingSoon\"\n  | \"guideUrl\"\n> & {\n  installations: number;\n  installed?: boolean;\n};\n\nexport type InstalledIntegrationInfoProps = Pick<\n  IntegrationProps,\n  | \"id\"\n  | \"projectId\"\n  | \"slug\"\n  | \"logo\"\n  | \"name\"\n  | \"developer\"\n  | \"description\"\n  | \"verified\"\n  | \"readme\"\n  | \"website\"\n  | \"screenshots\"\n  | \"installUrl\"\n> & {\n  createdAt: Date;\n  installed: {\n    id: string;\n    createdAt: Date;\n    by: {\n      id: string;\n      name: string | null;\n      email: string | null;\n      image: string | null;\n    };\n  } | null;\n  credentials?: Prisma.JsonValue;\n  settings?: Prisma.JsonValue;\n  webhookId?: string; // Only if the webhook is managed by an integration\n};\n\nexport type WebhookTrigger = keyof typeof WEBHOOK_TRIGGER_DESCRIPTIONS;\n\nexport type WebhookProps = z.infer<typeof WebhookSchema>;\n\nexport type NewWebhook = z.infer<typeof createWebhookSchema>;\n\nexport type WebhookEventProps = z.infer<typeof webhookEventSchemaTB>;\n\nexport type WebhookCacheProps = Pick<\n  Webhook,\n  \"id\" | \"url\" | \"secret\" | \"triggers\" | \"disabledAt\"\n>;\n\nexport type WebhookPartner = z.infer<typeof WebhookPartnerSchema>;\n\nexport type TrackLeadResponse = z.infer<typeof trackLeadResponseSchema>;\n\nexport type TrackSaleResponse = z.infer<typeof trackSaleResponseSchema>;\n\nexport type Customer = z.infer<typeof CustomerSchema>;\n\nexport type CustomerEnriched = z.infer<typeof CustomerEnrichedSchema>;\n\nexport type UsageResponse = z.infer<typeof usageResponse>;\n\nexport type PartnersCount = Record<ProgramEnrollmentStatus | \"all\", number>;\n\nexport type CommissionsCount = Record<\n  CommissionStatus | \"all\",\n  {\n    count: number;\n    amount: number;\n    earnings: number;\n  }\n>;\n\nexport type CommissionResponse = z.infer<typeof CommissionEnrichedSchema>;\n\nexport type PartnerEarningsResponse = z.infer<typeof PartnerEarningsSchema>;\n\nexport type CustomerProps = z.infer<typeof CustomerSchema>;\n\nexport type PartnerProps = z.infer<typeof PartnerSchema> & {\n  role: PartnerRole;\n  userId: string;\n};\n\nexport type PartnerUserProps = z.infer<typeof partnerUserSchema>;\n\nexport type PartnerProfileCustomerProps = z.infer<\n  typeof PartnerProfileCustomerSchema\n>;\n\nexport type PartnerProfileLinkProps = z.infer<typeof PartnerProfileLinkSchema>;\n\nexport type EnrolledPartnerProps = z.infer<typeof EnrolledPartnerSchema>;\n\nexport type NetworkPartnerProps = z.infer<typeof NetworkPartnerSchema>;\n\nexport type PartnerConversionScore = z.infer<\n  typeof PartnerConversionScoreSchema\n>;\n\nexport type EnrolledPartnerExtendedProps = z.infer<\n  typeof EnrolledPartnerSchemaExtended\n>;\n\nexport type DiscountProps = z.infer<typeof DiscountSchema>;\n\nexport type DiscountCodeProps = z.infer<typeof DiscountCodeSchema>;\n\nexport type ProgramProps = z.infer<typeof ProgramSchema>;\n\nexport type ProgramInviteEmailData = z.infer<\n  typeof programInviteEmailDataSchema\n>;\n\nexport type ProgramLanderData = z.infer<typeof programLanderSchema>;\n\nexport type ProgramApplicationFormData = z.infer<\n  typeof programApplicationFormSchema\n>;\n\nexport type ProgramApplicationFormDataWithValues = z.infer<\n  typeof programApplicationFormDataWithValuesSchema\n>;\n\nexport type ProgramApplicationFormFieldWithValues = z.infer<\n  typeof programApplicationFormFieldWithValuesSchema",
            "output_extracted": "import {\n  PartnerBountySchema,\n  PartnerEarningsSchema,\n  PartnerProfileCustomerSchema,\n  PartnerProfileLinkSchema,\n  partnerUserSchema,\n} from \"@/lib/zod/schemas/partner-profile\";\nimport { DirectorySyncProviders } from \"@boxyhq/saml-jackson\";\nimport {\n  CommissionStatus,\n  FolderUserRole,\n  FraudEvent,\n  FraudEventGroup,\n  FraudRuleType,\n  Link,\n  PartnerGroup,\n  PartnerRole,\n  PayoutStatus,\n  Prisma,\n  ProgramEnrollmentStatus,\n  Project,\n  User,\n  UtmTemplate,\n  Webhook,\n  WorkspaceRole,\n} from \"@dub/prisma/client\";\nimport { z } from \"zod\";\nimport { RESOURCE_COLORS } from \"../ui/colors\";\nimport { PAID_TRAFFIC_PLATFORMS } from \"./api/fraud/constants\";\nimport { BOUNTY_SUBMISSION_REQUIREMENTS } from \"./constants/bounties\";\nimport {\n  FOLDER_PERMISSIONS,\n  FOLDER_WORKSPACE_ACCESS,\n} from \"./folder/constants\";\nimport { WEBHOOK_TRIGGER_DESCRIPTIONS } from \"./webhook/constants\";\nimport {\n  BountyListSchema,\n  BountySchema,\n  BountySubmissionExtendedSchema,\n  getBountySubmissionsQuerySchema,\n} from \"./zod/schemas/bounties\";\nimport {\n  CampaignListSchema,\n  CampaignSchema,\n  campaignSummarySchema,\n  EMAIL_TEMPLATE_VARIABLES,\n  updateCampaignSchema,\n} from \"./zod/schemas/campaigns\";\nimport {\n  clickEventResponseSchema,\n  clickEventSchemaTB,\n} from \"./zod/schemas/clicks\";\nimport { CommissionEnrichedSchema } from \"./zod/schemas/commissions\";\nimport { customerActivityResponseSchema } from \"./zod/schemas/customer-activity\";\nimport {\n  CustomerEnrichedSchema,\n  CustomerSchema,\n} from \"./zod/schemas/customers\";\nimport { dashboardSchema } from \"./zod/schemas/dashboard\";\nimport { DiscountCodeSchema, DiscountSchema } from \"./zod/schemas/discount\";\nimport { EmailDomainSchema } from \"./zod/schemas/email-domains\";\nimport { FolderSchema } from \"./zod/schemas/folders\";\nimport {\n  fraudGroupSchema,\n  fraudRuleSchema,\n  updateFraudRuleSettingsSchema,\n} from \"./zod/schemas/fraud\";\nimport { GroupWithProgramSchema } from \"./zod/schemas/group-with-program\";\nimport {\n  additionalPartnerLinkSchemaOptionalPath,\n  GroupSchema,\n  GroupSchemaExtended,\n  GroupWithFormDataSchema,\n  PartnerGroupDefaultLinkSchema,\n} from \"./zod/schemas/groups\";\nimport { integrationSchema } from \"./zod/schemas/integration\";\nimport { InvoiceSchema } from \"./zod/schemas/invoices\";\nimport {\n  leadEventResponseSchema,\n  leadEventSchemaTB,\n  trackLeadResponseSchema,\n} from \"./zod/schemas/leads\";\nimport {\n  ABTestVariantsSchema,\n  createLinkBodySchema,\n} from \"./zod/schemas/links\";\nimport { MessageSchema } from \"./zod/schemas/messages\";\nimport { createOAuthAppSchema, oAuthAppSchema } from \"./zod/schemas/oauth\";\nimport {\n  NetworkPartnerSchema,\n  PartnerConversionScoreSchema,\n} from \"./zod/schemas/partner-network\";\nimport {\n  createPartnerSchema,\n  EnrolledPartnerSchema,\n  EnrolledPartnerSchemaExtended,\n  PartnerSchema,\n  WebhookPartnerSchema,\n} from \"./zod/schemas/partners\";\nimport {\n  PartnerPayoutResponseSchema,\n  PayoutResponseSchema,\n} from \"./zod/schemas/payouts\";\nimport {\n  programApplicationFormDataWithValuesSchema,\n  programApplicationFormFieldWithValuesSchema,\n  programApplicationFormSchema,\n} from \"./zod/schemas/program-application-form\";\nimport { programInviteEmailDataSchema } from \"./zod/schemas/program-invite-email\";\nimport { programLanderSchema } from \"./zod/schemas/program-lander\";\nimport { programDataSchema } from \"./zod/schemas/program-onboarding\";\nimport {\n  PartnerCommentSchema,\n  ProgramEnrollmentSchema,\n  ProgramSchema,\n} from \"./zod/schemas/programs\";\nimport {\n  rewardConditionsArraySchema,\n  rewardConditionSchema,\n  rewardConditionsSchema,\n  rewardContextSchema,\n  RewardSchema,\n} from \"./zod/schemas/rewards\";\nimport {\n  saleEventResponseSchema,\n  trackSaleResponseSchema,\n} from \"./zod/schemas/sales\";\nimport { fraudEventContext } from \"./zod/schemas/schemas\";\nimport { tokenSchema } from \"./zod/schemas/token\";\nimport { usageResponse } from \"./zod/schemas/usage\";\nimport {\n  createWebhookSchema,\n  webhookEventSchemaTB,\n  WebhookSchema,\n} from \"./zod/schemas/webhooks\";\nimport {\n  WORKFLOW_ATTRIBUTES,\n  WORKFLOW_COMPARISON_OPERATORS,\n  workflowActionSchema,\n  workflowConditionSchema,\n} from \"./zod/schemas/workflows\";\nimport { workspacePreferencesSchema } from \"./zod/schemas/workspace-preferences\";\nimport { workspaceUserSchema } from \"./zod/schemas/workspaces\";\n\nexport type LinkProps = Link;\n\n// used on client side (e.g. Link builder)\n// TODO: standardize this with ExpandedLink\nexport interface ExpandedLinkProps extends LinkProps {\n  tags: TagProps[];\n  webhookIds: string[];\n  dashboardId: string | null;\n  user?: UserProps;\n}\n\nexport interface SimpleLinkProps {\n  domain: string;\n  key: string;\n  url: string;\n}\n\nexport interface QRLinkProps {\n  domain: string;\n  key?: string;\n  url?: string;\n}\n\nexport interface RedisLinkProps {\n  id: string;\n  url?: string;\n  trackConversion?: boolean;\n  password?: boolean;\n  proxy?: boolean;\n  rewrite?: boolean;\n  expiresAt?: Date;\n  expiredUrl?: string;\n  disabledAt?: Date;\n  ios?: string;\n  android?: string;\n  geo?: object;\n  doIndex?: boolean;\n  projectId?: string;\n  webhookIds?: string[];\n  programId?: string;\n  partnerId?: string;\n  partner?: Pick<PartnerProps, \"id\" | \"name\" | \"image\">;\n  discount?: Pick<\n    DiscountProps,\n    \"id\" | \"amount\" | \"type\" | \"maxDuration\" | \"couponId\" | \"couponTestId\"\n  >;\n  testVariants?: z.infer<typeof ABTestVariantsSchema>;\n  testCompletedAt?: Date;\n}\n\nexport type ResourceColorsEnum = (typeof RESOURCE_COLORS)[number];\n\nexport interface TagProps {\n  id: string;\n  name: string;\n  color: ResourceColorsEnum;\n}\n\nexport type UtmTemplateProps = UtmTemplate;\nexport type UtmTemplateWithUserProps = UtmTemplateProps & {\n  user?: UserProps;\n};\n\nexport type PlanProps = (typeof plans)[number];\n\nexport type BetaFeatures = \"noDubLink\" | \"analyticsSettingsSiteVisitTracking\";\n\nexport interface WorkspaceProps extends Project {\n  logo: string | null;\n  plan: PlanProps;\n  domains: {\n    slug: string;\n    primary: boolean;\n    verified: boolean;\n  }[];\n  users: {\n    role: WorkspaceRole;\n    defaultFolderId: string | null;\n  }[];\n  flags?: {\n    [key in BetaFeatures]: boolean;\n  };\n  store: Record<string, any> | null;\n}\n\nexport interface ExtendedWorkspaceProps extends WorkspaceProps {\n  domains: (WorkspaceProps[\"domains\"][number] & {\n    linkRetentionDays: number | null;\n  })[];\n  defaultProgramId: string | null;\n  allowedHostnames: string[];\n  users: (WorkspaceProps[\"users\"][number] & {\n    workspacePreferences?: z.infer<typeof workspacePreferencesSchema>;\n  })[];\n  publishableKey: string | null;\n}\n\nexport type WorkspaceWithUsers = Omit<WorkspaceProps, \"domains\">;\n\nexport type WorkspaceUserProps = z.infer<typeof workspaceUserSchema>;\n\nexport interface UserProps {\n  id: string;\n  name: string;\n  email: string;\n  image?: string;\n  createdAt: Date;\n  source: string | null;\n  defaultWorkspace?: string;\n  defaultPartnerId?: string;\n  isMachine: boolean;\n  hasPassword: boolean;\n  provider: string | null;\n}\n\nexport type DomainVerificationStatusProps =\n  | \"Valid Configuration\"\n  | \"Invalid Configuration\"\n  | \"Conflicting DNS Records\"\n  | \"Pending Verification\"\n  | \"Domain Not Found\"\n  | \"Unknown Error\";\n\nexport interface DomainProps {\n  id: string;\n  slug: string;\n  verified: boolean;\n  primary: boolean;\n  archived: boolean;\n  placeholder?: string;\n  expiredUrl?: string;\n  notFoundUrl?: string;\n  projectId: string;\n  logo?: string;\n  appleAppSiteAssociation?: string;\n  assetLinks?: string;\n  deepviewData?: string;\n  link?: LinkProps;\n  registeredDomain?: RegisteredDomainProps;\n}\n\nexport interface RegisteredDomainProps {\n  id: string;\n  autoRenewalDisabledAt: Date | null;\n  createdAt: Date;\n  expiresAt: Date;\n  renewalFee: number;\n}\n\nexport interface BitlyGroupProps {\n  guid: string;\n  bsds: string[]; // custom domains\n  tags: string[];\n}\n\nexport interface ImportedDomainCountProps {\n  id: number;\n  domain: string;\n  links: number;\n}\n\nexport interface SAMLProviderProps {\n  name: string;\n  logo: string;\n  saml: \"okta\" | \"azure\" | \"google\";\n  samlModalCopy: string;\n  scim: keyof typeof DirectorySyncProviders;\n  scimModalCopy: {\n    url: string;\n    token: string;\n  };\n}\n\nexport type NewLinkProps = z.infer<typeof createLinkBodySchema>;\n\ntype ProcessedLinkOverrides = \"domain\" | \"key\" | \"url\" | \"projectId\";\n\nexport type ProcessedLinkProps = Omit<NewLinkProps, ProcessedLinkOverrides> &\n  Pick<LinkProps, ProcessedLinkOverrides> & { userId?: LinkProps[\"userId\"] } & {\n    createdAt?: Date;\n    id?: string;\n    partnerGroupDefaultLinkId?: string | null;\n  };\n\nexport const plans = [\n  \"free\",\n  \"pro\",\n  \"business\",\n  \"business plus\",\n  \"business extra\",\n  \"business max\",\n  \"advanced\",\n  \"enterprise\",\n] as const;\n\nexport type DashboardProps = z.infer<typeof dashboardSchema>;\n\nexport type TokenProps = z.infer<typeof tokenSchema>;\n\nexport type OAuthAppProps = z.infer<typeof oAuthAppSchema>;\n\nexport type OAuthAppWithClientSecret = OAuthAppProps & { clientSecret: string };\n\nexport type NewOAuthApp = z.infer<typeof createOAuthAppSchema>;\n\nexport type IntegrationProps = z.infer<typeof integrationSchema>;\n\nexport type NewOrExistingIntegration = Omit<\n  IntegrationProps,\n  \"id\" | \"verified\" | \"installations\"\n> & {\n  id?: string;\n};\n\nexport type InstalledIntegrationProps = Pick<\n  IntegrationProps,\n  | \"id\"\n  | \"projectId\"\n  | \"slug\"\n  | \"logo\"\n  | \"name\"\n  | \"developer\"\n  | \"description\"\n  | \"verified\"\n  | \"comingSoon\"\n  | \"guideUrl\"\n> & {\n  installations: number;\n  installed?: boolean;\n};\n\nexport type InstalledIntegrationInfoProps = Pick<\n  IntegrationProps,\n  | \"id\"\n  | \"projectId\"\n  | \"slug\"\n  | \"logo\"\n  | \"name\"\n  | \"developer\"\n  | \"description\"\n  | \"verified\"\n  | \"readme\"\n  | \"website\"\n  | \"screenshots\"\n  | \"installUrl\"\n> & {\n  createdAt: Date;\n  installed: {\n    id: string;\n    createdAt: Date;\n    by: {\n      id: string;\n      name: string | null;\n      email: string | null;\n      image: string | null;\n    };\n  } | null;\n  credentials?: Prisma.JsonValue;\n  settings?: Prisma.JsonValue;\n  webhookId?: string; // Only if the webhook is managed by an integration\n};\n\nexport type WebhookTrigger = keyof typeof WEBHOOK_TRIGGER_DESCRIPTIONS;\n\nexport type WebhookProps = z.infer<typeof WebhookSchema>;\n\nexport type NewWebhook = z.infer<typeof createWebhookSchema>;\n\nexport type WebhookEventProps = z.infer<typeof webhookEventSchemaTB>;\n\nexport type WebhookCacheProps = Pick<\n  Webhook,\n  \"id\" | \"url\" | \"secret\" | \"triggers\" | \"disabledAt\"\n>;\n\nexport type WebhookPartner = z.infer<typeof WebhookPartnerSchema>;\n\nexport type TrackLeadResponse = z.infer<typeof trackLeadResponseSchema>;\n\nexport type TrackSaleResponse = z.infer<typeof trackSaleResponseSchema>;\n\nexport type Customer = z.infer<typeof CustomerSchema>;\n\nexport type CustomerEnriched = z.infer<typeof CustomerEnrichedSchema>;\n\nexport type UsageResponse = z.infer<typeof usageResponse>;\n\nexport type PartnersCount = Record<ProgramEnrollmentStatus | \"all\", number>;\n\nexport type CommissionsCount = Record<\n  CommissionStatus | \"all\",\n  {\n    count: number;\n    amount: number;\n    earnings: number;\n  }\n>;\n\nexport type CommissionResponse = z.infer<typeof CommissionEnrichedSchema>;\n\nexport type PartnerEarningsResponse = z.infer<typeof PartnerEarningsSchema>;\n\nexport type CustomerProps = z.infer<typeof CustomerSchema>;\n\nexport type PartnerProps = z.infer<typeof PartnerSchema> & {\n  role: PartnerRole;\n  userId: string;\n};\n\nexport type PartnerUserProps = z.infer<typeof partnerUserSchema>;\n\nexport type PartnerProfileCustomerProps = z.infer<\n  typeof PartnerProfileCustomerSchema\n>;\n\nexport type PartnerProfileLinkProps = z.infer<typeof PartnerProfileLinkSchema>;\n\nexport type EnrolledPartnerProps = z.infer<typeof EnrolledPartnerSchema>;\n\nexport type NetworkPartnerProps = z.infer<typeof NetworkPartnerSchema>;\n\nexport type PartnerConversionScore = z.infer<\n  typeof PartnerConversionScoreSchema\n>;\n\nexport type EnrolledPartnerExtendedProps = z.infer<\n  typeof EnrolledPartnerSchemaExtended\n>;\n\nexport type DiscountProps = z.infer<typeof DiscountSchema>;\n\nexport type DiscountCodeProps = z.infer<typeof DiscountCodeSchema>;\n\nexport type ProgramProps = z.infer<typeof ProgramSchema>;\n\nexport type ProgramInviteEmailData = z.infer<\n  typeof programInviteEmailDataSchema\n>;\n\nexport type ProgramLanderData = z.infer<typeof programLanderSchema>;\n\nexport type ProgramApplicationFormData = z.infer<\n  typeof programApplicationFormSchema\n>;\n\nexport type ProgramApplicationFormDataWithValues = z.infer<\n  typeof programApplicationFormDataWithValuesSchema\n>;\n\nexport type ProgramApplicationFormFieldWithValues = z.infer<\n  typeof programApplicationFormFieldWithValuesSchema",
            "cost": 0.13753
        },
        "dubinc__dub.main/apps/web/ui/modals/delete-group-modal.tsx": {
            "output": "import { mutatePrefix } from \"@/lib/swr/mutate\";\nimport { useApiMutation } from \"@/lib/swr/use-api-mutation\";\nimport { GroupExtendedProps } from \"@/lib/types\";\nimport { Button, Modal, useMediaQuery } from \"@dub/ui\";\nimport { pluralize } from \"@dub/utils\";\nimport { Users } from \"lucide-react\";\nimport { FormEvent, useCallback, useMemo, useState } from \"react\";\nimport { toast } from \"sonner\";\nimport { GroupColorCircle } from \"../partners/groups/group-color-circle\";\n\ninterface DeleteGroupModalProps {\n  group: Pick<GroupExtendedProps, \"id\" | \"name\" | \"color\" | \"totalPartners\">;\n  showModal: boolean;\n  setShowModal: (showModal: boolean) => void;\n  onDelete?: () => void;\n}\n\nconst DeleteGroupModal = ({\n  group,\n  showModal,\n  setShowModal,\n  onDelete,\n}: DeleteGroupModalProps) => {\n  const { isMobile } = useMediaQuery();\n  const { makeRequest: deleteGroup, isSubmitting } = useApiMutation();\n\n  const onSubmit = async (e: FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n\n    await deleteGroup(`/api/groups/${group.id}`, {\n      method: \"DELETE\",\n      onSuccess: async () => {\n        setShowModal(false);\n        await mutatePrefix(\"/api/groups\");\n        toast.success(\"Group deleted successfully!\");\n        onDelete?.();\n      },\n    });\n  };\n\n  return (\n    <Modal showModal={showModal} setShowModal={setShowModal}>\n      <div className=\"border-b border-neutral-200 px-4 py-4 sm:px-6\">\n        <h3 className=\"truncate text-lg font-medium\">Delete group</h3>\n      </div>\n\n      <div className=\"bg-neutral-50\">\n        <form onSubmit={onSubmit}>\n          <div className=\"flex flex-col gap-y-4 px-4 py-6 text-left sm:px-6\">\n            <div className=\"flex flex-col gap-2 rounded-xl border border-neutral-200 bg-neutral-50 px-6 py-4\">\n              <div className=\"flex items-center gap-2\">\n                <GroupColorCircle group={group} />\n                <h4 className=\"truncate text-lg font-semibold text-neutral-900\">\n                  {group.name}\n                </h4>\n              </div>\n\n              <div className=\"flex items-center gap-2\">\n                <Users className=\"size-4\" />\n                <span className=\"text-content-default text-sm font-medium\">\n                  {group.totalPartners}{\" \"}\n                  {pluralize(\"partner\", group.totalPartners)}\n                </span>\n              </div>\n            </div>\n\n            <div className=\"text-sm font-normal text-neutral-800\">\n              <h4>Deleting this group will do the following:</h4>\n\n              <ul className=\"mt-0.5 list-outside list-disc space-y-px pl-4\">\n                <li>Rewards created for this group will be deleted.</li>\n                <li>Discount created for this group will be deleted.</li>\n\n                {group.totalPartners && group.totalPartners > 0 ? (\n                  <>\n                    <li>\n                      Partners in this group will be moved to your{\" \"}\n                      <strong>Default</strong> group.\n                    </li>\n                    <li>\n                      Partners in this group will have their rewards and\n                      discount updated to the <strong>Default</strong> group\n                      settings.\n                    </li>\n                  </>\n                ) : null}\n              </ul>\n\n              <p className=\"mt-4\">\n                This action cannot be undone \u2013 proceed with caution.\n              </p>\n            </div>\n\n            <div className=\"border-t border-neutral-300\"></div>\n\n            <div>\n              <div className=\"flex items-center gap-2\">\n                <p className=\"block text-sm text-neutral-500\">\n                  To verify, type{\" \"}\n                  <span className=\"font-medium text-neutral-700\">\n                    Delete group\n                  </span>{\" \"}\n                  below\n                </p>\n              </div>\n\n              <div className=\"mt-2\">\n                <div className=\"-m-1 rounded-[0.625rem] p-1\">\n                  <input\n                    type=\"text\"\n                    required\n                    autoComplete=\"off\"\n                    className=\"block w-full rounded-md border-neutral-300 text-neutral-900 placeholder-neutral-400 focus:border-neutral-500 focus:outline-none focus:ring-neutral-500 sm:text-sm\"\n                    aria-invalid=\"true\"\n                    autoFocus={!isMobile}\n                    pattern=\"Delete group\"\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"flex justify-end gap-2 border-t border-neutral-200 px-4 py-4 sm:px-6\">\n            <Button\n              type=\"button\"\n              variant=\"secondary\"\n              text=\"Cancel\"\n              className=\"h-9 w-fit\"\n              onClick={() => setShowModal(false)}\n              disabled={isSubmitting}\n            />\n            <Button\n              type=\"submit\"\n              text=\"Delete group\"\n              variant=\"danger\"\n              loading={isSubmitting}\n              className=\"h-9 w-fit\"\n            />\n          </div>\n        </form>\n      </div>\n    </Modal>\n  );\n};\n\nexport function useDeleteGroupModal(\n  group: Pick<GroupExtendedProps, \"id\" | \"name\" | \"color\" | \"totalPartners\">,\n  onDelete?: () => void,\n) {\n  const [showDeleteGroupModal, setShowDeleteGroupModal] = useState(false);\n\n  const DeleteGroupModalCallback = useCallback(() => {\n    return (\n      <DeleteGroupModal\n        showModal={showDeleteGroupModal}\n        setShowModal={setShowDeleteGroupModal}\n        group={group}\n        onDelete={onDelete}\n      />\n    );\n  }, [showDeleteGroupModal, setShowDeleteGroupModal, onDelete, group]);\n\n  return useMemo(\n    () => ({\n      setShowDeleteGroupModal,\n      DeleteGroupModal: DeleteGroupModalCallback,\n    }),\n    [setShowDeleteGroupModal, DeleteGroupModalCallback],\n  );\n}",
            "output_extracted": "import { mutatePrefix } from \"@/lib/swr/mutate\";\nimport { useApiMutation } from \"@/lib/swr/use-api-mutation\";\nimport { GroupExtendedProps } from \"@/lib/types\";\nimport { Button, Modal, useMediaQuery } from \"@dub/ui\";\nimport { pluralize } from \"@dub/utils\";\nimport { Users } from \"lucide-react\";\nimport { FormEvent, useCallback, useMemo, useState } from \"react\";\nimport { toast } from \"sonner\";\nimport { GroupColorCircle } from \"../partners/groups/group-color-circle\";\n\ninterface DeleteGroupModalProps {\n  group: Pick<GroupExtendedProps, \"id\" | \"name\" | \"color\" | \"totalPartners\">;\n  showModal: boolean;\n  setShowModal: (showModal: boolean) => void;\n  onDelete?: () => void;\n}\n\nconst DeleteGroupModal = ({\n  group,\n  showModal,\n  setShowModal,\n  onDelete,\n}: DeleteGroupModalProps) => {\n  const { isMobile } = useMediaQuery();\n  const { makeRequest: deleteGroup, isSubmitting } = useApiMutation();\n\n  const onSubmit = async (e: FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n\n    await deleteGroup(`/api/groups/${group.id}`, {\n      method: \"DELETE\",\n      onSuccess: async () => {\n        setShowModal(false);\n        await mutatePrefix(\"/api/groups\");\n        toast.success(\"Group deleted successfully!\");\n        onDelete?.();\n      },\n    });\n  };\n\n  return (\n    <Modal showModal={showModal} setShowModal={setShowModal}>\n      <div className=\"border-b border-neutral-200 px-4 py-4 sm:px-6\">\n        <h3 className=\"truncate text-lg font-medium\">Delete group</h3>\n      </div>\n\n      <div className=\"bg-neutral-50\">\n        <form onSubmit={onSubmit}>\n          <div className=\"flex flex-col gap-y-4 px-4 py-6 text-left sm:px-6\">\n            <div className=\"flex flex-col gap-2 rounded-xl border border-neutral-200 bg-neutral-50 px-6 py-4\">\n              <div className=\"flex items-center gap-2\">\n                <GroupColorCircle group={group} />\n                <h4 className=\"truncate text-lg font-semibold text-neutral-900\">\n                  {group.name}\n                </h4>\n              </div>\n\n              <div className=\"flex items-center gap-2\">\n                <Users className=\"size-4\" />\n                <span className=\"text-content-default text-sm font-medium\">\n                  {group.totalPartners}{\" \"}\n                  {pluralize(\"partner\", group.totalPartners)}\n                </span>\n              </div>\n            </div>\n\n            <div className=\"text-sm font-normal text-neutral-800\">\n              <h4>Deleting this group will do the following:</h4>\n\n              <ul className=\"mt-0.5 list-outside list-disc space-y-px pl-4\">\n                <li>Rewards created for this group will be deleted.</li>\n                <li>Discount created for this group will be deleted.</li>\n\n                {group.totalPartners && group.totalPartners > 0 ? (\n                  <>\n                    <li>\n                      Partners in this group will be moved to your{\" \"}\n                      <strong>Default</strong> group.\n                    </li>\n                    <li>\n                      Partners in this group will have their rewards and\n                      discount updated to the <strong>Default</strong> group\n                      settings.\n                    </li>\n                  </>\n                ) : null}\n              </ul>\n\n              <p className=\"mt-4\">\n                This action cannot be undone \u2013 proceed with caution.\n              </p>\n            </div>\n\n            <div className=\"border-t border-neutral-300\"></div>\n\n            <div>\n              <div className=\"flex items-center gap-2\">\n                <p className=\"block text-sm text-neutral-500\">\n                  To verify, type{\" \"}\n                  <span className=\"font-medium text-neutral-700\">\n                    Delete group\n                  </span>{\" \"}\n                  below\n                </p>\n              </div>\n\n              <div className=\"mt-2\">\n                <div className=\"-m-1 rounded-[0.625rem] p-1\">\n                  <input\n                    type=\"text\"\n                    required\n                    autoComplete=\"off\"\n                    className=\"block w-full rounded-md border-neutral-300 text-neutral-900 placeholder-neutral-400 focus:border-neutral-500 focus:outline-none focus:ring-neutral-500 sm:text-sm\"\n                    aria-invalid=\"true\"\n                    autoFocus={!isMobile}\n                    pattern=\"Delete group\"\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"flex justify-end gap-2 border-t border-neutral-200 px-4 py-4 sm:px-6\">\n            <Button\n              type=\"button\"\n              variant=\"secondary\"\n              text=\"Cancel\"\n              className=\"h-9 w-fit\"\n              onClick={() => setShowModal(false)}\n              disabled={isSubmitting}\n            />\n            <Button\n              type=\"submit\"\n              text=\"Delete group\"\n              variant=\"danger\"\n              loading={isSubmitting}\n              className=\"h-9 w-fit\"\n            />\n          </div>\n        </form>\n      </div>\n    </Modal>\n  );\n};\n\nexport function useDeleteGroupModal(\n  group: Pick<GroupExtendedProps, \"id\" | \"name\" | \"color\" | \"totalPartners\">,\n  onDelete?: () => void,\n) {\n  const [showDeleteGroupModal, setShowDeleteGroupModal] = useState(false);\n\n  const DeleteGroupModalCallback = useCallback(() => {\n    return (\n      <DeleteGroupModal\n        showModal={showDeleteGroupModal}\n        setShowModal={setShowDeleteGroupModal}\n        group={group}\n        onDelete={onDelete}\n      />\n    );\n  }, [showDeleteGroupModal, setShowDeleteGroupModal, onDelete, group]);\n\n  return useMemo(\n    () => ({\n      setShowDeleteGroupModal,\n      DeleteGroupModal: DeleteGroupModalCallback,\n    }),\n    [setShowDeleteGroupModal, DeleteGroupModalCallback],\n  );\n}",
            "cost": 0.053935
        }
    },
    "recover_status": "success",
    "instance_ref": {
        "instance_id": "dubinc__dub.main.3036",
        "repo": "dubinc/dub",
        "base_commit": "6784533571d3339f600df223f9c3981d71a6b9a2",
        "head_commit": "46bb84dcc801607b8b285be7453b6023a633067f",
        "title": "Groups tests",
        "merged_at": "2025-10-31T17:46:03Z",
        "html_url": "https://github.com/dubinc/dub/pull/3036",
        "test_files": [
            "apps/web/tests/partner-groups/index.test.ts"
        ],
        "code_files": [
            "apps/web/lib/types.ts",
            "apps/web/ui/modals/delete-group-modal.tsx"
        ],
        "total_changes": 168,
        "num_files": 3,
        "pull_number": 3036,
        "patch": "diff --git a/apps/web/lib/types.ts b/apps/web/lib/types.ts\nindex e49bf22c85a..93e1b0674fe 100644\n--- a/apps/web/lib/types.ts\n+++ b/apps/web/lib/types.ts\n@@ -442,7 +442,6 @@ export type PartnerProps = z.infer<typeof PartnerSchema> & {\n };\n \n export type PartnerUserProps = z.infer<typeof partnerUserSchema>;\n-\n export type PartnerProfileCustomerProps = z.infer<\n   typeof PartnerProfileCustomerSchema\n >;\n@@ -480,7 +479,6 @@ export type ProgramApplicationFormDataWithValues = z.infer<\n export type ProgramApplicationFormFieldWithValues = z.infer<\n   typeof programApplicationFormFieldWithValuesSchema\n >;\n-\n export type ProgramEnrollmentProps = z.infer<typeof ProgramEnrollmentSchema>;\n \n export type PayoutsCount = {\ndiff --git a/apps/web/tests/partner-groups/index.test.ts b/apps/web/tests/partner-groups/index.test.ts\nnew file mode 100644\nindex 00000000000..42c4770621c\n--- /dev/null\n+++ b/apps/web/tests/partner-groups/index.test.ts\n@@ -0,0 +1,162 @@\n+import { generateRandomName } from \"@/lib/names\";\n+import {\n+  GroupExtendedProps,\n+  GroupProps,\n+  GroupWithProgramProps,\n+} from \"@/lib/types\";\n+import { GroupSchema } from \"@/lib/zod/schemas/groups\";\n+import { RESOURCE_COLORS } from \"@/ui/colors\";\n+import { randomValue } from \"@dub/utils\";\n+import slugify from \"@sindresorhus/slugify\";\n+import { describe, expect, test } from \"vitest\";\n+import { IntegrationHarness } from \"../utils/integration\";\n+\n+const expectedGroup: Partial<GroupProps> = {\n+  id: expect.any(String),\n+  name: expect.any(String),\n+  slug: expect.any(String),\n+  color: expect.any(String),\n+  clickReward: null,\n+  leadReward: null,\n+  saleReward: null,\n+  discount: null,\n+  maxPartnerLinks: 10,\n+  linkStructure: \"short\",\n+  additionalLinks: expect.any(Array),\n+};\n+\n+describe.sequential(\"/groups/**\", async () => {\n+  const h = new IntegrationHarness();\n+  const { http } = await h.init();\n+\n+  let group: GroupProps;\n+\n+  test(\"POST /groups - create group\", async () => {\n+    const groupName = generateRandomName();\n+\n+    const newGroup = {\n+      name: `E2E-${groupName}`,\n+      slug: slugify(groupName),\n+      color: randomValue(RESOURCE_COLORS),\n+    };\n+\n+    const { status, data } = await http.post<GroupProps>({\n+      path: \"/groups\",\n+      body: newGroup,\n+    });\n+\n+    expect(status).toEqual(201);\n+    expect(() => GroupSchema.parse(data)).not.toThrow();\n+    expect(data).toStrictEqual({\n+      ...expectedGroup,\n+      ...newGroup,\n+    });\n+\n+    group = data;\n+  });\n+\n+  test(\"GET /groups/[groupId] - fetch single group\", async () => {\n+    const { status, data } = await http.get<GroupWithProgramProps>({\n+      path: `/groups/${group.id}`,\n+    });\n+\n+    const {\n+      applicationFormData,\n+      applicationFormPublishedAt,\n+      landerData,\n+      landerPublishedAt,\n+      program,\n+      ...fetchedGroup\n+    } = data;\n+\n+    expect(status).toEqual(200);\n+    expect(fetchedGroup).toStrictEqual({\n+      ...group,\n+      utmTemplate: null,\n+    });\n+  });\n+\n+  test(\"PATCH /groups/[groupId] - update group\", async () => {\n+    const toUpdate = {\n+      name: `E2E-${generateRandomName()}`,\n+      color: randomValue(RESOURCE_COLORS),\n+      maxPartnerLinks: 5,\n+      linkStructure: \"query\",\n+      additionalLinks: [\n+        {\n+          domain: \"example.com\",\n+          path: \"\",\n+          validationMode: \"domain\",\n+        },\n+        {\n+          domain: \"acme.com\",\n+          path: \"/products\",\n+          validationMode: \"exact\",\n+        },\n+      ],\n+    };\n+\n+    const { status, data: updatedGroup } = await http.patch<GroupProps>({\n+      path: `/groups/${group.id}`,\n+      body: toUpdate,\n+    });\n+\n+    expect(status).toEqual(200);\n+    expect(updatedGroup).toStrictEqual({\n+      ...group,\n+      ...toUpdate,\n+    });\n+\n+    group = updatedGroup;\n+  });\n+\n+  test(\"GET /groups - fetch all groups\", async () => {\n+    const { status, data: groups } = await http.get<GroupExtendedProps[]>({\n+      path: \"/groups\",\n+    });\n+\n+    expect(status).toEqual(200);\n+    expect(Array.isArray(groups)).toBe(true);\n+    expect(groups.length).toBeGreaterThan(0);\n+\n+    const fetchedGroup = groups.find((g) => g.id === group.id);\n+\n+    expect(fetchedGroup).toStrictEqual({\n+      id: group.id,\n+      name: group.name,\n+      slug: group.slug,\n+      color: group.color,\n+      additionalLinks: group.additionalLinks,\n+      maxPartnerLinks: group.maxPartnerLinks,\n+      linkStructure: group.linkStructure,\n+      totalPartners: 0,\n+      totalClicks: 0,\n+      totalLeads: 0,\n+      totalSales: 0,\n+      totalSaleAmount: 0,\n+      totalConversions: 0,\n+      totalCommissions: 0,\n+      netRevenue: 0,\n+    });\n+  });\n+\n+  test(\"DELETE /groups/[groupId] - delete group\", async () => {\n+    const { status, data } = await http.delete<{ id: string }>({\n+      path: `/groups/${group.id}`,\n+    });\n+\n+    expect(status).toEqual(200);\n+    expect(data).toStrictEqual({\n+      id: group.id,\n+    });\n+\n+    const { status: getStatus } = await http.get({\n+      path: `/groups/${group.id}`,\n+    });\n+\n+    expect(getStatus).toEqual(404);\n+  });\n+});\n+\n+// TODO(kiran):\n+// Add more test cases to test the default link creation and group move\ndiff --git a/apps/web/ui/modals/delete-group-modal.tsx b/apps/web/ui/modals/delete-group-modal.tsx\nindex f86ce304765..253b7c36e4d 100644\n--- a/apps/web/ui/modals/delete-group-modal.tsx\n+++ b/apps/web/ui/modals/delete-group-modal.tsx\n@@ -98,7 +98,7 @@ const DeleteGroupModal = ({\n                 <p className=\"block text-sm text-neutral-500\">\n                   To verify, type{\" \"}\n                   <span className=\"font-medium text-neutral-700\">\n-                    Delete group\n+                    confirm delete group\n                   </span>{\" \"}\n                   below\n                 </p>\n@@ -113,7 +113,7 @@ const DeleteGroupModal = ({\n                     className=\"block w-full rounded-md border-neutral-300 text-neutral-900 placeholder-neutral-400 focus:border-neutral-500 focus:outline-none focus:ring-neutral-500 sm:text-sm\"\n                     aria-invalid=\"true\"\n                     autoFocus={!isMobile}\n-                    pattern=\"Delete group\"\n+                    pattern=\"confirm delete group\"\n                   />\n                 </div>\n               </div>\n",
        "pr_mirror": "dubinc__dub.main"
    }
}