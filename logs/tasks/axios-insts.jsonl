{"repo": "axios/axios", "pull_number": 7229, "instance_id": "axios__axios-7229", "issue_numbers": [], "base_commit": "860e03396a536e9b926dacb6570732489c9d7012", "patch": "diff --git a/lib/adapters/http.js b/lib/adapters/http.js\nindex 28d3d2bb64..dfa6386d32 100755\n--- a/lib/adapters/http.js\n+++ b/lib/adapters/http.js\n@@ -816,8 +816,6 @@ export default isHttpAdapterSupported && function httpAdapter(config) {\n \n     // Handle errors\n     req.on('error', function handleRequestError(err) {\n-      // @todo remove\n-      // if (req.aborted && err.code !== AxiosError.ERR_FR_TOO_MANY_REDIRECTS) return;\n       reject(AxiosError.from(err, null, config, req));\n     });\n \n", "test_patch": "", "problem_statement": "", "hints_text": "", "created_at": "2025-11-17T06:47:46Z"}
{"repo": "axios/axios", "pull_number": 7218, "instance_id": "axios__axios-7218", "issue_numbers": ["7208"], "base_commit": "7f1fe572504606db075207372c43431b7e87d7fb", "patch": "diff --git a/MIGRATION_GUIDE.md b/MIGRATION_GUIDE.md\nindex ec3ae0da9b..2e59d9d445 100644\n--- a/MIGRATION_GUIDE.md\n+++ b/MIGRATION_GUIDE.md\n@@ -1,3 +1,877 @@\n-# Migration Guide\n+# Axios Migration Guide\n \n-## 0.x.x -> 1.1.0\n+> **Migrating from Axios 0.x to 1.x**\n+> \n+> This guide helps developers upgrade from Axios 0.x to 1.x by documenting breaking changes, providing migration strategies, and offering solutions to common upgrade challenges.\n+\n+## Table of Contents\n+\n+- [Overview](#overview)\n+- [Breaking Changes](#breaking-changes)\n+- [Error Handling Migration](#error-handling-migration)\n+- [API Changes](#api-changes)\n+- [Configuration Changes](#configuration-changes)\n+- [Migration Strategies](#migration-strategies)\n+- [Common Patterns](#common-patterns)\n+- [Troubleshooting](#troubleshooting)\n+- [Resources](#resources)\n+\n+## Overview\n+\n+Axios 1.x introduced several breaking changes to improve consistency, security, and developer experience. While these changes provide better error handling and more predictable behavior, they require code updates when migrating from 0.x versions.\n+\n+### Key Changes Summary\n+\n+| Area | 0.x Behavior | 1.x Behavior | Impact |\n+|------|--------------|--------------|--------|\n+| Error Handling | Selective throwing | Consistent throwing | High |\n+| JSON Parsing | Lenient | Strict | Medium |\n+| Browser Support | IE11+ | Modern browsers | Low-Medium |\n+| TypeScript | Partial | Full support | Low |\n+\n+### Migration Complexity\n+\n+- **Simple applications**: 1-2 hours\n+- **Medium applications**: 1-2 days  \n+- **Large applications with complex error handling**: 3-5 days\n+\n+## Breaking Changes\n+\n+### 1. Error Handling Changes\n+\n+**The most significant change in Axios 1.x is how errors are handled.**\n+\n+#### 0.x Behavior\n+```javascript\n+// Axios 0.x - Some HTTP error codes didn't throw\n+axios.get('/api/data')\n+  .then(response => {\n+    // Response interceptor could handle all errors\n+    console.log('Success:', response.data);\n+  });\n+\n+// Response interceptor handled everything\n+axios.interceptors.response.use(\n+  response => response,\n+  error => {\n+    handleError(error);\n+    // Error was \"handled\" and didn't propagate\n+  }\n+);\n+```\n+\n+#### 1.x Behavior\n+```javascript\n+// Axios 1.x - All HTTP errors throw consistently\n+axios.get('/api/data')\n+  .then(response => {\n+    console.log('Success:', response.data);\n+  })\n+  .catch(error => {\n+    // Must handle errors at call site or they propagate\n+    console.error('Request failed:', error);\n+  });\n+\n+// Response interceptor must re-throw or return rejected promise\n+axios.interceptors.response.use(\n+  response => response,\n+  error => {\n+    handleError(error);\n+    // Must explicitly handle propagation\n+    return Promise.reject(error); // or throw error;\n+  }\n+);\n+```\n+\n+#### Impact\n+- **Response interceptors** can no longer \"swallow\" errors silently\n+- **Every API call** must handle errors explicitly or they become unhandled promise rejections\n+- **Centralized error handling** requires new patterns\n+\n+### 2. JSON Parsing Changes\n+\n+#### 0.x Behavior\n+```javascript\n+// Axios 0.x - Lenient JSON parsing\n+// Would attempt to parse even invalid JSON\n+response.data; // Might contain partial data or fallbacks\n+```\n+\n+#### 1.x Behavior\n+```javascript\n+// Axios 1.x - Strict JSON parsing\n+// Throws clear errors for invalid JSON\n+try {\n+  const data = response.data;\n+} catch (error) {\n+  // Handle JSON parsing errors explicitly\n+}\n+```\n+\n+### 3. Request/Response Transform Changes\n+\n+#### 0.x Behavior\n+```javascript\n+// Implicit transformations with some edge cases\n+transformRequest: [function (data) {\n+  // Less predictable behavior\n+  return data;\n+}]\n+```\n+\n+#### 1.x Behavior\n+```javascript\n+// More consistent transformation pipeline\n+transformRequest: [function (data, headers) {\n+  // Headers parameter always available\n+  // More predictable behavior\n+  return data;\n+}]\n+```\n+\n+### 4. Browser Support Changes\n+\n+- **0.x**: Supported IE11 and older browsers\n+- **1.x**: Requires modern browsers with Promise support\n+- **Polyfills**: May be needed for older browser support\n+\n+## Error Handling Migration\n+\n+The error handling changes are the most complex part of migrating to Axios 1.x. Here are proven strategies:\n+\n+### Strategy 1: Centralized Error Handling with Error Boundary\n+\n+```javascript\n+// Create a centralized error handler\n+class ApiErrorHandler {\n+  constructor() {\n+    this.setupInterceptors();\n+  }\n+\n+  setupInterceptors() {\n+    axios.interceptors.response.use(\n+      response => response,\n+      error => {\n+        // Centralized error processing\n+        this.processError(error);\n+        \n+        // Return a resolved promise with error info for handled errors\n+        if (this.isHandledError(error)) {\n+          return Promise.resolve({\n+            data: null,\n+            error: this.normalizeError(error),\n+            handled: true\n+          });\n+        }\n+        \n+        // Re-throw unhandled errors\n+        return Promise.reject(error);\n+      }\n+    );\n+  }\n+\n+  processError(error) {\n+    // Log errors\n+    console.error('API Error:', error);\n+    \n+    // Show user notifications\n+    if (error.response?.status === 401) {\n+      this.handleAuthError();\n+    } else if (error.response?.status >= 500) {\n+      this.showErrorNotification('Server error occurred');\n+    }\n+  }\n+\n+  isHandledError(error) {\n+    // Define which errors are \"handled\" centrally\n+    const handledStatuses = [401, 403, 404, 422, 500, 502, 503];\n+    return handledStatuses.includes(error.response?.status);\n+  }\n+\n+  normalizeError(error) {\n+    return {\n+      status: error.response?.status,\n+      message: error.response?.data?.message || error.message,\n+      code: error.response?.data?.code || error.code\n+    };\n+  }\n+\n+  handleAuthError() {\n+    // Redirect to login, clear tokens, etc.\n+    localStorage.removeItem('token');\n+    window.location.href = '/login';\n+  }\n+\n+  showErrorNotification(message) {\n+    // Show user-friendly error message\n+    console.error(message); // Replace with your notification system\n+  }\n+}\n+\n+// Initialize globally\n+const errorHandler = new ApiErrorHandler();\n+\n+// Usage in components/services\n+async function fetchUserData(userId) {\n+  try {\n+    const response = await axios.get(`/api/users/${userId}`);\n+    \n+    // Check if error was handled centrally\n+    if (response.handled) {\n+      return { data: null, error: response.error };\n+    }\n+    \n+    return { data: response.data, error: null };\n+  } catch (error) {\n+    // Unhandled errors still need local handling\n+    return { data: null, error: { message: 'Unexpected error occurred' } };\n+  }\n+}\n+```\n+\n+### Strategy 2: Wrapper Function Pattern\n+\n+```javascript\n+// Create a wrapper that provides 0.x-like behavior\n+function createApiWrapper() {\n+  const api = axios.create();\n+  \n+  // Add response interceptor for centralized handling\n+  api.interceptors.response.use(\n+    response => response,\n+    error => {\n+      // Handle common errors centrally\n+      if (error.response?.status === 401) {\n+        // Handle auth errors\n+        handleAuthError();\n+      }\n+      \n+      if (error.response?.status >= 500) {\n+        // Handle server errors\n+        showServerErrorNotification();\n+      }\n+      \n+      // Always reject to maintain error propagation\n+      return Promise.reject(error);\n+    }\n+  );\n+\n+  // Wrapper function that mimics 0.x behavior\n+  function safeRequest(requestConfig, options = {}) {\n+    return api(requestConfig)\n+      .then(response => response)\n+      .catch(error => {\n+        if (options.suppressErrors) {\n+          // Return error info instead of throwing\n+          return {\n+            data: null,\n+            error: {\n+              status: error.response?.status,\n+              message: error.response?.data?.message || error.message\n+            }\n+          };\n+        }\n+        throw error;\n+      });\n+  }\n+\n+  return { safeRequest, axios: api };\n+}\n+\n+// Usage\n+const { safeRequest } = createApiWrapper();\n+\n+// For calls where you want centralized error handling\n+const result = await safeRequest(\n+  { method: 'get', url: '/api/data' },\n+  { suppressErrors: true }\n+);\n+\n+if (result.error) {\n+  // Handle error case\n+  console.log('Request failed:', result.error.message);\n+} else {\n+  // Handle success case\n+  console.log('Data:', result.data);\n+}\n+```\n+\n+### Strategy 3: Global Error Handler with Custom Events\n+\n+```javascript\n+// Set up global error handling with events\n+class GlobalErrorHandler extends EventTarget {\n+  constructor() {\n+    super();\n+    this.setupInterceptors();\n+  }\n+\n+  setupInterceptors() {\n+    axios.interceptors.response.use(\n+      response => response,\n+      error => {\n+        // Emit custom event for global handling\n+        this.dispatchEvent(new CustomEvent('apiError', {\n+          detail: { error, timestamp: new Date() }\n+        }));\n+\n+        // Always reject to maintain proper error flow\n+        return Promise.reject(error);\n+      }\n+    );\n+  }\n+}\n+\n+const globalErrorHandler = new GlobalErrorHandler();\n+\n+// Set up global listeners\n+globalErrorHandler.addEventListener('apiError', (event) => {\n+  const { error } = event.detail;\n+  \n+  // Centralized error logic\n+  if (error.response?.status === 401) {\n+    handleAuthError();\n+  }\n+  \n+  if (error.response?.status >= 500) {\n+    showErrorNotification('Server error occurred');\n+  }\n+});\n+\n+// Usage remains clean\n+async function apiCall() {\n+  try {\n+    const response = await axios.get('/api/data');\n+    return response.data;\n+  } catch (error) {\n+    // Error was already handled globally\n+    // Just handle component-specific logic\n+    return null;\n+  }\n+}\n+```\n+\n+## API Changes\n+\n+### Request Configuration\n+\n+#### 0.x to 1.x Changes\n+```javascript\n+// 0.x - Some properties had different defaults\n+const config = {\n+  timeout: 0, // No timeout by default\n+  maxContentLength: -1, // No limit\n+};\n+\n+// 1.x - More secure defaults\n+const config = {\n+  timeout: 0, // Still no timeout, but easier to configure\n+  maxContentLength: 2000, // Default limit for security\n+  maxBodyLength: 2000, // New property\n+};\n+```\n+\n+### Response Object\n+\n+The response object structure remains largely the same, but error responses are more consistent:\n+\n+```javascript\n+// Both 0.x and 1.x\n+response = {\n+  data: {}, // Response body\n+  status: 200, // HTTP status\n+  statusText: 'OK', // HTTP status message  \n+  headers: {}, // Response headers\n+  config: {}, // Request config\n+  request: {} // Request object\n+};\n+\n+// Error responses are more consistent in 1.x\n+error.response = {\n+  data: {}, // Error response body\n+  status: 404, // HTTP error status\n+  statusText: 'Not Found',\n+  headers: {},\n+  config: {},\n+  request: {}\n+};\n+```\n+\n+## Configuration Changes\n+\n+### Default Configuration Updates\n+\n+```javascript\n+// 0.x defaults\n+axios.defaults.timeout = 0; // No timeout\n+axios.defaults.maxContentLength = -1; // No limit\n+\n+// 1.x defaults (more secure)\n+axios.defaults.timeout = 0; // Still no timeout\n+axios.defaults.maxContentLength = 2000; // 2MB limit\n+axios.defaults.maxBodyLength = 2000; // 2MB limit\n+```\n+\n+### Instance Configuration\n+\n+```javascript\n+// 0.x - Instance creation\n+const api = axios.create({\n+  baseURL: 'https://api.example.com',\n+  timeout: 1000,\n+});\n+\n+// 1.x - Same API, but more options available\n+const api = axios.create({\n+  baseURL: 'https://api.example.com',\n+  timeout: 1000,\n+  maxBodyLength: Infinity, // Override default if needed\n+  maxContentLength: Infinity,\n+});\n+```\n+\n+## Migration Strategies\n+\n+### Step-by-Step Migration Process\n+\n+#### Phase 1: Preparation\n+1. **Audit Current Error Handling**\n+   ```bash\n+   # Find all axios usage\n+   grep -r \"axios\\.\" src/\n+   grep -r \"\\.catch\" src/\n+   grep -r \"interceptors\" src/\n+   ```\n+\n+2. **Identify Patterns**\n+   - Response interceptors that handle errors\n+   - Components that rely on centralized error handling\n+   - Authentication and retry logic\n+\n+3. **Create Test Cases**\n+   ```javascript\n+   // Test current error handling behavior\n+   describe('Error Handling Migration', () => {\n+     it('should handle 401 errors consistently', async () => {\n+       // Test authentication error flows\n+     });\n+     \n+     it('should handle 500 errors with user feedback', async () => {\n+       // Test server error handling\n+     });\n+   });\n+   ```\n+\n+#### Phase 2: Implementation\n+1. **Update Dependencies**\n+   ```bash\n+   npm update axios\n+   ```\n+\n+2. **Implement New Error Handling**\n+   - Choose one of the strategies above\n+   - Update response interceptors\n+   - Add error handling to API calls\n+\n+3. **Update Authentication Logic**\n+   ```javascript\n+   // 0.x pattern\n+   axios.interceptors.response.use(null, error => {\n+     if (error.response?.status === 401) {\n+       logout();\n+       // Error was \"handled\"\n+     }\n+   });\n+\n+   // 1.x pattern\n+   axios.interceptors.response.use(\n+     response => response,\n+     error => {\n+       if (error.response?.status === 401) {\n+         logout();\n+       }\n+       return Promise.reject(error); // Always propagate\n+     }\n+   );\n+   ```\n+\n+#### Phase 3: Testing and Validation\n+1. **Test Error Scenarios**\n+   - Network failures\n+   - HTTP error codes (401, 403, 404, 500, etc.)\n+   - Timeout errors\n+   - JSON parsing errors\n+\n+2. **Validate User Experience**\n+   - Error messages are shown appropriately\n+   - Authentication redirects work\n+   - Loading states are handled correctly\n+\n+### Gradual Migration Approach\n+\n+For large applications, consider gradual migration:\n+\n+```javascript\n+// Create a compatibility layer\n+const axiosCompat = {\n+  // Use new axios instance for new code\n+  v1: axios.create({\n+    // 1.x configuration\n+  }),\n+  \n+  // Wrapper for legacy code\n+  legacy: createLegacyWrapper(axios.create({\n+    // Configuration that mimics 0.x behavior\n+  }))\n+};\n+\n+function createLegacyWrapper(axiosInstance) {\n+  // Add interceptors that provide 0.x-like behavior\n+  axiosInstance.interceptors.response.use(\n+    response => response,\n+    error => {\n+      // Handle errors in 0.x style for legacy code\n+      handleLegacyError(error);\n+      // Don't propagate certain errors\n+      if (shouldSuppressError(error)) {\n+        return Promise.resolve({ data: null, error: true });\n+      }\n+      return Promise.reject(error);\n+    }\n+  );\n+  \n+  return axiosInstance;\n+}\n+```\n+\n+## Common Patterns\n+\n+### Authentication Interceptors\n+\n+#### Updated Authentication Pattern\n+```javascript\n+// Token refresh interceptor for 1.x\n+let isRefreshing = false;\n+let refreshSubscribers = [];\n+\n+function subscribeTokenRefresh(cb) {\n+  refreshSubscribers.push(cb);\n+}\n+\n+function onTokenRefreshed(token) {\n+  refreshSubscribers.forEach(cb => cb(token));\n+  refreshSubscribers = [];\n+}\n+\n+axios.interceptors.response.use(\n+  response => response,\n+  async error => {\n+    const originalRequest = error.config;\n+    \n+    if (error.response?.status === 401 && !originalRequest._retry) {\n+      if (isRefreshing) {\n+        // Wait for token refresh\n+        return new Promise(resolve => {\n+          subscribeTokenRefresh(token => {\n+            originalRequest.headers.Authorization = `Bearer ${token}`;\n+            resolve(axios(originalRequest));\n+          });\n+        });\n+      }\n+      \n+      originalRequest._retry = true;\n+      isRefreshing = true;\n+      \n+      try {\n+        const newToken = await refreshToken();\n+        onTokenRefreshed(newToken);\n+        isRefreshing = false;\n+        \n+        originalRequest.headers.Authorization = `Bearer ${newToken}`;\n+        return axios(originalRequest);\n+      } catch (refreshError) {\n+        isRefreshing = false;\n+        logout();\n+        return Promise.reject(refreshError);\n+      }\n+    }\n+    \n+    return Promise.reject(error);\n+  }\n+);\n+```\n+\n+### Retry Logic\n+\n+```javascript\n+// Retry interceptor for 1.x\n+function createRetryInterceptor(maxRetries = 3, retryDelay = 1000) {\n+  return axios.interceptors.response.use(\n+    response => response,\n+    async error => {\n+      const config = error.config;\n+      \n+      if (!config || !config.retry) {\n+        return Promise.reject(error);\n+      }\n+      \n+      config.__retryCount = config.__retryCount || 0;\n+      \n+      if (config.__retryCount >= maxRetries) {\n+        return Promise.reject(error);\n+      }\n+      \n+      config.__retryCount += 1;\n+      \n+      // Exponential backoff\n+      const delay = retryDelay * Math.pow(2, config.__retryCount - 1);\n+      await new Promise(resolve => setTimeout(resolve, delay));\n+      \n+      return axios(config);\n+    }\n+  );\n+}\n+\n+// Usage\n+const api = axios.create();\n+createRetryInterceptor(3, 1000);\n+\n+// Make request with retry\n+api.get('/api/data', { retry: true });\n+```\n+\n+### Loading State Management\n+\n+```javascript\n+// Loading interceptor for 1.x\n+class LoadingManager {\n+  constructor() {\n+    this.requests = new Set();\n+    this.setupInterceptors();\n+  }\n+  \n+  setupInterceptors() {\n+    axios.interceptors.request.use(config => {\n+      this.requests.add(config);\n+      this.updateLoadingState();\n+      return config;\n+    });\n+    \n+    axios.interceptors.response.use(\n+      response => {\n+        this.requests.delete(response.config);\n+        this.updateLoadingState();\n+        return response;\n+      },\n+      error => {\n+        this.requests.delete(error.config);\n+        this.updateLoadingState();\n+        return Promise.reject(error);\n+      }\n+    );\n+  }\n+  \n+  updateLoadingState() {\n+    const isLoading = this.requests.size > 0;\n+    // Update your loading UI\n+    document.body.classList.toggle('loading', isLoading);\n+  }\n+}\n+\n+const loadingManager = new LoadingManager();\n+```\n+\n+## Troubleshooting\n+\n+### Common Migration Issues\n+\n+#### Issue 1: Unhandled Promise Rejections\n+\n+**Problem:**\n+```javascript\n+// This pattern worked in 0.x but causes unhandled rejections in 1.x\n+axios.get('/api/data'); // No .catch() handler\n+```\n+\n+**Solution:**\n+```javascript\n+// Always handle promises\n+axios.get('/api/data')\n+  .catch(error => {\n+    // Handle error appropriately\n+    console.error('Request failed:', error.message);\n+  });\n+\n+// Or use async/await with try/catch\n+async function fetchData() {\n+  try {\n+    const response = await axios.get('/api/data');\n+    return response.data;\n+  } catch (error) {\n+    console.error('Request failed:', error.message);\n+    return null;\n+  }\n+}\n+```\n+\n+#### Issue 2: Response Interceptors Not \"Handling\" Errors\n+\n+**Problem:**\n+```javascript\n+// 0.x style - interceptor \"handled\" errors\n+axios.interceptors.response.use(null, error => {\n+  showErrorMessage(error.message);\n+  // Error was considered \"handled\"\n+});\n+```\n+\n+**Solution:**\n+```javascript\n+// 1.x style - explicitly control error propagation\n+axios.interceptors.response.use(\n+  response => response,\n+  error => {\n+    showErrorMessage(error.message);\n+    \n+    // Choose whether to propagate the error\n+    if (shouldPropagateError(error)) {\n+      return Promise.reject(error);\n+    }\n+    \n+    // Return success-like response for \"handled\" errors\n+    return Promise.resolve({\n+      data: null,\n+      handled: true,\n+      error: normalizeError(error)\n+    });\n+  }\n+);\n+```\n+\n+#### Issue 3: JSON Parsing Errors\n+\n+**Problem:**\n+```javascript\n+// 1.x is stricter about JSON parsing\n+// This might throw where 0.x was lenient\n+const data = response.data;\n+```\n+\n+**Solution:**\n+```javascript\n+// Add response transformer for better error handling\n+axios.defaults.transformResponse = [\n+  function (data) {\n+    if (typeof data === 'string') {\n+      try {\n+        return JSON.parse(data);\n+      } catch (e) {\n+        // Handle JSON parsing errors gracefully\n+        console.warn('Invalid JSON response:', data);\n+        return { error: 'Invalid JSON', rawData: data };\n+      }\n+    }\n+    return data;\n+  }\n+];\n+```\n+\n+#### Issue 4: TypeScript Errors After Upgrade\n+\n+**Problem:**\n+```typescript\n+// TypeScript errors after upgrade\n+const response = await axios.get('/api/data');\n+// Property 'someProperty' does not exist on type 'any'\n+```\n+\n+**Solution:**\n+```typescript\n+// Define proper interfaces\n+interface ApiResponse {\n+  data: any;\n+  message: string;\n+  success: boolean;\n+}\n+\n+const response = await axios.get<ApiResponse>('/api/data');\n+// Now properly typed\n+console.log(response.data.data);\n+```\n+\n+### Debug Migration Issues\n+\n+#### Enable Debug Logging\n+```javascript\n+// Add request/response logging\n+axios.interceptors.request.use(config => {\n+  console.log('Request:', config);\n+  return config;\n+});\n+\n+axios.interceptors.response.use(\n+  response => {\n+    console.log('Response:', response);\n+    return response;\n+  },\n+  error => {\n+    console.log('Error:', error);\n+    return Promise.reject(error);\n+  }\n+);\n+```\n+\n+#### Compare Behavior\n+```javascript\n+// Create side-by-side comparison during migration\n+const axios0x = require('axios-0x'); // Keep old version for testing\n+const axios1x = require('axios');\n+\n+async function compareRequests(config) {\n+  try {\n+    const [result0x, result1x] = await Promise.allSettled([\n+      axios0x(config),\n+      axios1x(config)\n+    ]);\n+    \n+    console.log('0.x result:', result0x);\n+    console.log('1.x result:', result1x);\n+  } catch (error) {\n+    console.log('Comparison error:', error);\n+  }\n+}\n+```\n+\n+## Resources\n+\n+### Official Documentation\n+- [Axios 1.x Documentation](https://axios-http.com/)\n+- [Axios GitHub Repository](https://github.com/axios/axios)\n+- [Axios Changelog](https://github.com/axios/axios/blob/main/CHANGELOG.md)\n+\n+### Migration Tools\n+- [Axios Migration Codemod](https://github.com/axios/axios-migration-codemod) *(if available)*\n+- [ESLint Rules for Axios 1.x](https://github.com/axios/eslint-plugin-axios) *(if available)*\n+\n+### Community Resources\n+- [Stack Overflow - Axios Migration Questions](https://stackoverflow.com/questions/tagged/axios+migration)\n+- [GitHub Discussions](https://github.com/axios/axios/discussions)\n+- [Axios Discord Community](https://discord.gg/axios) *(if available)*\n+\n+### Related Issues\n+- [Error Handling Changes Discussion](https://github.com/axios/axios/issues/7208)\n+- [Migration Guide Request](https://github.com/axios/axios/issues/xxxx) *(link to related issues)*\n+\n+---\n+\n+## Need Help?\n+\n+If you encounter issues during migration that aren't covered in this guide:\n+\n+1. **Search existing issues** in the [Axios GitHub repository](https://github.com/axios/axios/issues)\n+2. **Ask questions** in [GitHub Discussions](https://github.com/axios/axios/discussions)\n+3. **Contribute improvements** to this migration guide\n+\n+---\n+\n+*This migration guide is maintained by the community. If you find errors or have suggestions, please [open an issue](https://github.com/axios/axios/issues) or submit a pull request.*\n\\ No newline at end of file\n", "test_patch": "", "problem_statement": "Lack of documentation on breaking changes from 0.x to 1.x \u2014 what changed with error handling?\n### Section/Content To Improve\n\nMore specifically, I see error handling changed and there's no clear path forward.\n\nAs mentioned in a [post from 2023](https://github.com/axios/axios/discussions/5818), Axios now throws up for many error codes where it didn't before.\n\nIn my specific case, errors were handled centralized in a response interceptor, and now it looks like I'll have to add empty and meaningless `.catch()` calls in _every. API. call._ Is there any other way to signal an error as handled, so it doesn't get thrown? Should I open an issue to request that, or it doesn't make any sense?\n\nBesides that, there's a `MIGRATION_GUIDE.md` in the repo......... empty \ud83d\ude2c\nLastly, the changelog doesn't help to explain what changed on the big picture, just each code change that happened. Nothing there pointed me to this change in error handling, so I got a bit puzzled... until I tried to work around it and realized it wasn't really achievable without deeper changes.\n\n### Suggested Improvement\n\n1. Even though there are years since 1.x got launched, there should still be docs at least with breaking changes between releases\n2. `MIGRATION_GUIDE.md` should be filled, as it's even mentioned at https://axios-http.com/docs/notes\n3. Add the Migration Guide to the sidebar; it should be a first-class citizen in the docs, not relegated to an odd place like a link under \"Other > Notes > Resources\"\n\nBonus question: is there anything that can be done to still centralize error handling in interceptors?\n\n### Relevant File(s)\n\n```bash\nMIGRATION_GUIDE.md\n```\n", "hints_text": "Hello @igorsantos07,\nI\u2019m interested in working on this issue. Could you please assign it to me?\nSorry @ashvin2005, I'm not a member of the repo, just a humble ~complainer~ issue reporter \ud83d\ude05 \n\nNonetheless, I guess anyone interested will open the story and see your interest on it, so I think your comment is enough by now haha\n\nCheers!\nHi @davecardwell,\nI\u2019ve raised PR #7218\n to address issue #7208.\nPlease review it when you get a chance and merge if it looks good. Thanks!", "created_at": "2025-11-10T07:59:54Z"}
{"repo": "axios/axios", "pull_number": 7215, "instance_id": "axios__axios-7215", "issue_numbers": [], "base_commit": "095033c626895ecdcda2288050b63dcf948db3bd", "patch": "diff --git a/CONTRIBUTING.md b/CONTRIBUTING.md\nindex 23cfc79aaf..a19cee2cb0 100644\n--- a/CONTRIBUTING.md\n+++ b/CONTRIBUTING.md\n@@ -20,9 +20,9 @@ Please update the [documentation](https://axios-http.com/docs/intro) accordingly\n \n ## Developing\n \n-- `npm run test` run the jasmine and mocha tests\n-- `npm run build` run rollup and bundle the source\n-- `npm run version` prepare the code for release\n+- `npm run test` runs the jasmine and mocha tests\n+- `npm run build` runs rollup and bundles the source\n+- `npm run version` prepares the code for release\n \n ## Running Examples\n \ndiff --git a/ECOSYSTEM.md b/ECOSYSTEM.md\nindex e6886c8f9b..b0257fe330 100644\n--- a/ECOSYSTEM.md\n+++ b/ECOSYSTEM.md\n@@ -9,7 +9,7 @@ This is a list of axios related libraries and resources. If you have a suggestio\n * [axios-vcr](https://github.com/nettofarah/axios-vcr) - \ud83d\udcfc Record and Replay Axios requests\n * [@3846masa/axios-cookiejar-support](https://github.com/3846masa/axios-cookiejar-support) - Add tough-cookie support to axios\n * [axios-method-override](https://github.com/jacobbuck/axios-method-override) - Axios http request method override plugin\n-* [axios-cache-plugin](https://github.com/jin5354/axios-cache-plugin) - Help you cache GET request when using axios.\n+* [axios-cache-plugin](https://github.com/jin5354/axios-cache-plugin) - Help you cache GET requests when using axios.\n * [axios-extensions](https://github.com/kuitos/axios-extensions) - A collection of axios extensions, including throttle and cache GET request plugin.\n * [axios-fetch](https://github.com/lifeomic/axios-fetch) - A WebAPI Fetch implementation backed by an Axios client\n * [axios-actions](https://github.com/davestewart/axios-actions) - Bundle endpoints as callable, reusable services\n@@ -17,7 +17,7 @@ This is a list of axios related libraries and resources. If you have a suggestio\n * [axios-data-unpacker](https://github.com/anubhavsrivastava/axios-data-unpacker) - Axios interceptor that unpacks HTTP responses so that you can focus on actual server data.\n * [r2curl](https://github.com/uyu423/r2curl) - Extracts the cURL command string from the Axios object. (AxiosResponse, AxiosRequestConfig)\n * [swagger-taxos-codegen](https://github.com/michalzaq12/swagger-taxos-codegen) - Axios based Swagger Codegen (tailored for typescript)\n-* [axios-endpoints](https://github.com/renancaraujo/axios-endpoints) - Axios endpoints helps you to create a more concise endpoint mapping with axios.\n+* [axios-endpoints](https://github.com/renancaraujo/axios-endpoints) - Axios endpoints help you to create a more concise endpoint mapping with axios.\n * [axios-multi-api](https://github.com/MattCCC/axios-multi-api) - Easy API handling whenever there are many endpoints to add. It helps to make Axios requests in an easy and declarative manner.\n * [axios-url-template](https://github.com/rafw87/axios-url-template) - Axios interceptor adding support for URL templates.\n * [zodios](https://www.zodios.org) - Typesafe API client based on axios\n@@ -39,7 +39,7 @@ This is a list of axios related libraries and resources. If you have a suggestio\n ### Unit testing\n \n * [axiosist](https://github.com/Gerhut/axiosist) - Axios based supertest: convert node.js request handler to axios adapter, used for node.js server unit test.\n-* [axios-mock-adapter](https://github.com/ctimmerm/axios-mock-adapter) \u2014 Axios adapter that allows to easily mock requests\n+* [axios-mock-adapter](https://github.com/ctimmerm/axios-mock-adapter) \u2014 Axios adapter that allows for easily mocking requests\n * [axios-test-instance](https://github.com/remcohaszing/axios-test-instance) \u2014 Test NodeJS backends using Axios\n * [moxios](https://github.com/axios/moxios) - Mock axios requests for testing\n * [mocha-axios](https://github.com/jdrydn/mocha-axios) - Streamlined integration testing with Mocha & Axios\ndiff --git a/README.md b/README.md\nindex 5e08671482..090cf6e076 100644\n--- a/README.md\n+++ b/README.md\n@@ -161,7 +161,7 @@ import axios from 'axios';\n console.log(axios.isCancel('something'));\n ````\n \n-If you use `require` for importing, **only default export is available**:\n+If you use `require` for importing, **only the default export is available**:\n \n ```js\n const axios = require('axios');\n@@ -367,9 +367,9 @@ These are the available config options for making requests. Only the `url` is re\n   // `method` is the request method to be used when making the request\n   method: 'get', // default\n \n-  // `baseURL` will be prepended to `url` unless `url` is absolute and option `allowAbsoluteUrls` is set to true.\n+  // `baseURL` will be prepended to `url` unless `url` is absolute and the option `allowAbsoluteUrls` is set to true.\n   // It can be convenient to set `baseURL` for an instance of axios to pass relative URLs\n-  // to methods of that instance.\n+  // to the methods of that instance.\n   baseURL: 'https://some-domain.com/api/',\n \n   // `allowAbsoluteUrls` determines whether or not absolute URLs will override a configured `baseUrl`.\n@@ -411,7 +411,7 @@ These are the available config options for making requests. Only the `url` is re\n     // Custom encoder function which sends key/value pairs in an iterative fashion.\n     encode?: (param: string): string => { /* Do custom operations here and return transformed string */ },\n \n-    // Custom serializer function for the entire parameter. Allows user to mimic pre 1.x behaviour.\n+    // Custom serializer function for the entire parameter. Allows the user to mimic pre 1.x behaviour.\n     serialize?: (params: Record<string, any>, options?: ParamsSerializerOptions ),\n \n     // Configuration for formatting array indexes in the params.\n@@ -419,8 +419,8 @@ These are the available config options for making requests. Only the `url` is re\n   },\n \n   // `data` is the data to be sent as the request body\n-  // Only applicable for request methods 'PUT', 'POST', 'DELETE , and 'PATCH'\n-  // When no `transformRequest` is set, must be of one of the following types:\n+  // Only applicable for request methods 'PUT', 'POST', 'DELETE', and 'PATCH'\n+  // When no `transformRequest` is set, it must be of one of the following types:\n   // - string, plain object, ArrayBuffer, ArrayBufferView, URLSearchParams\n   // - Browser only: FormData, File, Blob\n   // - Node only: Stream, Buffer, FormData (form-data package)\n@@ -472,7 +472,7 @@ These are the available config options for making requests. Only the `url` is re\n   // 'utf8', 'UTF8', 'utf16le', 'UTF16LE'\n   responseEncoding: 'utf8', // default\n \n-  // `xsrfCookieName` is the name of the cookie to use as a value for xsrf token\n+  // `xsrfCookieName` is the name of the cookie to use as a value for the xsrf token\n   xsrfCookieName: 'XSRF-TOKEN', // default\n \n   // `xsrfHeaderName` is the name of the http header that carries the xsrf token value\n@@ -551,7 +551,7 @@ These are the available config options for making requests. Only the `url` is re\n   // Use `false` to disable proxies, ignoring environment variables.\n   // `auth` indicates that HTTP Basic auth should be used to connect to the proxy, and\n   // supplies credentials.\n-  // This will set an `Proxy-Authorization` header, overwriting any existing\n+  // This will set a `Proxy-Authorization` header, overwriting any existing\n   // `Proxy-Authorization` custom headers you have set using `headers`.\n   // If the proxy server uses HTTPS, then you must set the protocol to `https`.\n   proxy: {\n@@ -623,7 +623,7 @@ These are the available config options for making requests. Only the `url` is re\n \n ## Response Schema\n \n-The response for a request contains the following information.\n+The response to a request contains the following information.\n \n ```js\n {\n@@ -722,20 +722,20 @@ const instance = axios.create();\n \n // Add a request interceptor\n instance.interceptors.request.use(function (config) {\n-    // Do something before request is sent\n+    // Do something before the request is sent\n     return config;\n   }, function (error) {\n-    // Do something with request error\n+    // Do something with the request error\n     return Promise.reject(error);\n   });\n \n // Add a response interceptor\n instance.interceptors.response.use(function (response) {\n-    // Any status code that lie within the range of 2xx cause this function to trigger\n+    // Any status code that lies within the range of 2xx causes this function to trigger\n     // Do something with response data\n     return response;\n   }, function (error) {\n-    // Any status codes that falls outside the range of 2xx cause this function to trigger\n+    // Any status codes that fall outside the range of 2xx cause this function to trigger\n     // Do something with response error\n     return Promise.reject(error);\n   });\n@@ -767,7 +767,7 @@ instance.interceptors.request.use(function () {/*...*/});\n \n When you add request interceptors, they are presumed to be asynchronous by default. This can cause a delay\n in the execution of your axios request when the main thread is blocked (a promise is created under the hood for\n-the interceptor and your request gets put on the bottom of the call stack). If your request interceptors are synchronous you can add a flag\n+the interceptor and your request gets put at the bottom of the call stack). If your request interceptors are synchronous you can add a flag\n to the options object that will tell axios to run the code synchronously and avoid any delays in request execution.\n \n ```js\n@@ -793,7 +793,7 @@ axios.interceptors.request.use(function (config) {\n }, null, { runWhen: onGetCall });\n ```\n \n-> **Note:** options parameter(having `synchronous` and `runWhen` properties) is only supported for request interceptors at the moment.\n+> **Note:** The options parameter(having `synchronous` and `runWhen` properties) is only supported for request interceptors at the moment.\n \n ### Interceptor Execution Order\n \n@@ -832,7 +832,7 @@ instance.interceptors.response.use(interceptor('Response Interceptor 3'));\n \n ### Multiple Interceptors\n \n-Given you add multiple response interceptors\n+Given that you add multiple response interceptors\n and when the response was fulfilled\n - then each interceptor is executed\n - then they are executed in the order they were added\n@@ -843,11 +843,11 @@ and when the response was fulfilled\n     - then the following rejection-interceptor is called\n     - once caught, another following fulfill-interceptor is called again (just like in a promise chain).\n \n-Read [the interceptor tests](./test/specs/interceptors.spec.js) for seeing all this in code.\n+Read [the interceptor tests](./test/specs/interceptors.spec.js) to see all this in code.\n \n ## Error Types\n \n-There are many different axios error messages that can appear that can provide basic information about the specifics of the error and where opportunities may lie in debugging.\n+There are many different axios error messages that can appear which can provide basic information about the specifics of the error and where opportunities may lie in debugging.\n \n The general structure of axios errors is as follows:\n | Property  | Definition  |\n@@ -856,7 +856,7 @@ The general structure of axios errors is as follows:\n | name     | This defines where the error originated from. For axios, it will always be an 'AxiosError'. |\n | stack    | Provides the stack trace of the error. |\n | config   | An axios config object with specific instance configurations defined by the user from when the request was made |\n-| code     | Represents an axios identified error. The table below lists out specific definitions for internal axios error.  |\n+| code     | Represents an axios identified error. The table below lists specific definitions for internal axios error.  |\n | status   | HTTP response status code. See [here](https://en.wikipedia.org/wiki/List_of_HTTP_status_codes) for common HTTP response status code meanings.\n \n Below is a list of potential axios identified error:\n@@ -870,7 +870,7 @@ Below is a list of potential axios identified error:\n | ERR_INVALID_URL           | Invalid URL provided for axios request.                                                                                                                                                                                                                                                                                                                                                        |\n | ECONNABORTED              | Typically indicates that the request has been timed out (unless `transitional.clarifyTimeoutError` is set) or aborted by the browser or its plugin.                                                                                                                                                                                                                                            |\n | ERR_CANCELED              | Feature or method is canceled explicitly by the user using an AbortSignal (or a CancelToken).                                                                                                                                                                                                                                                                                                  |\n-| ETIMEDOUT                 | Request timed out due to exceeding default axios timelimit. `transitional.clarifyTimeoutError` must be set to `true`, otherwise a generic `ECONNABORTED` error will be thrown instead.                                                                                                                                                                                                         |\n+| ETIMEDOUT                 | Request timed out due to exceeding the default axios timelimit. `transitional.clarifyTimeoutError` must be set to `true`, otherwise a generic `ECONNABORTED` error will be thrown instead.                                                                                                                                                                                                         |\n | ERR_NETWORK               | Network-related issue. In the browser, this error can also be caused by a [CORS](https://developer.mozilla.org/ru/docs/Web/HTTP/Guides/CORS) or [Mixed Content](https://developer.mozilla.org/en-US/docs/Web/Security/Mixed_content) policy violation. The browser does not allow the JS code to clarify the real reason for the error caused by security issues, so please check the console. |\n | ERR_FR_TOO_MANY_REDIRECTS | Request is redirected too many times; exceeds max redirects specified in axios configuration.                                                                                                                                                                                                                                                                                                  |\n | ERR_BAD_RESPONSE          | Response cannot be parsed properly or is in an unexpected format. Usually related to a response with `5xx` status code.                                                                                                                                                                                                                                                                          |\n@@ -878,7 +878,7 @@ Below is a list of potential axios identified error:\n \n ## Handling Errors\n \n-the default behavior is to reject every response that returns with a status code that falls out of the range of 2xx and treat it as an error.\n+The default behavior is to reject every response that returns with a status code that falls out of the range of 2xx and treat it as an error.\n \n ```js\n axios.get('/user/12345')\n@@ -925,7 +925,7 @@ axios.get('/user/12345')\n \n ### AbortController\n \n-Starting from `v0.22.0` Axios supports AbortController to cancel requests in fetch API way:\n+Starting from `v0.22.0` Axios supports AbortController to cancel requests in a fetch API way:\n \n ```js\n const controller = new AbortController();\n@@ -1239,7 +1239,7 @@ All files will be sent with the same field names: `files[]`.\n \n ## \ud83c\udd95 HTML Form Posting (browser)\n \n-Pass HTML Form element as a payload to submit it as `multipart/form-data` content.\n+Pass an HTML Form element as a payload to submit it as `multipart/form-data` content.\n \n ```js\n await axios.postForm('https://httpbin.org/post', document.querySelector('#htmlForm'));\n@@ -1351,7 +1351,7 @@ const {data} = await axios.post(SERVER_URL, readableStream, {\n \n > **\u26a0\ufe0f Warning**\n > It is recommended to disable redirects by setting maxRedirects: 0 to upload the stream in the **node.js** environment,\n-> as follow-redirects package will buffer the entire stream in RAM without following the \"backpressure\" algorithm.\n+> as the follow-redirects package will buffer the entire stream in RAM without following the \"backpressure\" algorithm.\n \n \n ## \ud83c\udd95 Rate limiting\n@@ -1372,8 +1372,8 @@ const {data} = await axios.post(LOCAL_SERVER_URL, myBuffer, {\n \n Axios has its own `AxiosHeaders` class to manipulate headers using a Map-like API that guarantees caseless work.\n Although HTTP is case-insensitive in headers, Axios will retain the case of the original header for stylistic reasons\n-and for a workaround when servers mistakenly consider the header's case.\n-The old approach of directly manipulating headers object is still available, but deprecated and not recommended for future usage.\n+and as a workaround when servers mistakenly consider the header's case.\n+The old approach of directly manipulating the headers object is still available, but deprecated and not recommended for future usage.\n \n ### Working with headers\n \n@@ -1465,7 +1465,7 @@ set(headers?: RawAxiosHeaders | AxiosHeaders | string, rewrite?: boolean);\n ```\n \n The `rewrite` argument controls the overwriting behavior:\n-- `false` - do not overwrite if header's value is set (is not `undefined`)\n+- `false` - do not overwrite if the header's value is set (is not `undefined`)\n - `undefined` (default) - overwrite the header unless its value is set to `false`\n - `true` - rewrite anyway\n \n@@ -1554,7 +1554,7 @@ Returns `true` if at least one header has been cleared.\n If the headers object was changed directly, it can have duplicates with the same name but in different cases.\n This method normalizes the headers object by combining duplicate keys into one.\n Axios uses this method internally after calling each interceptor.\n-Set `format` to true for converting headers name to lowercase and capitalize the initial letters (`cOntEnt-type` => `Content-Type`)\n+Set `format` to true for converting header names to lowercase and capitalizing the initial letters (`cOntEnt-type` => `Content-Type`)\n \n ```js\n const headers = new AxiosHeaders({\n@@ -1587,7 +1587,7 @@ Returns a new `AxiosHeaders` instance.\n toJSON(asStrings?: boolean): RawAxiosHeaders;\n ````\n \n-Resolve all internal headers values into a new null prototype object.\n+Resolve all internal header values into a new null prototype object.\n Set `asStrings` to true to resolve arrays as a string containing all elements, separated by commas.\n \n ### AxiosHeaders.from(thing?)\n@@ -1643,7 +1643,7 @@ const fetchAxios = axios.create({\n const {data} = fetchAxios.get(url);\n ```\n \n-The adapter supports the same functionality as `xhr` adapter, **including upload and download progress capturing**.\n+The adapter supports the same functionality as the `xhr` adapter, **including upload and download progress capturing**.\n Also, it supports additional response types such as `stream` and `formdata` (if supported by the environment).\n \n ### \ud83d\udd25 Custom fetch\n", "test_patch": "", "problem_statement": "", "hints_text": "", "created_at": "2025-11-07T11:55:18Z"}
{"repo": "axios/axios", "pull_number": 7207, "instance_id": "axios__axios-7207", "issue_numbers": [], "base_commit": "8d372335f5c50ecd01e8615f2468a9eb19703117", "patch": "diff --git a/CHANGELOG.md b/CHANGELOG.md\nindex 56a6ae1c70..1e72305cb6 100644\n--- a/CHANGELOG.md\n+++ b/CHANGELOG.md\n@@ -1,5 +1,23 @@\n # Changelog\n \n+## [1.13.2](https://github.com/axios/axios/compare/v1.13.1...v1.13.2) (2025-11-04)\n+\n+\n+### Bug Fixes\n+\n+* **http:** fix 'socket hang up' bug for keep-alive requests when using timeouts; ([#7206](https://github.com/axios/axios/issues/7206)) ([8d37233](https://github.com/axios/axios/commit/8d372335f5c50ecd01e8615f2468a9eb19703117))\n+* **http:** use default export for http2 module to support stubs; ([#7196](https://github.com/axios/axios/issues/7196)) ([0588880](https://github.com/axios/axios/commit/0588880ac7ddba7594ef179930493884b7e90bf5))\n+\n+\n+### Performance Improvements\n+\n+* **http:** fix early loop exit; ([#7202](https://github.com/axios/axios/issues/7202)) ([12c314b](https://github.com/axios/axios/commit/12c314b603e7852a157e93e47edb626a471ba6c5))\n+\n+### Contributors to this release\n+\n+- <img src=\"https://avatars.githubusercontent.com/u/12586868?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Dmitriy Mozgovoy](https://github.com/DigitalBrainJS \"+28/-9 (#7206 #7202 )\")\n+- <img src=\"https://avatars.githubusercontent.com/u/1174718?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Kasper Isager Dalsgar\u00f0](https://github.com/kasperisager \"+9/-9 (#7196 )\")\n+\n ## [1.13.1](https://github.com/axios/axios/compare/v1.13.0...v1.13.1) (2025-10-28)\n \n \ndiff --git a/bower.json b/bower.json\nindex a8a10f4478..9a1f778b3e 100644\n--- a/bower.json\n+++ b/bower.json\n@@ -1,7 +1,7 @@\n {\n   \"name\": \"axios\",\n   \"main\": \"./dist/axios.js\",\n-  \"version\": \"1.13.1\",\n+  \"version\": \"1.13.2\",\n   \"homepage\": \"https://axios-http.com\",\n   \"authors\": [\n     \"Matt Zabriskie\"\ndiff --git a/lib/env/data.js b/lib/env/data.js\nindex d969ffe6dc..38dd6aac22 100644\n--- a/lib/env/data.js\n+++ b/lib/env/data.js\n@@ -1,1 +1,1 @@\n-export const VERSION = \"1.13.1\";\n\\ No newline at end of file\n+export const VERSION = \"1.13.2\";\n\\ No newline at end of file\ndiff --git a/package-lock.json b/package-lock.json\nindex 6a524e493e..4b3988d544 100644\n--- a/package-lock.json\n+++ b/package-lock.json\n@@ -1,12 +1,12 @@\n {\n   \"name\": \"axios\",\n-  \"version\": \"1.13.1\",\n+  \"version\": \"1.13.2\",\n   \"lockfileVersion\": 2,\n   \"requires\": true,\n   \"packages\": {\n     \"\": {\n       \"name\": \"axios\",\n-      \"version\": \"1.13.1\",\n+      \"version\": \"1.13.2\",\n       \"license\": \"MIT\",\n       \"dependencies\": {\n         \"follow-redirects\": \"^1.15.6\",\ndiff --git a/package.json b/package.json\nindex 35afb93bb9..f85fdb4766 100644\n--- a/package.json\n+++ b/package.json\n@@ -1,6 +1,6 @@\n {\n   \"name\": \"axios\",\n-  \"version\": \"1.13.1\",\n+  \"version\": \"1.13.2\",\n   \"description\": \"Promise based HTTP client for the browser and node.js\",\n   \"main\": \"index.js\",\n   \"exports\": {\n", "test_patch": "", "problem_statement": "", "hints_text": "", "created_at": "2025-11-04T19:23:38Z"}
{"repo": "axios/axios", "pull_number": 7206, "instance_id": "axios__axios-7206", "issue_numbers": ["6113"], "base_commit": "12c314b603e7852a157e93e47edb626a471ba6c5", "patch": "diff --git a/lib/adapters/http.js b/lib/adapters/http.js\nindex 524c278505..ccc89be66d 100755\n--- a/lib/adapters/http.js\n+++ b/lib/adapters/http.js\n@@ -858,6 +858,9 @@ export default isHttpAdapterSupported && function httpAdapter(config) {\n           req\n         ));\n       });\n+    } else {\n+      // explicitly reset the socket timeout value for a possible `keep-alive` request\n+      req.setTimeout(0);\n     }\n \n \n", "test_patch": "diff --git a/test/unit/adapters/http.js b/test/unit/adapters/http.js\nindex 6c4375a50b..864d29a3c5 100644\n--- a/test/unit/adapters/http.js\n+++ b/test/unit/adapters/http.js\n@@ -2682,6 +2682,21 @@ describe('supports http with nodejs', function () {\n       assert.strictEqual(await getStream(err.response.data), 'OK');\n     }\n   });\n+\n+  describe('keep-alive', () => {\n+    it('should not fail with \"socket hang up\" when using timeouts', async () => {\n+      server = await startHTTPServer(async (req, res) => {\n+        if (req.url === '/wait') {\n+          await new Promise(resolve => setTimeout(resolve, 5000));\n+        }\n+        res.end('ok');\n+      })\n+\n+      const baseURL = LOCAL_SERVER_URL;\n+      await axios.get('/1', {baseURL, timeout: 1000});\n+      await axios.get(`/wait`, {baseURL, timeout: 0});\n+    }, 15000);\n+  });\n });\n \n \n", "problem_statement": "HTTP Keep-alive, \"socket hang up\"  ECONNERR on a long-running second request\n### Describe the bug\r\n\r\nOn keep-alive connections, if a timeout value is given to the first request but not on subsequent requests, the subsequent requests will eventually throw a \"socket hang up\" error.\r\n\r\n### To Reproduce\r\n\r\n```js\r\nconst http = require('http');\r\nconst axios = require('axios');\r\n\r\ndescribe('socket hang up', () => {\r\n    let server;\r\n    beforeAll(done => {\r\n        server = http.createServer(async (req, res) => {\r\n            if (req.url === '/wait') {\r\n                await new Promise(resolve => setTimeout(resolve, 5000));\r\n            }\r\n            res.end('ok');\r\n        });\r\n        server.listen(3000, done);\r\n    });\r\n\r\n    afterAll(done => {\r\n        server.close(done);\r\n    });\r\n\r\n    it('will fail with \"socket hang up\"', async () => {\r\n        const baseURL = `http://localhost:3000`;\r\n        await axios.get('/1', {baseURL, timeout: 1000});\r\n        await axios.get(`/wait`, {baseURL, timeout: 0});\r\n    }, 15000);\r\n});\r\n```\r\n\r\n### Code snippet\r\n\r\n_No response_\r\n\r\n### Expected behavior\r\n\r\n1. \"socket hang up\" is misleading because it indicates the server closed the connection (in this bug the opposite is true)\r\n2. One would not expect that a timeout would keep running after a request has completed. This is a (quite major IMO) footgun.\r\n\r\n### Axios Version\r\n\r\n0.22.0 - 1.6.2\r\n\r\n### Adapter Version\r\n\r\nHTTP\r\n\r\n### Browser\r\n\r\n_No response_\r\n\r\n### Browser Version\r\n\r\n_No response_\r\n\r\n### Node.js Version\r\n\r\n20.9.0\r\n\r\n### OS\r\n\r\nOSX 14\r\n\r\n### Additional Library Versions\r\n\r\n_No response_\r\n\r\n### Additional context/Screenshots\r\n\r\n<img width=\"1456\" alt=\"tcpdump\" src=\"https://github.com/axios/axios/assets/100387231/a64c6544-4551-46ad-bb3e-1d9a6e9102b6\">\r\n\n", "hints_text": "We're also affected by this bug.\nCheers! I am affected with same bug, but can only reproduce it at Node 20.10, fallback to Node 18.18 works fine.\nThe cause of this issue is the way `follow-redirects` implements timeout. It has problems when dealing with keep-alive connections. A simple fix is to remove the `timeout` event handler when the request finishes, but I'm not sure this will work for all use-cases, as that library is mostly geared towards earlier node versions.\nSame issue here. Is there any workaround except a dumb retry?\n> Same issue here. Is there any workaround except a dumb retry?\r\n\r\n@NaZaRKIN123 Something like this would work:\r\n\r\n```typescript\r\naxios.defaults.httpAgent = new Agent({ keepAlive: false });\r\n```\r\n\r\n\nI can confirm that the workaround provided by @snarky-puppy worked for us \ud83d\ude4f\nThanks for the detail investigation. The keepAlive is needed on my project in order to reduce latency\r\nIn case we disable `follow-redirects`, would that be solved?\n+1\n+1\n+1\n+1\n> Cheers! I am affected with same bug, but can only reproduce it at Node 20.10, fallback to Node 18.18 works fine.\r\n\r\nThis is because of #6536. Short summary: Node.js changed its default Keep-Alive behavior after Node.js 18.\nI try following code in next.js _app.tsx, but not worked:\r\n\r\n```typescript\r\n// _app.tsx\r\nif (typeof window === 'undefined') {\r\n  /**\r\n   * @see https://github.com/axios/axios/issues/6113#issuecomment-1909291937\r\n   */\r\n  async function fixAxiosKeepAlive() {\r\n    const { default: axios } = await import('axios');\r\n    const { Agent } = await import('https');\r\n    axios.defaults.httpAgent = new Agent({ keepAlive: false });\r\n  }\r\n  fixAxiosKeepAlive();\r\n}\r\n```\r\n\r\nBecause of this issue, we have to revert from node 20 to 18, or we may try to remove the axios from our project. \n> ```ts\r\n> axios.defaults.httpsAgent = new Agent({ keepAlive: false });\r\n> ```\r\n@tjx666 you should replace `httpsAgent` (and `httpAgent` too if you use http, but it's a different class)\r\n\n+1\n+1\n+1\n+1\n+1\nAs I understand the issue is cause by a difference of default value between nodejs >= 20 and axios using follow-redirects.\r\nSo why we dont set up on node_modules/axios/dist/node/axios.cjs (I know its not the right place, the right place is near defaults into lib/defaults/index.js) a default value for matching default configuration of nodejs like this.\r\n\r\n```\r\n3002     if (config.insecureHTTPParser) {\r\n3003       options.insecureHTTPParser = config.insecureHTTPParser;\r\n3004     }\r\n\r\n3005     if (!options.agents.http) {                                                                              \r\n3006       options.agents.http = new http.Agent({ keepAlive: true, scheduling: 'lifo', timeout: 5000 });      \r\n3007       options.agents.https = new https.Agent({ keepAlive: true, scheduling: 'lifo', timeout: 5000 });\r\n3008     }\r\n\r\n```\r\n in this case if no agents are provide we will use agent by default with keepalive = true?\r\n\r\nI know that I can add for settings this default on my code, but I have to update many service, So I am wondering why this is not do on axios.\r\n\r\n```\r\naxios.defaults.httpAgent = new http.Agent({ keepAlive: true, scheduling: 'lifo', timeout: 5000 });\r\naxios.defaults.httpsAgent = new https.Agent({ keepAlive: true, scheduling: 'lifo', timeout: 5000 });\r\n```\r\n\r\nUsing \"axios-retry\" or \"node-fetch\" is not really for me a workaround, \r\n\r\n- retry will multiply call for nothing\r\n- and node-fetch is forget completely axios.\r\n\r\nUpdating all my code is a shame.\r\n\r\n\r\n\r\n\r\n\nI decide to never use axios because this serious issue\nsame thing for me, I took the opportunity to switch to native `fetch`.\nby doing like this its works like a charm\r\n\r\n```\r\ndiff --git a/lib/adapters/http.js b/lib/adapters/http.js\r\nindex da0a42d..6bd82a3 100755\r\n--- a/lib/adapters/http.js\r\n+++ b/lib/adapters/http.js\r\n@@ -413,7 +413,7 @@ export default isHttpAdapterSupported && function httpAdapter(config) {\r\n       path,\r\n       method: method,\r\n       headers: headers.toJSON(),\r\n-      agents: { http: config.httpAgent, https: config.httpsAgent },\r\n+      agents: { http: typeof config.httpAgent === 'function' ? config.httpAgent(http) : config.httpAgent, https: typeof config.httpsAgent === 'function' ? config.httpsAgent(https) : config.httpsAgent },\r\n       auth,\r\n       protocol,\r\n       family,\r\n@@ -434,7 +434,7 @@ export default isHttpAdapterSupported && function httpAdapter(config) {\r\n \r\n     let transport;\r\n     const isHttpsRequest = isHttps.test(options.protocol);\r\n-    options.agent = isHttpsRequest ? config.httpsAgent : config.httpAgent;\r\n+    options.agent = isHttpsRequest ? (typeof config.httpsAgent === 'function' ? config.httpsAgent(https) : config.httpsAgent) : (typeof config.httpAgent === 'function' ? config.httpAgent(http) : config.httpAgent);\r\n     if (config.transport) {\r\n       transport = config.transport;\r\n     } else if (config.maxRedirects === 0) {\r\ndiff --git a/lib/defaults/index.js b/lib/defaults/index.js\r\nindex e543fea..7e9782e 100644\r\n--- a/lib/defaults/index.js\r\n+++ b/lib/defaults/index.js\r\n@@ -151,7 +151,10 @@ const defaults = {\r\n       'Accept': 'application/json, text/plain, */*',\r\n       'Content-Type': undefined\r\n     }\r\n-  }\r\n+  },\r\n+\r\n+  httpAgent: (http) => new http.Agent({ keepAlive: true, scheduling: 'lifo', timeout: 5000 }),\r\n+  httpsAgent: (https) => new https.Agent({ keepAlive: true, scheduling: 'lifo', timeout: 5000 })\r\n };\r\n \r\n utils.forEach(['delete', 'get', 'head', 'post', 'put', 'patch'], (method) => {\r\n\r\n```\r\nThe idea is to setup defaut agent as nodejs do since version 20\r\n\nwill start looking into how we can fix this\nsame issue\nHello, just find out the same issue was causing a socket hangup today. Fix from @snarky-puppy solved the issue.\r\n\r\nI think a lot of people is guessing if should switch to a native solution based on what's happening here.\nany updates on this guys?\n> will start looking into how we can fix this\n\nHello Guys, how are you? Do you have updates?\n> > Same issue here. Is there any workaround except a dumb retry?\n> \n> [@NaZaRKIN123](https://github.com/NaZaRKIN123) Something like this would work:\n> \n> axios.defaults.httpAgent = new Agent({ keepAlive: false });\n\n@NaZaRKIN123 Why would this fix it if the default is a disabled keepAlive? \ud83e\udd14  \n\nInterestingly, I tried it for some endpoints and haven't got any new alerts since then. But I cannot reason or justify this change yet \ud83e\udd14  Both [Axios](https://github.com/axios/axios/blob/32c7bcc0f233285ba27dec73a4b1e81fb7a219b3/README.md?plain=1#L546-L550) and [Node's HTTP agent](https://nodejs.org/api/http.html#new-agentoptions) have the keepAlive disabled by default.\n> Why would this fix it if the default is a disabled keepAlive? \n\n@7onn This problem is caused by the fact that in node v20 [they turned on the keep-alive option on the default HTTP agent](https://github.com/nodejs/node/blob/a7f648c8ba77b542dff20e717ab3e005425fa1a6/lib/_http_agent.js#L546), while their default scheduling algorithm has a fairly high probability of race conditions, in which the client may get a nearly expired socket that has actually already been closed on the server side, which causes a socket usage error. \n\n```js\nconst instance = axios.create({\n  httpAgent: new http.Agent({ keepAlive: false}),\n  httpsAgent: new https.Agent({ keepAlive: false})\n});\n```\nIt would be hard to fix anything from the Axios side, since this is a problem inside the node.js, unless you write your own UserAgent and scheduler, which would be useless as soon as the node maintainers fixed this problem, so it was logical to just wait and manually disable `keepAlive`.\nFrom what I can see in the node.js codebase, [5 months ago they finally pushed a fix](https://github.com/nodejs/node/blame/5c83957601e16137c0ef925191435199bb8d40e1/lib/_http_agent.js#L482C2-L490) to provide a hard-coded 1000ms safety time window, which I believe should solve the problem in most cases.\n\n\n\n\n\n\nI use it actually for react native and experimenting that same delay for continuous request, are any way tho change that of keepAlive on axios for react native?\nclosing as per @DigitalBrainJS comment, will add this to be documented\nas of 2025/9/15,  axios 0.22.0+  {keepAlive: false}  do not work for me.  \nBut 0.21.4 is working.\nThe api is just about 10 seconds, not too long,  so tricky\n\n\n-----\nas of 2025/9/17, this should work.  I my project,  httpsAgent is set in another request which is not set keepAlive:false,   after reset all httpsAgent  httpAgent, It works for http request.  but not for https request.\n\n-----\nthis bug have existed for many years,  use fetch instead finally. This should be axios and nodejs compatibility bug. Upgrate to nodejs v20.19.5 still not work.\n@DigitalBrainJS According to [this PR](https://github.com/nodejs/node/pull/55170) the [\"fix\"](https://github.com/nodejs/node/blame/5c83957601e16137c0ef925191435199bb8d40e1/lib/_http_agent.js#L482C2-L490) in node you mentioned made it into node 20.18.0. We are running on node 20.18.0 with axios 1.9.0 and still receive a lot of ECONNERR and \"socket hang up\" errors in production. \n\nSince axios is supporting `fetch` since 1.7.0 it might be best option to switch the adapter to `fetch`, which then uses `undici` under the hood in node which according to [this thread](https://github.com/nodejs/node/issues/47130) does not have such issues.\n\nWe are currently in the process of rolling this out to our production environment. So I will report in a few weeks whether this switch fixed our problems. \n@yss14 thanks, please update us when you are ready!\n@jasonsaayman I can already give you an update on this, since the change is now rolled out for a few days on our production environment.\nUnfortunately, this didn't solve the problem for use. The errors now reported by Sentry turned into undici specific socket errors `other side closed`. So it seems like we have a different problem in our microservice infrastructure which I now have to investigate further.", "created_at": "2025-11-03T22:52:03Z"}
{"repo": "axios/axios", "pull_number": 7203, "instance_id": "axios__axios-7203", "issue_numbers": [], "base_commit": "0588880ac7ddba7594ef179930493884b7e90bf5", "patch": "diff --git a/README.md b/README.md\nindex e9d886e00c..d81981f630 100644\n--- a/README.md\n+++ b/README.md\n@@ -5,11 +5,8 @@\n </td></tr><tr width=\"33.333333333333336%\"><td align=\"center\" width=\"33.333333333333336%\"> <a href=\"https://www.descope.com/?utm_source&#x3D;axios&amp;utm_medium&#x3D;referral&amp;utm_campaign&#x3D;axios-oss-sponsorship\" style=\"padding: 10px; display: inline-block\" target=\"_blank\"> <picture> <source width=\"200px\" height=\"52px\" media=\"(prefers-color-scheme: dark)\" srcset=\"https://axios-http.com/assets/sponsors/descope_white.png\"> <img width=\"200px\" height=\"52px\" src=\"https://axios-http.com/assets/sponsors/descope.png\" alt=\"Descope\"/> </picture> </a> <p align=\"center\" title=\"Hi, we&#x27;re Descope! We are building something in the authentication space for app developers and can\u2019t wait to place it in your hands.\">Hi, we&#x27;re Descope! We are building something in the authentication space for app developers and...</p> <p align=\"center\"> <a href=\"https://www.descope.com/?utm_source&#x3D;axios&amp;utm_medium&#x3D;referral&amp;utm_campaign&#x3D;axios-oss-sponsorship\" target=\"_blank\"><b>Website</b></a> | <a href=\"https://docs.descope.com/?utm_source&#x3D;axios&amp;utm_medium&#x3D;referral&amp;utm_campaign&#x3D;axios-oss-sponsorship\" target=\"_blank\"><b>Docs</b></a> | <a href=\"https://www.descope.com/community?utm_source&#x3D;axios&amp;utm_medium&#x3D;referral&amp;utm_campaign&#x3D;axios-oss-sponsorship\" target=\"_blank\"><b>Community</b></a> </p>\n </td><td align=\"center\" width=\"33.333333333333336%\"> <a href=\"https://route4me.com/?utm_source&#x3D;axios&amp;utm_medium&#x3D;sponsorlist&amp;utm_campaign&#x3D;sponsorship\" style=\"padding: 10px; display: inline-block\" target=\"_blank\"> <picture> <source width=\"200px\" height=\"51px\" media=\"(prefers-color-scheme: dark)\" srcset=\"https://axios-http.com/assets/sponsors/route4me_white.png\"> <img width=\"200px\" height=\"51px\" src=\"https://axios-http.com/assets/sponsors/route4me.png\" alt=\"Route4Me\"/> </picture> </a> <p align=\"center\" title=\"Best Route Planning And Route Optimization Software\">Best Route Planning And Route Optimization Software</p> <p align=\"center\"> <a href=\"https://route4me.com/platform/route-optimization-software?utm_source&#x3D;axios&amp;utm_medium&#x3D;readme_sponsorlist&amp;utm_campaign&#x3D;sponsorship\" target=\"_blank\"><b>Explore</b></a> | <a href=\"https://route4me.com/platform/marketplace/pricing?utm_source&#x3D;axios&amp;utm_medium&#x3D;readme_sponsorlist&amp;utm_campaign&#x3D;sponsorship\" target=\"_blank\"><b>Free Trial</b></a> | <a href=\"https://route4me.com/contact?utm_source&#x3D;axios&amp;utm_medium&#x3D;readme_sponsorlist&amp;utm_campaign&#x3D;sponsorship\" target=\"_blank\"><b>Contact</b></a> </p>\n </td><td align=\"center\" width=\"33.333333333333336%\"> <a href=\"https://buzzoid.com/buy-instagram-followers/?utm_source&#x3D;axios&amp;utm_medium&#x3D;sponsorlist&amp;utm_campaign&#x3D;sponsorship\" style=\"padding: 10px; display: inline-block\" target=\"_blank\"> <img width=\"62px\" height=\"70px\" src=\"https://axios-http.com/assets/sponsors/opencollective/e1625cb54e10ee40180c99d1495a462e9d6664a4.png\" alt=\"Buzzoid - Buy Instagram Followers\"/> </a> <p align=\"center\" title=\"At Buzzoid, you can buy Instagram followers quickly, safely, and easily with just a few clicks. Rated world&#x27;s #1 IG service since 2012.\">At Buzzoid, you can buy Instagram followers quickly, safely, and easily with just a few clicks. Rate...</p> <p align=\"center\"> <a href=\"https://buzzoid.com/buy-instagram-followers/?utm_source&#x3D;axios&amp;utm_medium&#x3D;readme_sponsorlist&amp;utm_campaign&#x3D;sponsorship\" target=\"_blank\"><b>buzzoid.com</b></a> </p>\n-</td></tr><tr width=\"33.333333333333336%\"><td align=\"center\" width=\"33.333333333333336%\"> <a href=\"https://www.famety.net/?utm_source&#x3D;axios&amp;utm_medium&#x3D;sponsorlist&amp;utm_campaign&#x3D;sponsorship\" style=\"padding: 10px; display: inline-block\" target=\"_blank\"> <img width=\"70px\" height=\"70px\" src=\"https://axios-http.com/assets/sponsors/opencollective/56645c65d4bad0ab84265e02430d19d64afde927.png\" alt=\"Famety - Buy Instagram Followers\"/> </a> <p align=\"center\" title=\"At Famety, you can grow your social media following quickly, safely, and easily with just a few clicks. Rated the world\u2019s #1 social media service since 2013.\">At Famety, you can grow your social media following quickly, safely, and easily with just a few clic...</p> <p align=\"center\"> <a href=\"https://www.famety.net/?utm_source&#x3D;axios&amp;utm_medium&#x3D;readme_sponsorlist&amp;utm_campaign&#x3D;sponsorship\" target=\"_blank\"><b>www.famety.net</b></a> </p>\n-</td><td align=\"center\" width=\"33.333333333333336%\"> <a href=\"https://poprey.com/?utm_source&#x3D;axios&amp;utm_medium&#x3D;sponsorlist&amp;utm_campaign&#x3D;sponsorship\" style=\"padding: 10px; display: inline-block\" target=\"_blank\"> <img width=\"70px\" height=\"70px\" src=\"https://axios-http.com/assets/sponsors/opencollective/e699ec99f7df3a203ddbc49d3c7712a907e628ea.png\" alt=\"Poprey - Buy Instagram Likes\"/> </a> <p align=\"center\" title=\"Buy Instagram Likes\">Buy Instagram Likes</p> <p align=\"center\"> <a href=\"https://poprey.com/?utm_source&#x3D;axios&amp;utm_medium&#x3D;readme_sponsorlist&amp;utm_campaign&#x3D;sponsorship\" target=\"_blank\"><b>poprey.com</b></a> </p>\n+</td></tr><tr width=\"33.333333333333336%\"><td align=\"center\" width=\"33.333333333333336%\"> <a href=\"https://poprey.com/?utm_source&#x3D;axios&amp;utm_medium&#x3D;sponsorlist&amp;utm_campaign&#x3D;sponsorship\" style=\"padding: 10px; display: inline-block\" target=\"_blank\"> <img width=\"70px\" height=\"70px\" src=\"https://axios-http.com/assets/sponsors/opencollective/e699ec99f7df3a203ddbc49d3c7712a907e628ea.png\" alt=\"Poprey - Buy Instagram Likes\"/> </a> <p align=\"center\" title=\"Buy Instagram Likes\">Buy Instagram Likes</p> <p align=\"center\"> <a href=\"https://poprey.com/?utm_source&#x3D;axios&amp;utm_medium&#x3D;readme_sponsorlist&amp;utm_campaign&#x3D;sponsorship\" target=\"_blank\"><b>poprey.com</b></a> </p>\n </td><td align=\"center\" width=\"33.333333333333336%\"> <a href=\"https://requestly.com/?utm_source&#x3D;axios&amp;utm_medium&#x3D;sponsorlist&amp;utm_campaign&#x3D;sponsorship\" style=\"padding: 10px; display: inline-block\" target=\"_blank\"> <img width=\"71px\" height=\"70px\" src=\"https://axios-http.com/assets/sponsors/opencollective/16450b4dc0deb9dab5a511bf2bc8b8b4ac33412f.png\" alt=\"Requestly\"/> </a> <p align=\"center\" title=\"A lightweight open-source API Development, Testing &amp; Mocking platform\">A lightweight open-source API Development, Testing &amp; Mocking platform</p> <p align=\"center\"> <a href=\"https://requestly.com/?utm_source&#x3D;axios&amp;utm_medium&#x3D;readme_sponsorlist&amp;utm_campaign&#x3D;sponsorship\" target=\"_blank\"><b>requestly.com</b></a> </p>\n-</td></tr><tr width=\"33.333333333333336%\"><td align=\"center\" width=\"33.333333333333336%\"> <a href=\"https://opencollective.com/axios/contribute\" target=\"_blank\" >\ud83d\udc9c Become a sponsor</a>\n-</td><td align=\"center\" width=\"33.333333333333336%\"> <a href=\"https://opencollective.com/axios/contribute\" target=\"_blank\" >\ud83d\udc9c Become a sponsor</a>\n </td><td align=\"center\" width=\"33.333333333333336%\"> <a href=\"https://opencollective.com/axios/contribute\" target=\"_blank\" >\ud83d\udc9c Become a sponsor</a>\n </td></tr></table>\n \n", "test_patch": "", "problem_statement": "", "hints_text": "", "created_at": "2025-11-02T01:30:42Z"}
{"repo": "axios/axios", "pull_number": 7202, "instance_id": "axios__axios-7202", "issue_numbers": [], "base_commit": "f6d79e773baf70bf4e6d888e72d4bcf589060a84", "patch": "diff --git a/lib/adapters/http.js b/lib/adapters/http.js\nindex 4d2670cb7a..524c278505 100755\n--- a/lib/adapters/http.js\n+++ b/lib/adapters/http.js\n@@ -65,9 +65,9 @@ class Http2Sessions {\n       sessionTimeout: 1000\n     }, options);\n \n-    let authoritySessions;\n+    let authoritySessions = this.sessions[authority];\n \n-    if ((authoritySessions = this.sessions[authority])) {\n+    if (authoritySessions) {\n       let len = authoritySessions.length;\n \n       for (let i = 0; i < len; i++) {\n@@ -93,11 +93,12 @@ class Http2Sessions {\n \n       while (i--) {\n         if (entries[i][0] === session) {\n-          entries.splice(i, 1);\n           if (len === 1) {\n             delete this.sessions[authority];\n-            return;\n+          } else {\n+            entries.splice(i, 1);\n           }\n+          return;\n         }\n       }\n     };\n@@ -136,12 +137,12 @@ class Http2Sessions {\n \n     session.once('close', removeSession);\n \n-    let entries = this.sessions[authority], entry = [\n-      session,\n-      options\n-    ];\n+    let entry = [\n+        session,\n+        options\n+      ];\n \n-    entries ? this.sessions[authority].push(entry) : authoritySessions =  this.sessions[authority] = [entry];\n+    authoritySessions ? authoritySessions.push(entry) : authoritySessions =  this.sessions[authority] = [entry];\n \n     return session;\n   }\n", "test_patch": "", "problem_statement": "", "hints_text": "", "created_at": "2025-10-31T21:54:02Z"}
{"repo": "axios/axios", "pull_number": 7201, "instance_id": "axios__axios-7201", "issue_numbers": ["7200"], "base_commit": "0588880ac7ddba7594ef179930493884b7e90bf5", "patch": "diff --git a/README.md b/README.md\nindex e9d886e00c..15bf7256ab 100644\n--- a/README.md\n+++ b/README.md\n@@ -816,6 +816,41 @@ axios.interceptors.request.use(function (config) {\n \n > **Note:** options parameter(having `synchronous` and `runWhen` properties) is only supported for request interceptors at the moment.\n \n+### Interceptor Execution Order\n+\n+**Important:** Interceptors have different execution orders depending on their type!\n+\n+Request interceptors are executed in **reverse order** (LIFO - Last In, First Out). This means the _last_ interceptor added is executed **first**.\n+\n+Response interceptors are executed in the **order they were added** (FIFO - First In, First Out). This means the _first_ interceptor added is executed **first**.\n+\n+Example:\n+\n+```js\n+const instance = axios.create();\n+\n+const interceptor = (id) => (base) => {\n+  console.log(id);\n+  return base;\n+}\n+\n+instance.interceptors.request.use(interceptor('Request Interceptor 1'));\n+instance.interceptors.request.use(interceptor('Request Interceptor 2'));\n+instance.interceptors.request.use(interceptor('Request Interceptor 3'));\n+instance.interceptors.response.use(interceptor('Response Interceptor 1'));\n+instance.interceptors.response.use(interceptor('Response Interceptor 2'));\n+instance.interceptors.response.use(interceptor('Response Interceptor 3'));\n+\n+// Console output:\n+// Request Interceptor 3\n+// Request Interceptor 2\n+// Request Interceptor 1\n+// [HTTP request is made]\n+// Response Interceptor 1\n+// Response Interceptor 2\n+// Response Interceptor 3\n+```\n+\n ### Multiple Interceptors\n \n Given you add multiple response interceptors\n", "test_patch": "", "problem_statement": "Clarify interceptors execution order\n### Section/Content To Improve\n\nhttps://github.com/codenomnom/axios-interceptors-docs/blob/v1.x/README.md#interceptors\n\n---\nSummary\n\nThe current documentation does not clearly explain that **request interceptors execute in reverse order** (LIFO) while **response interceptors execute in the order they were added** (FIFO). I find this utterly critical to inform, as it took me quite a while to debug a dynamically added interceptors in production \ud83d\ude05 \n\nI've researched this and came to the conclusion this is intended behavior.\nThe implementation in `lib/core/Axios.js` (lines ~130-140) explicitly uses different array methods for the two types of interceptors:\n\n- **Request interceptors**: Use `unshift()` \u2192 LIFO (Last In, First Out / reverse order)\n- **Response interceptors**: Use `push()` \u2192 FIFO (First In, First Out / normal order)\n\nThe test suite even includes a comment acknowledging this behavior (source: `test/specs/interceptors.spec.js`):\n```javascript\n/* request interceptors have a reversed execution order */\n```\n\n\n\n\n### Suggested Improvement\n\nI'm preparing a PR to:\n1. Add a clear \"Execution Order\" subsection to the Interceptors documentation\n2. Include code examples showing the exact execution flow\n\n### Relevant File(s)\n\n```bash\nREADME.md\n```\n", "hints_text": "", "created_at": "2025-10-31T09:14:00Z"}
{"repo": "axios/axios", "pull_number": 7198, "instance_id": "axios__axios-7198", "issue_numbers": [], "base_commit": "38fee81c80c0b366dcd9e70912b1197605b72c7a", "patch": "diff --git a/CODE_OF_CONDUCT.md b/CODE_OF_CONDUCT.md\nindex 56fe7378a9..7b6b9817fb 100644\n--- a/CODE_OF_CONDUCT.md\n+++ b/CODE_OF_CONDUCT.md\n@@ -2,83 +2,35 @@\n \n ## Our Pledge\n \n-We as members, contributors, and leaders pledge to make participation in our community a harassment-free experience for everyone, regardless of age, body size, visible or invisible disability, ethnicity, sex characteristics, gender identity and expression, level of experience, education, socio-economic status, nationality, personal appearance, race, caste, color, religion, or sexual identity and orientation.\n-\n-We pledge to act and interact in ways that contribute to an open, welcoming, diverse, inclusive, and healthy community.\n+We, as contributors and community members, are committed to providing a welcoming, safe, and harassment-free environment for everyone.  \n+We celebrate diversity and inclusivity regardless of age, body size, disability, ethnicity, gender identity or expression, experience level, education, nationality, race, religion, sexual orientation, or any other personal characteristic.\n \n ## Our Standards\n \n-Examples of behavior that contributes to a positive environment for our community include:\n-\n-* Demonstrating empathy and kindness toward other people\n-* Being respectful of differing opinions, viewpoints, and experiences\n-* Giving and gracefully accepting constructive feedback\n-* Accepting responsibility and apologizing to those affected by our mistakes, and learning from the experience\n-* Focusing on what is best not just for us as individuals, but for the overall community\n-\n-Examples of unacceptable behavior include:\n-\n-* The use of sexualized language or imagery, and sexual attention or advances of any kind\n-* Trolling, insulting or derogatory comments, and personal or political attacks\n-* Public or private harassment\n-* Publishing others' private information, such as a physical or email address, without their explicit permission\n-* Other conduct which could reasonably be considered inappropriate in a professional setting\n-\n-## Enforcement Responsibilities\n-\n-Community leaders are responsible for clarifying and enforcing our standards of acceptable behavior and will take appropriate and fair corrective action in response to any behavior that they deem inappropriate, threatening, offensive, or harmful.\n+Examples of positive behavior include:\n+* Showing empathy and kindness toward others  \n+* Being respectful of different opinions and experiences  \n+* Accepting feedback gracefully and learning from it  \n+* Taking responsibility for mistakes and offering sincere apologies  \n \n-Community leaders have the right and responsibility to remove, edit, or reject comments, commits, code, wiki edits, issues, and other contributions that are not aligned to this Code of Conduct, and will communicate reasons for moderation decisions when appropriate.\n-\n-## Scope\n-\n-This Code of Conduct applies within all community spaces, and also applies when an individual is officially representing the community in public spaces. Examples of representing our community include using an official e-mail address, posting via an official social media account, or acting as an appointed representative at an online or offline event.\n+Unacceptable behaviors include:\n+* Use of sexualized language, imagery, or advances  \n+* Personal attacks, trolling, or insulting comments  \n+* Publishing private information (such as email or address) without permission  \n+* Any other conduct that would be considered inappropriate in a professional setting  \n \n ## Enforcement\n \n-Instances of abusive, harassing, or otherwise unacceptable behavior may be reported to the community leaders responsible for enforcement at [Jason Saayman](jasonsaayman@gmail.com). All complaints will be reviewed and investigated promptly and fairly.\n-\n-All community leaders are obligated to respect the privacy and security of the reporter of any incident.\n+Instances of unacceptable behavior can be reported to the maintainers at [jasonsaayman@gmail.com](mailto:jasonsaayman@gmail.com).  \n+All complaints will be reviewed promptly and treated confidentially.\n \n ## Enforcement Guidelines\n \n-Community leaders will follow these Community Impact Guidelines in determining the consequences for any action they deem in violation of this Code of Conduct:\n-\n-### 1. Correction\n-\n-**Community Impact**: Use of inappropriate language or other behavior deemed unprofessional or unwelcome in the community.\n-\n-**Consequence**: A private, written warning from community leaders, providing clarity around the nature of the violation and an explanation of why the behavior was inappropriate. A public apology may be requested.\n-\n-### 2. Warning\n-\n-**Community Impact**: A violation through a single incident or series of actions.\n-\n-**Consequence**: A warning with consequences for continued behavior. No interaction with the people involved, including unsolicited interaction with those enforcing the Code of Conduct, for a specified period of time. This includes avoiding interactions in community spaces as well as external channels like social media. Violating these terms may lead to a temporary or permanent ban.\n-\n-### 3. Temporary Ban\n-\n-**Community Impact**: A serious violation of community standards, including sustained inappropriate behavior.\n-\n-**Consequence**: A temporary ban from any sort of interaction or public communication with the community for a specified period of time. No public or private interaction with the people involved, including unsolicited interaction with those enforcing the Code of Conduct, is allowed during this period. Violating these terms may lead to a permanent ban.\n-\n-### 4. Permanent Ban\n-\n-**Community Impact**: Demonstrating a pattern of violation of community standards, including sustained inappropriate behavior, harassment of an individual, or aggression toward or disparagement of classes of individuals.\n-\n-**Consequence**: A permanent ban from any sort of public interaction within the community.\n-\n-## Attribution\n-\n-This Code of Conduct is adapted from the [Contributor Covenant][homepage], version 2.1, available at [https://www.contributor-covenant.org/version/2/1/code_of_conduct.html][v2.1].\n-\n-Community Impact Guidelines were inspired by\n-[Mozilla's code of conduct enforcement ladder][Mozilla CoC].\n+1. **Correction** \u2013 A private warning and explanation of why the behavior was inappropriate.  \n+2. **Warning** \u2013 A clear warning with consequences for continued behavior.  \n+3. **Temporary Ban** \u2013 A temporary ban for repeated or severe violations.  \n+4. **Permanent Ban** \u2013 A permanent removal for repeated harassment or sustained inappropriate conduct.\n \n-For answers to common questions about this code of conduct, see the FAQ at [https://www.contributor-covenant.org/faq][FAQ]. Translations are available at [https://www.contributor-covenant.org/translations][translations].\n+---\n \n-[homepage]: https://www.contributor-covenant.org\n-[v2.1]: https://www.contributor-covenant.org/version/2/1/code_of_conduct.html\n-[Mozilla CoC]: https://github.com/mozilla/diversity\n-[FAQ]: https://www.contributor-covenant.org/faq\n-[translations]: https://www.contributor-covenant.org/translations\n+_This Code of Conduct is adapted from the [Contributor Covenant, version 2.1](https://www.contributor-covenant.org/version/2/1/code_of_conduct.html)._\n", "test_patch": "", "problem_statement": "", "hints_text": "", "created_at": "2025-10-30T00:04:17Z"}
{"repo": "axios/axios", "pull_number": 7196, "instance_id": "axios__axios-7196", "issue_numbers": [], "base_commit": "1ef8e7218b085ac28b675b07349c6d7906a7b6ac", "patch": "diff --git a/lib/adapters/http.js b/lib/adapters/http.js\nindex 49d3f949f5..4d2670cb7a 100755\n--- a/lib/adapters/http.js\n+++ b/lib/adapters/http.js\n@@ -1,4 +1,3 @@\n-import { connect, constants } from 'http2';\n import utils from './../utils.js';\n import settle from './../core/settle.js';\n import buildFullPath from '../core/buildFullPath.js';\n@@ -6,6 +5,7 @@ import buildURL from './../helpers/buildURL.js';\n import proxyFromEnv from 'proxy-from-env';\n import http from 'http';\n import https from 'https';\n+import http2 from 'http2';\n import util from 'util';\n import followRedirects from 'follow-redirects';\n import zlib from 'zlib';\n@@ -36,13 +36,6 @@ const brotliOptions = {\n   finishFlush: zlib.constants.BROTLI_OPERATION_FLUSH\n }\n \n-const {\n-  HTTP2_HEADER_SCHEME,\n-  HTTP2_HEADER_METHOD,\n-  HTTP2_HEADER_PATH,\n-  HTTP2_HEADER_STATUS\n-} = constants;\n-\n const isBrotliSupported = utils.isFunction(zlib.createBrotliDecompress);\n \n const {http: httpFollow, https: httpsFollow} = followRedirects;\n@@ -85,7 +78,7 @@ class Http2Sessions {\n       }\n     }\n \n-    const session = connect(authority, options);\n+    const session = http2.connect(authority, options);\n \n     let removed;\n \n@@ -276,6 +269,13 @@ const http2Transport = {\n \n       const session = http2Sessions.getSession(authority, http2Options);\n \n+      const {\n+        HTTP2_HEADER_SCHEME,\n+        HTTP2_HEADER_METHOD,\n+        HTTP2_HEADER_PATH,\n+        HTTP2_HEADER_STATUS\n+      } = http2.constants;\n+\n       const http2Headers = {\n         [HTTP2_HEADER_SCHEME]: options.protocol.replace(':', ''),\n         [HTTP2_HEADER_METHOD]: options.method,\n", "test_patch": "", "problem_statement": "", "hints_text": "", "created_at": "2025-10-29T14:58:47Z"}
{"repo": "axios/axios", "pull_number": 7194, "instance_id": "axios__axios-7194", "issue_numbers": [], "base_commit": "bcd5581d208cd372055afdcb2fd10b68ca40613c", "patch": "diff --git a/CHANGELOG.md b/CHANGELOG.md\nindex 5c94960ba9..56a6ae1c70 100644\n--- a/CHANGELOG.md\n+++ b/CHANGELOG.md\n@@ -1,5 +1,17 @@\n-# Changelog\r\n-\r\n+# Changelog\n+\n+## [1.13.1](https://github.com/axios/axios/compare/v1.13.0...v1.13.1) (2025-10-28)\n+\n+\n+### Bug Fixes\n+\n+* **http:** fixed a regression that caused the data stream to be interrupted for responses with non-OK HTTP statuses; ([#7193](https://github.com/axios/axios/issues/7193)) ([bcd5581](https://github.com/axios/axios/commit/bcd5581d208cd372055afdcb2fd10b68ca40613c))\n+\n+### Contributors to this release\n+\n+- <img src=\"https://avatars.githubusercontent.com/u/128113546?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Anchal Singh](https://github.com/imanchalsingh \"+220/-111 (#7173 )\")\n+- <img src=\"https://avatars.githubusercontent.com/u/12586868?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Dmitriy Mozgovoy](https://github.com/DigitalBrainJS \"+18/-1 (#7193 )\")\n+\n # [1.13.0](https://github.com/axios/axios/compare/v1.12.2...v1.13.0) (2025-10-27)\r\n \r\n \r\n@@ -1326,4 +1338,4 @@ This functionality is considered as a fix.\n - [Luca Pizzini](https://github.com/lpizzinidev)\r\n - [Willian Agostini](https://github.com/WillianAgostini)\r\n \r\n-- [Huyen Nguyen](https://github.com/huyenltnguyen)\r\n+- [Huyen Nguyen](https://github.com/huyenltnguyen)\n\\ No newline at end of file\ndiff --git a/bower.json b/bower.json\nindex 35fdb72509..a8a10f4478 100644\n--- a/bower.json\n+++ b/bower.json\n@@ -1,7 +1,7 @@\n {\n   \"name\": \"axios\",\n   \"main\": \"./dist/axios.js\",\n-  \"version\": \"1.13.0\",\n+  \"version\": \"1.13.1\",\n   \"homepage\": \"https://axios-http.com\",\n   \"authors\": [\n     \"Matt Zabriskie\"\ndiff --git a/lib/env/data.js b/lib/env/data.js\nindex efe7d59ad1..d969ffe6dc 100644\n--- a/lib/env/data.js\n+++ b/lib/env/data.js\n@@ -1,1 +1,1 @@\n-export const VERSION = \"1.13.0\";\n\\ No newline at end of file\n+export const VERSION = \"1.13.1\";\n\\ No newline at end of file\ndiff --git a/package-lock.json b/package-lock.json\nindex ba3cf0bde6..6a524e493e 100644\n--- a/package-lock.json\n+++ b/package-lock.json\n@@ -1,12 +1,12 @@\n {\n   \"name\": \"axios\",\n-  \"version\": \"1.13.0\",\n+  \"version\": \"1.13.1\",\n   \"lockfileVersion\": 2,\n   \"requires\": true,\n   \"packages\": {\n     \"\": {\n       \"name\": \"axios\",\n-      \"version\": \"1.13.0\",\n+      \"version\": \"1.13.1\",\n       \"license\": \"MIT\",\n       \"dependencies\": {\n         \"follow-redirects\": \"^1.15.6\",\ndiff --git a/package.json b/package.json\nindex 749d0cb2e4..35afb93bb9 100644\n--- a/package.json\n+++ b/package.json\n@@ -1,6 +1,6 @@\n {\n   \"name\": \"axios\",\n-  \"version\": \"1.13.0\",\n+  \"version\": \"1.13.1\",\n   \"description\": \"Promise based HTTP client for the browser and node.js\",\n   \"main\": \"index.js\",\n   \"exports\": {\n", "test_patch": "", "problem_statement": "", "hints_text": "", "created_at": "2025-10-28T18:48:07Z"}
{"repo": "axios/axios", "pull_number": 7193, "instance_id": "axios__axios-7193", "issue_numbers": ["7192"], "base_commit": "c9b33712aac00ca6da7e9767426ff2e0a36c7eed", "patch": "diff --git a/lib/adapters/http.js b/lib/adapters/http.js\nindex 5326dd03b2..49d3f949f5 100755\n--- a/lib/adapters/http.js\n+++ b/lib/adapters/http.js\n@@ -737,7 +737,7 @@ export default isHttpAdapterSupported && function httpAdapter(config) {\n \n       if (responseType === 'stream') {\n         response.data = responseStream;\n-        settle(resolve, abort, response);\n+        settle(resolve, reject, response);\n       } else {\n         const responseBuffer = [];\n         let totalResponseBytes = 0;\n", "test_patch": "diff --git a/test/unit/adapters/http.js b/test/unit/adapters/http.js\nindex 7d0cf1861d..6c4375a50b 100644\n--- a/test/unit/adapters/http.js\n+++ b/test/unit/adapters/http.js\n@@ -2665,6 +2665,23 @@ describe('supports http with nodejs', function () {\n       });\n     });\n   });\n+\n+  it('should not abort stream on settle rejection', async () => {\n+    server = await startHTTPServer((req, res) => {\n+      res.statusCode = 404;\n+      res.end('OK');\n+    });\n+\n+    try {\n+      await axios.get(LOCAL_SERVER_URL, {\n+        responseType: 'stream'\n+      });\n+\n+      assert.fail('should be rejected');\n+    } catch(err) {\n+      assert.strictEqual(await getStream(err.response.data), 'OK');\n+    }\n+  });\n });\n \n \n", "problem_statement": "1.13.0 regresses reading error response bodies with responseType: stream\n### Describe the bug\n\nUpgrading from `1.12.2` to `1.13.0` breaks code that reads the `error.response.data` body when using `responseType: stream`.\nThe stream seems to no longer contain the body data when read, for example, resulting in `SyntaxError: Unexpected end of JSON input`.\n\n\n### To Reproduce\n\nThis small code sample reproduces the issue. As this happens for streams in reject/catch cases the URL `https://api.github.com/orgs/ORG/repos` in the snippet is expected to return a `404` and reject/throw.\n\nWith `1.13.0` this gives:\n```\nSyntaxError: Unexpected end of JSON input\n    at parse (<anonymous>)\n    at json (node:stream/consumers:78:10)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n```\n\n### Code snippet\n\n```js\nimport { json } from 'node:stream/consumers';\nimport { Readable } from 'node:stream';\nimport axios from 'axios';\n\nlet data;\ntry {\n  const response = await axios.get('https://api.github.com/orgs/ORG/repos', {\n    headers: {\n      Accept: 'application/vnd.github+json',\n      'X-GitHub-Api-Version': '2022-11-28'\n    },\n    responseType: 'stream'\n  })\n  data = response.data;\n} catch (e) {\n  data = e.response.data\n};\nconsole.log(await json(Readable.toWeb(data)));\n```\n\n### Expected behavior\n\nWith `1.12.2` this snippet correctly outputs the json body:\n```text\n{\n  message: 'Not Found',\n  documentation_url: 'https://docs.github.com/rest/repos/repos#list-organization-repositories',\n  status: '404'\n}\n```\n\n\n### Axios Version\n\n1.13.0\n\n### Adapter Version\n\nhttp\n\n### Browser\n\n_No response_\n\n### Browser Version\n\n_No response_\n\n### Node.js Version\n\n20.19.5\n\n### OS\n\n_No response_\n\n### Additional Library Versions\n\n```bash\n\n```\n\n### Additional context/Screenshots\n\n\nIf I use the `text` consumer instead of `json` I just get empty output text so it seems that it is unable to get any stream data rather than, for example, partially reading the json to get the `SyntaxError`.\n\nThis might be related to the changes for \"Fixed streams cancellation bugs\" introduced in #7150, which seem to be the only thing between 1.12.2/1.13.0 that might touch this area.\n\n", "hints_text": "", "created_at": "2025-10-28T18:33:58Z"}
{"repo": "axios/axios", "pull_number": 7189, "instance_id": "axios__axios-7189", "issue_numbers": [], "base_commit": "d000fbfd0722a9c3bd0bcea3451c6d515813635d", "patch": "diff --git a/CHANGELOG.md b/CHANGELOG.md\nindex d06400b621..5c94960ba9 100644\n--- a/CHANGELOG.md\n+++ b/CHANGELOG.md\n@@ -1,370 +1,403 @@\n-# Changelog\n-\n-## [1.12.2](https://github.com/axios/axios/compare/v1.12.1...v1.12.2) (2025-09-14)\n-\n-\n-### Bug Fixes\n-\n-* **fetch:** use current global fetch instead of cached one when env fetch is not specified to keep MSW support; ([#7030](https://github.com/axios/axios/issues/7030)) ([cf78825](https://github.com/axios/axios/commit/cf78825e1229b60d1629ad0bbc8a752ff43c3f53))\n-\n-### Contributors to this release\n-\n-- <img src=\"https://avatars.githubusercontent.com/u/12586868?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Dmitriy Mozgovoy](https://github.com/DigitalBrainJS \"+247/-16 (#7030 #7022 #7024 )\")\n-- <img src=\"https://avatars.githubusercontent.com/u/189505037?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Noritaka Kobayashi](https://github.com/noritaka1166 \"+2/-6 (#7028 #7029 )\")\n-\n-## [1.12.1](https://github.com/axios/axios/compare/v1.12.0...v1.12.1) (2025-09-12)\n-\n-\n-### Bug Fixes\n-\n-* **types:** fixed env config types; ([#7020](https://github.com/axios/axios/issues/7020)) ([b5f26b7](https://github.com/axios/axios/commit/b5f26b75bdd9afa95016fb67d0cab15fc74cbf05))\n-\n-### Contributors to this release\n-\n-- <img src=\"https://avatars.githubusercontent.com/u/12586868?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Dmitriy Mozgovoy](https://github.com/DigitalBrainJS \"+10/-4 (#7020 )\")\n-\n-# [1.12.0](https://github.com/axios/axios/compare/v1.11.0...v1.12.0) (2025-09-11)\n-\n-\n-### Bug Fixes\n-\n-* adding build artifacts ([9ec86de](https://github.com/axios/axios/commit/9ec86de257bfa33856571036279169f385ed92bd))\n-* dont add dist on release ([a2edc36](https://github.com/axios/axios/commit/a2edc3606a4f775d868a67bb3461ff18ce7ecd11))\n-* **fetch-adapter:** set correct Content-Type for Node FormData ([#6998](https://github.com/axios/axios/issues/6998)) ([a9f47af](https://github.com/axios/axios/commit/a9f47afbf3224d2ca987dbd8188789c7ea853c5d))\n-* **node:** enforce maxContentLength for data: URLs ([#7011](https://github.com/axios/axios/issues/7011)) ([945435f](https://github.com/axios/axios/commit/945435fc51467303768202250debb8d4ae892593))\n-* package exports ([#5627](https://github.com/axios/axios/issues/5627)) ([aa78ac2](https://github.com/axios/axios/commit/aa78ac23fc9036163308c0f6bd2bb885e7af3f36))\n-* **params:** removing '[' and ']' from URL encode exclude characters ([#3316](https://github.com/axios/axios/issues/3316)) ([#5715](https://github.com/axios/axios/issues/5715)) ([6d84189](https://github.com/axios/axios/commit/6d84189349c43b1dcdd977b522610660cc4c7042))\n-* release pr run ([fd7f404](https://github.com/axios/axios/commit/fd7f404488b2c4f238c2fbe635b58026a634bfd2))\n-* **types:** change the type guard on isCancel ([#5595](https://github.com/axios/axios/issues/5595)) ([0dbb7fd](https://github.com/axios/axios/commit/0dbb7fd4f61dc568498cd13a681fa7f907d6ec7e))\n-\n-\n-### Features\n-\n-* **adapter:** surface low\u2011level network error details; attach original error via cause ([#6982](https://github.com/axios/axios/issues/6982)) ([78b290c](https://github.com/axios/axios/commit/78b290c57c978ed2ab420b90d97350231c9e5d74))\n-* **fetch:** add fetch, Request, Response env config variables for the adapter; ([#7003](https://github.com/axios/axios/issues/7003)) ([c959ff2](https://github.com/axios/axios/commit/c959ff29013a3bc90cde3ac7ea2d9a3f9c08974b))\n-* support reviver on JSON.parse ([#5926](https://github.com/axios/axios/issues/5926)) ([2a97634](https://github.com/axios/axios/commit/2a9763426e43d996fd60d01afe63fa6e1f5b4fca)), closes [#5924](https://github.com/axios/axios/issues/5924)\n-* **types:** extend AxiosResponse interface to include custom headers type ([#6782](https://github.com/axios/axios/issues/6782)) ([7960d34](https://github.com/axios/axios/commit/7960d34eded2de66ffd30b4687f8da0e46c4903e))\n-\n-### Contributors to this release\n-\n-- <img src=\"https://avatars.githubusercontent.com/u/22686401?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Willian Agostini](https://github.com/WillianAgostini \"+132/-16760 (#7002 #5926 #6782 )\")\n-- <img src=\"https://avatars.githubusercontent.com/u/12586868?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Dmitriy Mozgovoy](https://github.com/DigitalBrainJS \"+4263/-293 (#7006 #7003 )\")\n-- <img src=\"https://avatars.githubusercontent.com/u/53833811?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [khani](https://github.com/mkhani01 \"+111/-15 (#6982 )\")\n-- <img src=\"https://avatars.githubusercontent.com/u/7712804?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Ameer Assadi](https://github.com/AmeerAssadi \"+123/-0 (#7011 )\")\n-- <img src=\"https://avatars.githubusercontent.com/u/70265727?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Emiedonmokumo Dick-Boro](https://github.com/emiedonmokumo \"+55/-35 (#6998 )\")\n-- <img src=\"https://avatars.githubusercontent.com/u/47859767?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Zeroday BYTE](https://github.com/opsysdebug \"+8/-8 (#6980 )\")\n-- <img src=\"https://avatars.githubusercontent.com/u/4814473?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Jason Saayman](https://github.com/jasonsaayman \"+7/-7 (#6985 #6985 )\")\n-- <img src=\"https://avatars.githubusercontent.com/u/13010755?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [\ucd5c\uc608\ucc2c](https://github.com/HealGaren \"+5/-7 (#5715 )\")\n-- <img src=\"https://avatars.githubusercontent.com/u/7002604?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Gligor Kotushevski](https://github.com/gligorkot \"+3/-1 (#5627 )\")\n-- <img src=\"https://avatars.githubusercontent.com/u/15893?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Aleksandar Dimitrov](https://github.com/adimit \"+2/-1 (#5595 )\")\n-\n-# [1.11.0](https://github.com/axios/axios/compare/v1.10.0...v1.11.0) (2025-07-22)\n-\n-\n-### Bug Fixes\n-\n-* form-data npm pakcage ([#6970](https://github.com/axios/axios/issues/6970)) ([e72c193](https://github.com/axios/axios/commit/e72c193722530db538b19e5ddaaa4544d226b253))\n-* prevent RangeError when using large Buffers ([#6961](https://github.com/axios/axios/issues/6961)) ([a2214ca](https://github.com/axios/axios/commit/a2214ca1bc60540baf2c80573cea3a0ff91ba9d1))\n-* **types:** resolve type discrepancies between ESM and CJS TypeScript declaration files ([#6956](https://github.com/axios/axios/issues/6956)) ([8517aa1](https://github.com/axios/axios/commit/8517aa16f8d082fc1d5309c642220fa736159110))\n-\n-### Contributors to this release\n-\n-- <img src=\"https://avatars.githubusercontent.com/u/12534341?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [izzy goldman](https://github.com/izzygld \"+186/-93 (#6970 )\")\n-- <img src=\"https://avatars.githubusercontent.com/u/142807367?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Manish Sahani](https://github.com/manishsahanidev \"+70/-0 (#6961 )\")\n-- <img src=\"https://avatars.githubusercontent.com/u/189505037?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Noritaka Kobayashi](https://github.com/noritaka1166 \"+12/-10 (#6938 #6939 )\")\n-- <img src=\"https://avatars.githubusercontent.com/u/392612?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [James Nail](https://github.com/jrnail23 \"+13/-2 (#6956 )\")\n-- <img src=\"https://avatars.githubusercontent.com/u/163745239?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Tejaswi1305](https://github.com/Tejaswi1305 \"+1/-1 (#6894 )\")\n-\n-# [1.10.0](https://github.com/axios/axios/compare/v1.9.0...v1.10.0) (2025-06-14)\n-\n-\n-### Bug Fixes\n-\n-* **adapter:** pass fetchOptions to fetch function ([#6883](https://github.com/axios/axios/issues/6883)) ([0f50af8](https://github.com/axios/axios/commit/0f50af8e076b7fb403844789bd5e812dedcaf4ed))\n-* **form-data:** convert boolean values to strings in FormData serialization ([#6917](https://github.com/axios/axios/issues/6917)) ([5064b10](https://github.com/axios/axios/commit/5064b108de336ff34862650709761b8a96d26be0))\n-* **package:** add module entry point for React Native; ([#6933](https://github.com/axios/axios/issues/6933)) ([3d343b8](https://github.com/axios/axios/commit/3d343b86dc4fd0eea0987059c5af04327c7ae304))\n-\n-\n-### Features\n-\n-* **types:** improved fetchOptions interface ([#6867](https://github.com/axios/axios/issues/6867)) ([63f1fce](https://github.com/axios/axios/commit/63f1fce233009f5db1abf2586c145825ac98c3d7))\n-\n-### Contributors to this release\n-\n-- <img src=\"https://avatars.githubusercontent.com/u/12586868?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Dmitriy Mozgovoy](https://github.com/DigitalBrainJS \"+30/-19 (#6933 #6920 #6893 #6892 )\")\n-- <img src=\"https://avatars.githubusercontent.com/u/189505037?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Noritaka Kobayashi](https://github.com/noritaka1166 \"+2/-6 (#6922 #6923 )\")\n-- <img src=\"https://avatars.githubusercontent.com/u/48370490?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Dimitrios Lazanas](https://github.com/dimitry-lzs \"+4/-0 (#6917 )\")\n-- <img src=\"https://avatars.githubusercontent.com/u/71047946?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Adrian Knapp](https://github.com/AdrianKnapp \"+2/-2 (#6867 )\")\n-- <img src=\"https://avatars.githubusercontent.com/u/16129206?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Howie Zhao](https://github.com/howiezhao \"+3/-1 (#6872 )\")\n-- <img src=\"https://avatars.githubusercontent.com/u/6788611?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Uhyeon Park](https://github.com/warpdev \"+1/-1 (#6883 )\")\n-- <img src=\"https://avatars.githubusercontent.com/u/20028934?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Sampo Silvennoinen](https://github.com/stscoundrel \"+1/-1 (#6913 )\")\n-\n-# [1.9.0](https://github.com/axios/axios/compare/v1.8.4...v1.9.0) (2025-04-24)\n-\n-\n-### Bug Fixes\n-\n-* **core:** fix the Axios constructor implementation to treat the config argument as optional; ([#6881](https://github.com/axios/axios/issues/6881)) ([6c5d4cd](https://github.com/axios/axios/commit/6c5d4cd69286868059c5e52d45085cb9a894a983))\n-* **fetch:** fixed ERR_NETWORK mapping for Safari browsers; ([#6767](https://github.com/axios/axios/issues/6767)) ([dfe8411](https://github.com/axios/axios/commit/dfe8411c9a082c3d068bdd1f8d6e73054f387f45))\n-* **headers:** allow iterable objects to be a data source for the set method; ([#6873](https://github.com/axios/axios/issues/6873)) ([1b1f9cc](https://github.com/axios/axios/commit/1b1f9ccdc15f1ea745160ec9a5223de9db4673bc))\n-* **headers:** fix `getSetCookie` by using 'get' method for caseless access; ([#6874](https://github.com/axios/axios/issues/6874)) ([d4f7df4](https://github.com/axios/axios/commit/d4f7df4b304af8b373488fdf8e830793ff843eb9))\n-* **headers:** fixed support for setting multiple header values from an iterated source; ([#6885](https://github.com/axios/axios/issues/6885)) ([f7a3b5e](https://github.com/axios/axios/commit/f7a3b5e0f7e5e127b97defa92a132fbf1b55cf15))\n-* **http:** send minimal end multipart boundary ([#6661](https://github.com/axios/axios/issues/6661)) ([987d2e2](https://github.com/axios/axios/commit/987d2e2dd3b362757550f36eab875e60640b6ddc))\n-* **types:** fix autocomplete for adapter config ([#6855](https://github.com/axios/axios/issues/6855)) ([e61a893](https://github.com/axios/axios/commit/e61a8934d8f94dd429a2f309b48c67307c700df0))\n-\n-\n-### Features\n-\n-* **AxiosHeaders:** add getSetCookie method to retrieve set-cookie headers values ([#5707](https://github.com/axios/axios/issues/5707)) ([80ea756](https://github.com/axios/axios/commit/80ea756e72bcf53110fa792f5d7ab76e8b11c996))\n-\n-### Contributors to this release\n-\n-- <img src=\"https://avatars.githubusercontent.com/u/12586868?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Dmitriy Mozgovoy](https://github.com/DigitalBrainJS \"+200/-34 (#6890 #6889 #6888 #6885 #6881 #6767 #6874 #6873 )\")\n-- <img src=\"https://avatars.githubusercontent.com/u/4814473?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Jay](https://github.com/jasonsaayman \"+26/-1 ()\")\n-- <img src=\"https://avatars.githubusercontent.com/u/22686401?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Willian Agostini](https://github.com/WillianAgostini \"+21/-0 (#5707 )\")\n-- <img src=\"https://avatars.githubusercontent.com/u/2500247?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [George Cheng](https://github.com/Gerhut \"+3/-3 (#5096 )\")\n-- <img src=\"https://avatars.githubusercontent.com/u/30260221?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [FatahChan](https://github.com/FatahChan \"+2/-2 (#6855 )\")\n-- <img src=\"https://avatars.githubusercontent.com/u/49002?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Ionu\u021b G. Stan](https://github.com/igstan \"+1/-1 (#6661 )\")\n-\n-## [1.8.4](https://github.com/axios/axios/compare/v1.8.3...v1.8.4) (2025-03-19)\n-\n-\n-### Bug Fixes\n-\n-* **buildFullPath:** handle `allowAbsoluteUrls: false` without `baseURL` ([#6833](https://github.com/axios/axios/issues/6833)) ([f10c2e0](https://github.com/axios/axios/commit/f10c2e0de7fde0051f848609a29c2906d0caa1d9))\n-\n-### Contributors to this release\n-\n-- <img src=\"https://avatars.githubusercontent.com/u/8029107?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Marc Hassan](https://github.com/mhassan1 \"+5/-1 (#6833 )\")\n-\n-## [1.8.3](https://github.com/axios/axios/compare/v1.8.2...v1.8.3) (2025-03-10)\n-\n-\n-### Bug Fixes\n-\n-* add missing type for allowAbsoluteUrls ([#6818](https://github.com/axios/axios/issues/6818)) ([10fa70e](https://github.com/axios/axios/commit/10fa70ef14fe39558b15a179f0e82f5f5e5d11b2))\n-* **xhr/fetch:** pass `allowAbsoluteUrls` to `buildFullPath` in `xhr` and `fetch` adapters ([#6814](https://github.com/axios/axios/issues/6814)) ([ec159e5](https://github.com/axios/axios/commit/ec159e507bdf08c04ba1a10fe7710094e9e50ec9))\n-\n-### Contributors to this release\n-\n-- <img src=\"https://avatars.githubusercontent.com/u/3238291?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Ashcon Partovi](https://github.com/Electroid \"+6/-0 (#6811 )\")\n-- <img src=\"https://avatars.githubusercontent.com/u/28559054?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [StefanBRas](https://github.com/StefanBRas \"+4/-0 (#6818 )\")\n-- <img src=\"https://avatars.githubusercontent.com/u/8029107?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Marc Hassan](https://github.com/mhassan1 \"+2/-2 (#6814 )\")\n-\n-## [1.8.2](https://github.com/axios/axios/compare/v1.8.1...v1.8.2) (2025-03-07)\n-\n-\n-### Bug Fixes\n-\n-* **http-adapter:** add allowAbsoluteUrls to path building ([#6810](https://github.com/axios/axios/issues/6810)) ([fb8eec2](https://github.com/axios/axios/commit/fb8eec214ce7744b5ca787f2c3b8339b2f54b00f))\n-\n-### Contributors to this release\n-\n-- <img src=\"https://avatars.githubusercontent.com/u/14166260?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Fasoro-Joseph Alexander](https://github.com/lexcorp16 \"+1/-1 (#6810 )\")\n-\n-## [1.8.1](https://github.com/axios/axios/compare/v1.8.0...v1.8.1) (2025-02-26)\n-\n-\n-### Bug Fixes\n-\n-* **utils:** move `generateString` to platform utils to avoid importing crypto module into client builds; ([#6789](https://github.com/axios/axios/issues/6789)) ([36a5a62](https://github.com/axios/axios/commit/36a5a620bec0b181451927f13ac85b9888b86cec))\n-\n-### Contributors to this release\n-\n-- <img src=\"https://avatars.githubusercontent.com/u/12586868?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Dmitriy Mozgovoy](https://github.com/DigitalBrainJS \"+51/-47 (#6789 )\")\n-\n-# [1.8.0](https://github.com/axios/axios/compare/v1.7.9...v1.8.0) (2025-02-25)\n-\n-\n-### Bug Fixes\n-\n-* **examples:** application crashed when navigating examples in browser ([#5938](https://github.com/axios/axios/issues/5938)) ([1260ded](https://github.com/axios/axios/commit/1260ded634ec101dd5ed05d3b70f8e8f899dba6c))\n-* missing word in SUPPORT_QUESTION.yml ([#6757](https://github.com/axios/axios/issues/6757)) ([1f890b1](https://github.com/axios/axios/commit/1f890b13f2c25a016f3c84ae78efb769f244133e))\n-* **utils:** replace getRandomValues with crypto module ([#6788](https://github.com/axios/axios/issues/6788)) ([23a25af](https://github.com/axios/axios/commit/23a25af0688d1db2c396deb09229d2271cc24f6c))\n-\n-\n-### Features\n-\n-* Add config for ignoring absolute URLs ([#5902](https://github.com/axios/axios/issues/5902)) ([#6192](https://github.com/axios/axios/issues/6192)) ([32c7bcc](https://github.com/axios/axios/commit/32c7bcc0f233285ba27dec73a4b1e81fb7a219b3))\n-\n-\n-### Reverts\n-\n-* Revert \"chore: expose fromDataToStream to be consumable (#6731)\" (#6732) ([1317261](https://github.com/axios/axios/commit/1317261125e9c419fe9f126867f64d28f9c1efda)), closes [#6731](https://github.com/axios/axios/issues/6731) [#6732](https://github.com/axios/axios/issues/6732)\n-\n-\n-### BREAKING CHANGES\n-\n-* code relying on the above will now combine the URLs instead of prefer request URL\n-\n-* feat: add config option for allowing absolute URLs\n-\n-* fix: add default value for allowAbsoluteUrls in buildFullPath\n-\n-* fix: typo in flow control when setting allowAbsoluteUrls\n-\n-### Contributors to this release\n-\n-- <img src=\"https://avatars.githubusercontent.com/u/7661715?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Michael Toscano](https://github.com/GethosTheWalrus \"+42/-8 (#6192 )\")\n-- <img src=\"https://avatars.githubusercontent.com/u/22686401?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Willian Agostini](https://github.com/WillianAgostini \"+26/-3 (#6788 #6777 )\")\n-- <img src=\"https://avatars.githubusercontent.com/u/72578270?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Naron](https://github.com/naronchen \"+27/-0 (#5901 )\")\n-- <img src=\"https://avatars.githubusercontent.com/u/47430686?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [shravan || \u0936\u094d\u0930van](https://github.com/shravan20 \"+7/-3 (#6116 )\")\n-- <img src=\"https://avatars.githubusercontent.com/u/145078271?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Justin Dhillon](https://github.com/justindhillon \"+0/-7 (#6312 )\")\n-- <img src=\"https://avatars.githubusercontent.com/u/30925732?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [yionr](https://github.com/yionr \"+5/-1 (#6129 )\")\n-- <img src=\"https://avatars.githubusercontent.com/u/534166?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Shin&#x27;ya Ueoka](https://github.com/ueokande \"+3/-3 (#5935 )\")\n-- <img src=\"https://avatars.githubusercontent.com/u/33569?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Dan Dascalescu](https://github.com/dandv \"+3/-3 (#5908 #6757 )\")\n-- <img src=\"https://avatars.githubusercontent.com/u/16476523?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Nitin Ramnani](https://github.com/NitinRamnani \"+2/-2 (#5938 )\")\n-- <img src=\"https://avatars.githubusercontent.com/u/152275799?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Shay Molcho](https://github.com/shaymolcho \"+2/-2 (#6770 )\")\n-- <img src=\"https://avatars.githubusercontent.com/u/4814473?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Jay](https://github.com/jasonsaayman \"+0/-3 (#6732 )\")\n-- fancy45daddy\n-- <img src=\"https://avatars.githubusercontent.com/u/127725897?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Habip Akyol](https://github.com/habipakyol \"+1/-1 (#6030 )\")\n-- <img src=\"https://avatars.githubusercontent.com/u/54869395?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Bailey Lissington](https://github.com/llamington \"+1/-1 (#6771 )\")\n-- <img src=\"https://avatars.githubusercontent.com/u/14969290?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Bernardo da Eira Duarte](https://github.com/bernardoduarte \"+1/-1 (#6480 )\")\n-- <img src=\"https://avatars.githubusercontent.com/u/117800149?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Shivam Batham](https://github.com/Shivam-Batham \"+1/-1 (#5949 )\")\n-- <img src=\"https://avatars.githubusercontent.com/u/67861627?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Lipin Kariappa](https://github.com/lipinnnnn \"+1/-1 (#5936 )\")\n-\n-## [1.7.9](https://github.com/axios/axios/compare/v1.7.8...v1.7.9) (2024-12-04)\n-\n-\n-### Reverts\n-\n-* Revert \"fix(types): export CJS types from ESM (#6218)\" (#6729) ([c44d2f2](https://github.com/axios/axios/commit/c44d2f2316ad289b38997657248ba10de11deb6c)), closes [#6218](https://github.com/axios/axios/issues/6218) [#6729](https://github.com/axios/axios/issues/6729)\n-\n-### Contributors to this release\n-\n-- <img src=\"https://avatars.githubusercontent.com/u/4814473?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Jay](https://github.com/jasonsaayman \"+596/-108 (#6729 )\")\n-\n-## [1.7.8](https://github.com/axios/axios/compare/v1.7.7...v1.7.8) (2024-11-25)\n-\n-\n-### Bug Fixes\n-\n-* allow passing a callback as paramsSerializer to buildURL ([#6680](https://github.com/axios/axios/issues/6680)) ([eac4619](https://github.com/axios/axios/commit/eac4619fe2e0926e876cd260ee21e3690381dbb5))\n-* **core:** fixed config merging bug ([#6668](https://github.com/axios/axios/issues/6668)) ([5d99fe4](https://github.com/axios/axios/commit/5d99fe4491202a6268c71e5dcc09192359d73cea))\n-* fixed width form to not shrink after 'Send Request' button is clicked ([#6644](https://github.com/axios/axios/issues/6644)) ([7ccd5fd](https://github.com/axios/axios/commit/7ccd5fd42402102d38712c32707bf055be72ab54))\n-* **http:** add support for File objects as payload in http adapter ([#6588](https://github.com/axios/axios/issues/6588)) ([#6605](https://github.com/axios/axios/issues/6605)) ([6841d8d](https://github.com/axios/axios/commit/6841d8d18ddc71cc1bd202ffcfddb3f95622eef3))\n-* **http:** fixed proxy-from-env module import ([#5222](https://github.com/axios/axios/issues/5222)) ([12b3295](https://github.com/axios/axios/commit/12b32957f1258aee94ef859809ed39f8f88f9dfa))\n-* **http:** use `globalThis.TextEncoder` when available ([#6634](https://github.com/axios/axios/issues/6634)) ([df956d1](https://github.com/axios/axios/commit/df956d18febc9100a563298dfdf0f102c3d15410))\n-* ios11 breaks when build ([#6608](https://github.com/axios/axios/issues/6608)) ([7638952](https://github.com/axios/axios/commit/763895270f7b50c7c780c3c9807ae8635de952cd))\n-* **types:** add missing types for mergeConfig function ([#6590](https://github.com/axios/axios/issues/6590)) ([00de614](https://github.com/axios/axios/commit/00de614cd07b7149af335e202aef0e076c254f49))\n-* **types:** export CJS types from ESM ([#6218](https://github.com/axios/axios/issues/6218)) ([c71811b](https://github.com/axios/axios/commit/c71811b00f2fcff558e4382ba913bdac4ad7200e))\n-* updated stream aborted error message to be more clear ([#6615](https://github.com/axios/axios/issues/6615)) ([cc3217a](https://github.com/axios/axios/commit/cc3217a612024d83a663722a56d7a98d8759c6d5))\n-* use URL API instead of DOM to fix a potential vulnerability warning; ([#6714](https://github.com/axios/axios/issues/6714)) ([0a8d6e1](https://github.com/axios/axios/commit/0a8d6e19da5b9899a2abafaaa06a75ee548597db))\n-\n-### Contributors to this release\n-\n-- <img src=\"https://avatars.githubusercontent.com/u/779047?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Remco Haszing](https://github.com/remcohaszing \"+108/-596 (#6218 )\")\n-- <img src=\"https://avatars.githubusercontent.com/u/4814473?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Jay](https://github.com/jasonsaayman \"+281/-19 (#6640 #6619 )\")\n-- <img src=\"https://avatars.githubusercontent.com/u/140250471?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Aayush Yadav](https://github.com/aayushyadav020 \"+124/-111 (#6617 )\")\n-- <img src=\"https://avatars.githubusercontent.com/u/12586868?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Dmitriy Mozgovoy](https://github.com/DigitalBrainJS \"+12/-65 (#6714 )\")\n-- <img src=\"https://avatars.githubusercontent.com/u/479715?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Ell Bradshaw](https://github.com/cincodenada \"+29/-0 (#6489 )\")\n-- <img src=\"https://avatars.githubusercontent.com/u/60218780?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Amit Saini](https://github.com/amitsainii \"+13/-3 (#5237 )\")\n-- <img src=\"https://avatars.githubusercontent.com/u/19817867?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Tommaso Paulon](https://github.com/guuido \"+14/-1 (#6680 )\")\n-- <img src=\"https://avatars.githubusercontent.com/u/63336443?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Akki](https://github.com/Aakash-Rana \"+5/-5 (#6668 )\")\n-- <img src=\"https://avatars.githubusercontent.com/u/20028934?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Sampo Silvennoinen](https://github.com/stscoundrel \"+3/-3 (#6633 )\")\n-- <img src=\"https://avatars.githubusercontent.com/u/1174718?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Kasper Isager Dalsgar\u00f0](https://github.com/kasperisager \"+2/-2 (#6634 )\")\n-- <img src=\"https://avatars.githubusercontent.com/u/3709715?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Christian Clauss](https://github.com/cclauss \"+4/-0 (#6683 )\")\n-- <img src=\"https://avatars.githubusercontent.com/u/1639119?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Pavan Welihinda](https://github.com/pavan168 \"+2/-2 (#5222 )\")\n-- <img src=\"https://avatars.githubusercontent.com/u/5742900?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Taylor Flatt](https://github.com/taylorflatt \"+2/-2 (#6615 )\")\n-- <img src=\"https://avatars.githubusercontent.com/u/79452224?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Kenzo Wada](https://github.com/Kenzo-Wada \"+2/-2 (#6608 )\")\n-- <img src=\"https://avatars.githubusercontent.com/u/50064240?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Ngole Lawson](https://github.com/echelonnought \"+3/-0 (#6644 )\")\n-- <img src=\"https://avatars.githubusercontent.com/u/1262198?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Haven](https://github.com/Baoyx007 \"+3/-0 (#6590 )\")\n-- <img src=\"https://avatars.githubusercontent.com/u/149003676?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Shrivali Dutt](https://github.com/shrivalidutt \"+1/-1 (#6637 )\")\n-- <img src=\"https://avatars.githubusercontent.com/u/1304290?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Henco Appel](https://github.com/hencoappel \"+1/-1 (#6605 )\")\n-\n-## [1.7.7](https://github.com/axios/axios/compare/v1.7.6...v1.7.7) (2024-08-31)\n-\n-\n-### Bug Fixes\n-\n-* **fetch:** fix stream handling in Safari by fallback to using a stream reader instead of an async iterator; ([#6584](https://github.com/axios/axios/issues/6584)) ([d198085](https://github.com/axios/axios/commit/d1980854fee1765cd02fa0787adf5d6e34dd9dcf))\n-* **http:** fixed support for IPv6 literal strings in url ([#5731](https://github.com/axios/axios/issues/5731)) ([364993f](https://github.com/axios/axios/commit/364993f0d8bc6e0e06f76b8a35d2d0a35cab054c))\n-\n-### Contributors to this release\n-\n-- <img src=\"https://avatars.githubusercontent.com/u/10539109?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Rishi556](https://github.com/Rishi556 \"+39/-1 (#5731 )\")\n-- <img src=\"https://avatars.githubusercontent.com/u/12586868?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Dmitriy Mozgovoy](https://github.com/DigitalBrainJS \"+27/-7 (#6584 )\")\n-\n-## [1.7.6](https://github.com/axios/axios/compare/v1.7.5...v1.7.6) (2024-08-30)\n-\n-\n-### Bug Fixes\n-\n-* **fetch:** fix content length calculation for FormData payload; ([#6524](https://github.com/axios/axios/issues/6524)) ([085f568](https://github.com/axios/axios/commit/085f56861a83e9ac02c140ad9d68dac540dfeeaa))\n-* **fetch:** optimize signals composing logic; ([#6582](https://github.com/axios/axios/issues/6582)) ([df9889b](https://github.com/axios/axios/commit/df9889b83c2cc37e9e6189675a73ab70c60f031f))\n-\n-### Contributors to this release\n-\n-- <img src=\"https://avatars.githubusercontent.com/u/12586868?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Dmitriy Mozgovoy](https://github.com/DigitalBrainJS \"+98/-46 (#6582 )\")\n-- <img src=\"https://avatars.githubusercontent.com/u/3534453?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Jacques Germishuys](https://github.com/jacquesg \"+5/-1 (#6524 )\")\n-- <img src=\"https://avatars.githubusercontent.com/u/53894505?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [kuroino721](https://github.com/kuroino721 \"+3/-1 (#6575 )\")\n-\n-## [1.7.5](https://github.com/axios/axios/compare/v1.7.4...v1.7.5) (2024-08-23)\n-\n-\n-### Bug Fixes\n-\n-* **adapter:** fix undefined reference to hasBrowserEnv ([#6572](https://github.com/axios/axios/issues/6572)) ([7004707](https://github.com/axios/axios/commit/7004707c4180b416341863bd86913fe4fc2f1df1))\n-* **core:** add the missed implementation of AxiosError#status property; ([#6573](https://github.com/axios/axios/issues/6573)) ([6700a8a](https://github.com/axios/axios/commit/6700a8adac06942205f6a7a21421ecb36c4e0852))\n-* **core:** fix `ReferenceError: navigator is not defined` for custom environments; ([#6567](https://github.com/axios/axios/issues/6567)) ([fed1a4b](https://github.com/axios/axios/commit/fed1a4b2d78ed4a588c84e09d32749ed01dc2794))\n-* **fetch:** fix credentials handling in Cloudflare workers ([#6533](https://github.com/axios/axios/issues/6533)) ([550d885](https://github.com/axios/axios/commit/550d885eb90fd156add7b93bbdc54d30d2f9a98d))\n-\n-### Contributors to this release\n-\n-- <img src=\"https://avatars.githubusercontent.com/u/12586868?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Dmitriy Mozgovoy](https://github.com/DigitalBrainJS \"+187/-83 (#6573 #6567 #6566 #6564 #6563 #6557 #6556 #6555 #6554 #6552 )\")\n-- <img src=\"https://avatars.githubusercontent.com/u/2495809?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Antonin Bas](https://github.com/antoninbas \"+6/-6 (#6572 )\")\n-- <img src=\"https://avatars.githubusercontent.com/u/5406212?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Hans Otto Wirtz](https://github.com/hansottowirtz \"+4/-1 (#6533 )\")\n-\n-## [1.7.4](https://github.com/axios/axios/compare/v1.7.3...v1.7.4) (2024-08-13)\n-\n-\n-### Bug Fixes\n-\n-* **sec:** CVE-2024-39338 ([#6539](https://github.com/axios/axios/issues/6539)) ([#6543](https://github.com/axios/axios/issues/6543)) ([6b6b605](https://github.com/axios/axios/commit/6b6b605eaf73852fb2dae033f1e786155959de3a))\n-* **sec:** disregard protocol-relative URL to remediate SSRF ([#6539](https://github.com/axios/axios/issues/6539)) ([07a661a](https://github.com/axios/axios/commit/07a661a2a6b9092c4aa640dcc7f724ec5e65bdda))\n-\n-### Contributors to this release\n-\n-- <img src=\"https://avatars.githubusercontent.com/u/31389480?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Lev Pachmanov](https://github.com/levpachmanov \"+47/-11 (#6543 )\")\n-- <img src=\"https://avatars.githubusercontent.com/u/41283691?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [\u0110\u1ed7 Tr\u1ecdng H\u1ea3i](https://github.com/hainenber \"+49/-4 (#6539 )\")\n-\n-## [1.7.3](https://github.com/axios/axios/compare/v1.7.2...v1.7.3) (2024-08-01)\n-\n-\n-### Bug Fixes\n-\n-* **adapter:** fix progress event emitting; ([#6518](https://github.com/axios/axios/issues/6518)) ([e3c76fc](https://github.com/axios/axios/commit/e3c76fc9bdd03aa4d98afaf211df943e2031453f))\n-* **fetch:** fix withCredentials request config ([#6505](https://github.com/axios/axios/issues/6505)) ([85d4d0e](https://github.com/axios/axios/commit/85d4d0ea0aae91082f04e303dec46510d1b4e787))\n-* **xhr:** return original config on errors from XHR adapter ([#6515](https://github.com/axios/axios/issues/6515)) ([8966ee7](https://github.com/axios/axios/commit/8966ee7ea62ecbd6cfb39a905939bcdab5cf6388))\n-\n-### Contributors to this release\n-\n-- <img src=\"https://avatars.githubusercontent.com/u/12586868?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Dmitriy Mozgovoy](https://github.com/DigitalBrainJS \"+211/-159 (#6518 #6519 )\")\n-- <img src=\"https://avatars.githubusercontent.com/u/10867286?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Valerii Sidorenko](https://github.com/ValeraS \"+3/-3 (#6515 )\")\n-- <img src=\"https://avatars.githubusercontent.com/u/8599535?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [prianYu](https://github.com/prianyu \"+2/-2 (#6505 )\")\n-\n-## [1.7.2](https://github.com/axios/axios/compare/v1.7.1...v1.7.2) (2024-05-21)\n-\n-\n-### Bug Fixes\n-\n-* **fetch:** enhance fetch API detection; ([#6413](https://github.com/axios/axios/issues/6413)) ([4f79aef](https://github.com/axios/axios/commit/4f79aef81b7c4644328365bfc33acf0a9ef595bc))\n-\n-### Contributors to this release\n-\n-- <img src=\"https://avatars.githubusercontent.com/u/12586868?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Dmitriy Mozgovoy](https://github.com/DigitalBrainJS \"+3/-3 (#6413 )\")\n-\n-## [1.7.1](https://github.com/axios/axios/compare/v1.7.0...v1.7.1) (2024-05-20)\n-\n-\n-### Bug Fixes\n-\n-* **fetch:** fixed ReferenceError issue when TextEncoder is not available in the environment; ([#6410](https://github.com/axios/axios/issues/6410)) ([733f15f](https://github.com/axios/axios/commit/733f15fe5bd2d67e1fadaee82e7913b70d45dc5e))\n-\n-### Contributors to this release\n-\n-- <img src=\"https://avatars.githubusercontent.com/u/12586868?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Dmitriy Mozgovoy](https://github.com/DigitalBrainJS \"+14/-9 (#6410 )\")\n-\n+# Changelog\r\n+\r\n+# [1.13.0](https://github.com/axios/axios/compare/v1.12.2...v1.13.0) (2025-10-27)\r\n+\r\n+\r\n+### Bug Fixes\r\n+\r\n+* **fetch:** prevent TypeError when config.env is undefined ([#7155](https://github.com/axios/axios/issues/7155)) ([015faec](https://github.com/axios/axios/commit/015faeca9f26db76f9562760f04bb9f8229f4db1))\r\n+* resolve issue [#7131](https://github.com/axios/axios/issues/7131) (added spacing in mergeConfig.js) ([#7133](https://github.com/axios/axios/issues/7133)) ([9b9ec98](https://github.com/axios/axios/commit/9b9ec98548d93e9f2204deea10a5f1528bf3ce62))\r\n+\r\n+\r\n+### Features\r\n+\r\n+* **http:** add HTTP2 support; ([#7150](https://github.com/axios/axios/issues/7150)) ([d676df7](https://github.com/axios/axios/commit/d676df772244726533ca320f42e967f5af056bac))\r\n+\r\n+### Contributors to this release\r\n+\r\n+- <img src=\"https://avatars.githubusercontent.com/u/12586868?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Dmitriy Mozgovoy](https://github.com/DigitalBrainJS \"+794/-180 (#7186 #7150 #7039 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/189505037?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Noritaka Kobayashi](https://github.com/noritaka1166 \"+24/-509 (#7032 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/195581631?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Aviraj2929](https://github.com/Aviraj2929 \"+211/-93 (#7136 #7135 #7134 #7112 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/181717941?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [prasoon patel](https://github.com/Prasoon52 \"+167/-6 (#7099 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/141911040?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Samyak Dandge](https://github.com/Samy-in \"+134/-0 (#7171 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/128113546?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Anchal Singh](https://github.com/imanchalsingh \"+53/-56 (#7170 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/146073621?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Rahul Kumar](https://github.com/jaiyankargupta \"+28/-28 (#7073 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/148716794?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Amit Verma](https://github.com/Amitverma0509 \"+24/-13 (#7129 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/141427581?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Abhishek3880](https://github.com/abhishekmaniy \"+23/-4 (#7119 #7117 #7116 #7115 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/91522146?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Dhvani Maktuporia](https://github.com/Dhvani365 \"+14/-5 (#7175 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/41838423?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Usama Ayoub](https://github.com/sam3690 \"+4/-4 (#7133 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/79366821?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [ikuy1203](https://github.com/ikuy1203 \"+3/-3 (#7166 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/74639234?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Nikhil Simon Toppo](https://github.com/Kirito-Excalibur \"+1/-1 (#7172 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/200562195?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Jane Wangari](https://github.com/Wangarijane \"+1/-1 (#7155 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/78318848?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Supakorn Ieamgomol](https://github.com/Supakornn \"+1/-1 (#7065 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/134518?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Kian-Meng Ang](https://github.com/kianmeng \"+1/-1 (#7046 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/13148112?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [UTSUMI Keiji](https://github.com/k-utsumi \"+1/-1 (#7037 )\")\r\n+\r\n+## [1.12.2](https://github.com/axios/axios/compare/v1.12.1...v1.12.2) (2025-09-14)\r\n+\r\n+\r\n+### Bug Fixes\r\n+\r\n+* **fetch:** use current global fetch instead of cached one when env fetch is not specified to keep MSW support; ([#7030](https://github.com/axios/axios/issues/7030)) ([cf78825](https://github.com/axios/axios/commit/cf78825e1229b60d1629ad0bbc8a752ff43c3f53))\r\n+\r\n+### Contributors to this release\r\n+\r\n+- <img src=\"https://avatars.githubusercontent.com/u/12586868?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Dmitriy Mozgovoy](https://github.com/DigitalBrainJS \"+247/-16 (#7030 #7022 #7024 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/189505037?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Noritaka Kobayashi](https://github.com/noritaka1166 \"+2/-6 (#7028 #7029 )\")\r\n+\r\n+## [1.12.1](https://github.com/axios/axios/compare/v1.12.0...v1.12.1) (2025-09-12)\r\n+\r\n+\r\n+### Bug Fixes\r\n+\r\n+* **types:** fixed env config types; ([#7020](https://github.com/axios/axios/issues/7020)) ([b5f26b7](https://github.com/axios/axios/commit/b5f26b75bdd9afa95016fb67d0cab15fc74cbf05))\r\n+\r\n+### Contributors to this release\r\n+\r\n+- <img src=\"https://avatars.githubusercontent.com/u/12586868?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Dmitriy Mozgovoy](https://github.com/DigitalBrainJS \"+10/-4 (#7020 )\")\r\n+\r\n+# [1.12.0](https://github.com/axios/axios/compare/v1.11.0...v1.12.0) (2025-09-11)\r\n+\r\n+\r\n+### Bug Fixes\r\n+\r\n+* adding build artifacts ([9ec86de](https://github.com/axios/axios/commit/9ec86de257bfa33856571036279169f385ed92bd))\r\n+* dont add dist on release ([a2edc36](https://github.com/axios/axios/commit/a2edc3606a4f775d868a67bb3461ff18ce7ecd11))\r\n+* **fetch-adapter:** set correct Content-Type for Node FormData ([#6998](https://github.com/axios/axios/issues/6998)) ([a9f47af](https://github.com/axios/axios/commit/a9f47afbf3224d2ca987dbd8188789c7ea853c5d))\r\n+* **node:** enforce maxContentLength for data: URLs ([#7011](https://github.com/axios/axios/issues/7011)) ([945435f](https://github.com/axios/axios/commit/945435fc51467303768202250debb8d4ae892593))\r\n+* package exports ([#5627](https://github.com/axios/axios/issues/5627)) ([aa78ac2](https://github.com/axios/axios/commit/aa78ac23fc9036163308c0f6bd2bb885e7af3f36))\r\n+* **params:** removing '[' and ']' from URL encode exclude characters ([#3316](https://github.com/axios/axios/issues/3316)) ([#5715](https://github.com/axios/axios/issues/5715)) ([6d84189](https://github.com/axios/axios/commit/6d84189349c43b1dcdd977b522610660cc4c7042))\r\n+* release pr run ([fd7f404](https://github.com/axios/axios/commit/fd7f404488b2c4f238c2fbe635b58026a634bfd2))\r\n+* **types:** change the type guard on isCancel ([#5595](https://github.com/axios/axios/issues/5595)) ([0dbb7fd](https://github.com/axios/axios/commit/0dbb7fd4f61dc568498cd13a681fa7f907d6ec7e))\r\n+\r\n+\r\n+### Features\r\n+\r\n+* **adapter:** surface low\u2011level network error details; attach original error via cause ([#6982](https://github.com/axios/axios/issues/6982)) ([78b290c](https://github.com/axios/axios/commit/78b290c57c978ed2ab420b90d97350231c9e5d74))\r\n+* **fetch:** add fetch, Request, Response env config variables for the adapter; ([#7003](https://github.com/axios/axios/issues/7003)) ([c959ff2](https://github.com/axios/axios/commit/c959ff29013a3bc90cde3ac7ea2d9a3f9c08974b))\r\n+* support reviver on JSON.parse ([#5926](https://github.com/axios/axios/issues/5926)) ([2a97634](https://github.com/axios/axios/commit/2a9763426e43d996fd60d01afe63fa6e1f5b4fca)), closes [#5924](https://github.com/axios/axios/issues/5924)\r\n+* **types:** extend AxiosResponse interface to include custom headers type ([#6782](https://github.com/axios/axios/issues/6782)) ([7960d34](https://github.com/axios/axios/commit/7960d34eded2de66ffd30b4687f8da0e46c4903e))\r\n+\r\n+### Contributors to this release\r\n+\r\n+- <img src=\"https://avatars.githubusercontent.com/u/22686401?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Willian Agostini](https://github.com/WillianAgostini \"+132/-16760 (#7002 #5926 #6782 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/12586868?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Dmitriy Mozgovoy](https://github.com/DigitalBrainJS \"+4263/-293 (#7006 #7003 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/53833811?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [khani](https://github.com/mkhani01 \"+111/-15 (#6982 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/7712804?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Ameer Assadi](https://github.com/AmeerAssadi \"+123/-0 (#7011 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/70265727?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Emiedonmokumo Dick-Boro](https://github.com/emiedonmokumo \"+55/-35 (#6998 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/47859767?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Zeroday BYTE](https://github.com/opsysdebug \"+8/-8 (#6980 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/4814473?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Jason Saayman](https://github.com/jasonsaayman \"+7/-7 (#6985 #6985 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/13010755?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [\ucd5c\uc608\ucc2c](https://github.com/HealGaren \"+5/-7 (#5715 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/7002604?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Gligor Kotushevski](https://github.com/gligorkot \"+3/-1 (#5627 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/15893?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Aleksandar Dimitrov](https://github.com/adimit \"+2/-1 (#5595 )\")\r\n+\r\n+# [1.11.0](https://github.com/axios/axios/compare/v1.10.0...v1.11.0) (2025-07-22)\r\n+\r\n+\r\n+### Bug Fixes\r\n+\r\n+* form-data npm pakcage ([#6970](https://github.com/axios/axios/issues/6970)) ([e72c193](https://github.com/axios/axios/commit/e72c193722530db538b19e5ddaaa4544d226b253))\r\n+* prevent RangeError when using large Buffers ([#6961](https://github.com/axios/axios/issues/6961)) ([a2214ca](https://github.com/axios/axios/commit/a2214ca1bc60540baf2c80573cea3a0ff91ba9d1))\r\n+* **types:** resolve type discrepancies between ESM and CJS TypeScript declaration files ([#6956](https://github.com/axios/axios/issues/6956)) ([8517aa1](https://github.com/axios/axios/commit/8517aa16f8d082fc1d5309c642220fa736159110))\r\n+\r\n+### Contributors to this release\r\n+\r\n+- <img src=\"https://avatars.githubusercontent.com/u/12534341?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [izzy goldman](https://github.com/izzygld \"+186/-93 (#6970 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/142807367?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Manish Sahani](https://github.com/manishsahanidev \"+70/-0 (#6961 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/189505037?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Noritaka Kobayashi](https://github.com/noritaka1166 \"+12/-10 (#6938 #6939 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/392612?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [James Nail](https://github.com/jrnail23 \"+13/-2 (#6956 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/163745239?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Tejaswi1305](https://github.com/Tejaswi1305 \"+1/-1 (#6894 )\")\r\n+\r\n+# [1.10.0](https://github.com/axios/axios/compare/v1.9.0...v1.10.0) (2025-06-14)\r\n+\r\n+\r\n+### Bug Fixes\r\n+\r\n+* **adapter:** pass fetchOptions to fetch function ([#6883](https://github.com/axios/axios/issues/6883)) ([0f50af8](https://github.com/axios/axios/commit/0f50af8e076b7fb403844789bd5e812dedcaf4ed))\r\n+* **form-data:** convert boolean values to strings in FormData serialization ([#6917](https://github.com/axios/axios/issues/6917)) ([5064b10](https://github.com/axios/axios/commit/5064b108de336ff34862650709761b8a96d26be0))\r\n+* **package:** add module entry point for React Native; ([#6933](https://github.com/axios/axios/issues/6933)) ([3d343b8](https://github.com/axios/axios/commit/3d343b86dc4fd0eea0987059c5af04327c7ae304))\r\n+\r\n+\r\n+### Features\r\n+\r\n+* **types:** improved fetchOptions interface ([#6867](https://github.com/axios/axios/issues/6867)) ([63f1fce](https://github.com/axios/axios/commit/63f1fce233009f5db1abf2586c145825ac98c3d7))\r\n+\r\n+### Contributors to this release\r\n+\r\n+- <img src=\"https://avatars.githubusercontent.com/u/12586868?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Dmitriy Mozgovoy](https://github.com/DigitalBrainJS \"+30/-19 (#6933 #6920 #6893 #6892 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/189505037?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Noritaka Kobayashi](https://github.com/noritaka1166 \"+2/-6 (#6922 #6923 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/48370490?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Dimitrios Lazanas](https://github.com/dimitry-lzs \"+4/-0 (#6917 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/71047946?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Adrian Knapp](https://github.com/AdrianKnapp \"+2/-2 (#6867 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/16129206?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Howie Zhao](https://github.com/howiezhao \"+3/-1 (#6872 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/6788611?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Uhyeon Park](https://github.com/warpdev \"+1/-1 (#6883 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/20028934?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Sampo Silvennoinen](https://github.com/stscoundrel \"+1/-1 (#6913 )\")\r\n+\r\n+# [1.9.0](https://github.com/axios/axios/compare/v1.8.4...v1.9.0) (2025-04-24)\r\n+\r\n+\r\n+### Bug Fixes\r\n+\r\n+* **core:** fix the Axios constructor implementation to treat the config argument as optional; ([#6881](https://github.com/axios/axios/issues/6881)) ([6c5d4cd](https://github.com/axios/axios/commit/6c5d4cd69286868059c5e52d45085cb9a894a983))\r\n+* **fetch:** fixed ERR_NETWORK mapping for Safari browsers; ([#6767](https://github.com/axios/axios/issues/6767)) ([dfe8411](https://github.com/axios/axios/commit/dfe8411c9a082c3d068bdd1f8d6e73054f387f45))\r\n+* **headers:** allow iterable objects to be a data source for the set method; ([#6873](https://github.com/axios/axios/issues/6873)) ([1b1f9cc](https://github.com/axios/axios/commit/1b1f9ccdc15f1ea745160ec9a5223de9db4673bc))\r\n+* **headers:** fix `getSetCookie` by using 'get' method for caseless access; ([#6874](https://github.com/axios/axios/issues/6874)) ([d4f7df4](https://github.com/axios/axios/commit/d4f7df4b304af8b373488fdf8e830793ff843eb9))\r\n+* **headers:** fixed support for setting multiple header values from an iterated source; ([#6885](https://github.com/axios/axios/issues/6885)) ([f7a3b5e](https://github.com/axios/axios/commit/f7a3b5e0f7e5e127b97defa92a132fbf1b55cf15))\r\n+* **http:** send minimal end multipart boundary ([#6661](https://github.com/axios/axios/issues/6661)) ([987d2e2](https://github.com/axios/axios/commit/987d2e2dd3b362757550f36eab875e60640b6ddc))\r\n+* **types:** fix autocomplete for adapter config ([#6855](https://github.com/axios/axios/issues/6855)) ([e61a893](https://github.com/axios/axios/commit/e61a8934d8f94dd429a2f309b48c67307c700df0))\r\n+\r\n+\r\n+### Features\r\n+\r\n+* **AxiosHeaders:** add getSetCookie method to retrieve set-cookie headers values ([#5707](https://github.com/axios/axios/issues/5707)) ([80ea756](https://github.com/axios/axios/commit/80ea756e72bcf53110fa792f5d7ab76e8b11c996))\r\n+\r\n+### Contributors to this release\r\n+\r\n+- <img src=\"https://avatars.githubusercontent.com/u/12586868?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Dmitriy Mozgovoy](https://github.com/DigitalBrainJS \"+200/-34 (#6890 #6889 #6888 #6885 #6881 #6767 #6874 #6873 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/4814473?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Jay](https://github.com/jasonsaayman \"+26/-1 ()\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/22686401?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Willian Agostini](https://github.com/WillianAgostini \"+21/-0 (#5707 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/2500247?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [George Cheng](https://github.com/Gerhut \"+3/-3 (#5096 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/30260221?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [FatahChan](https://github.com/FatahChan \"+2/-2 (#6855 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/49002?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Ionu\u021b G. Stan](https://github.com/igstan \"+1/-1 (#6661 )\")\r\n+\r\n+## [1.8.4](https://github.com/axios/axios/compare/v1.8.3...v1.8.4) (2025-03-19)\r\n+\r\n+\r\n+### Bug Fixes\r\n+\r\n+* **buildFullPath:** handle `allowAbsoluteUrls: false` without `baseURL` ([#6833](https://github.com/axios/axios/issues/6833)) ([f10c2e0](https://github.com/axios/axios/commit/f10c2e0de7fde0051f848609a29c2906d0caa1d9))\r\n+\r\n+### Contributors to this release\r\n+\r\n+- <img src=\"https://avatars.githubusercontent.com/u/8029107?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Marc Hassan](https://github.com/mhassan1 \"+5/-1 (#6833 )\")\r\n+\r\n+## [1.8.3](https://github.com/axios/axios/compare/v1.8.2...v1.8.3) (2025-03-10)\r\n+\r\n+\r\n+### Bug Fixes\r\n+\r\n+* add missing type for allowAbsoluteUrls ([#6818](https://github.com/axios/axios/issues/6818)) ([10fa70e](https://github.com/axios/axios/commit/10fa70ef14fe39558b15a179f0e82f5f5e5d11b2))\r\n+* **xhr/fetch:** pass `allowAbsoluteUrls` to `buildFullPath` in `xhr` and `fetch` adapters ([#6814](https://github.com/axios/axios/issues/6814)) ([ec159e5](https://github.com/axios/axios/commit/ec159e507bdf08c04ba1a10fe7710094e9e50ec9))\r\n+\r\n+### Contributors to this release\r\n+\r\n+- <img src=\"https://avatars.githubusercontent.com/u/3238291?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Ashcon Partovi](https://github.com/Electroid \"+6/-0 (#6811 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/28559054?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [StefanBRas](https://github.com/StefanBRas \"+4/-0 (#6818 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/8029107?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Marc Hassan](https://github.com/mhassan1 \"+2/-2 (#6814 )\")\r\n+\r\n+## [1.8.2](https://github.com/axios/axios/compare/v1.8.1...v1.8.2) (2025-03-07)\r\n+\r\n+\r\n+### Bug Fixes\r\n+\r\n+* **http-adapter:** add allowAbsoluteUrls to path building ([#6810](https://github.com/axios/axios/issues/6810)) ([fb8eec2](https://github.com/axios/axios/commit/fb8eec214ce7744b5ca787f2c3b8339b2f54b00f))\r\n+\r\n+### Contributors to this release\r\n+\r\n+- <img src=\"https://avatars.githubusercontent.com/u/14166260?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Fasoro-Joseph Alexander](https://github.com/lexcorp16 \"+1/-1 (#6810 )\")\r\n+\r\n+## [1.8.1](https://github.com/axios/axios/compare/v1.8.0...v1.8.1) (2025-02-26)\r\n+\r\n+\r\n+### Bug Fixes\r\n+\r\n+* **utils:** move `generateString` to platform utils to avoid importing crypto module into client builds; ([#6789](https://github.com/axios/axios/issues/6789)) ([36a5a62](https://github.com/axios/axios/commit/36a5a620bec0b181451927f13ac85b9888b86cec))\r\n+\r\n+### Contributors to this release\r\n+\r\n+- <img src=\"https://avatars.githubusercontent.com/u/12586868?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Dmitriy Mozgovoy](https://github.com/DigitalBrainJS \"+51/-47 (#6789 )\")\r\n+\r\n+# [1.8.0](https://github.com/axios/axios/compare/v1.7.9...v1.8.0) (2025-02-25)\r\n+\r\n+\r\n+### Bug Fixes\r\n+\r\n+* **examples:** application crashed when navigating examples in browser ([#5938](https://github.com/axios/axios/issues/5938)) ([1260ded](https://github.com/axios/axios/commit/1260ded634ec101dd5ed05d3b70f8e8f899dba6c))\r\n+* missing word in SUPPORT_QUESTION.yml ([#6757](https://github.com/axios/axios/issues/6757)) ([1f890b1](https://github.com/axios/axios/commit/1f890b13f2c25a016f3c84ae78efb769f244133e))\r\n+* **utils:** replace getRandomValues with crypto module ([#6788](https://github.com/axios/axios/issues/6788)) ([23a25af](https://github.com/axios/axios/commit/23a25af0688d1db2c396deb09229d2271cc24f6c))\r\n+\r\n+\r\n+### Features\r\n+\r\n+* Add config for ignoring absolute URLs ([#5902](https://github.com/axios/axios/issues/5902)) ([#6192](https://github.com/axios/axios/issues/6192)) ([32c7bcc](https://github.com/axios/axios/commit/32c7bcc0f233285ba27dec73a4b1e81fb7a219b3))\r\n+\r\n+\r\n+### Reverts\r\n+\r\n+* Revert \"chore: expose fromDataToStream to be consumable (#6731)\" (#6732) ([1317261](https://github.com/axios/axios/commit/1317261125e9c419fe9f126867f64d28f9c1efda)), closes [#6731](https://github.com/axios/axios/issues/6731) [#6732](https://github.com/axios/axios/issues/6732)\r\n+\r\n+\r\n+### BREAKING CHANGES\r\n+\r\n+* code relying on the above will now combine the URLs instead of prefer request URL\r\n+\r\n+* feat: add config option for allowing absolute URLs\r\n+\r\n+* fix: add default value for allowAbsoluteUrls in buildFullPath\r\n+\r\n+* fix: typo in flow control when setting allowAbsoluteUrls\r\n+\r\n+### Contributors to this release\r\n+\r\n+- <img src=\"https://avatars.githubusercontent.com/u/7661715?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Michael Toscano](https://github.com/GethosTheWalrus \"+42/-8 (#6192 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/22686401?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Willian Agostini](https://github.com/WillianAgostini \"+26/-3 (#6788 #6777 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/72578270?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Naron](https://github.com/naronchen \"+27/-0 (#5901 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/47430686?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [shravan || \u0936\u094d\u0930van](https://github.com/shravan20 \"+7/-3 (#6116 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/145078271?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Justin Dhillon](https://github.com/justindhillon \"+0/-7 (#6312 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/30925732?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [yionr](https://github.com/yionr \"+5/-1 (#6129 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/534166?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Shin&#x27;ya Ueoka](https://github.com/ueokande \"+3/-3 (#5935 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/33569?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Dan Dascalescu](https://github.com/dandv \"+3/-3 (#5908 #6757 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/16476523?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Nitin Ramnani](https://github.com/NitinRamnani \"+2/-2 (#5938 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/152275799?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Shay Molcho](https://github.com/shaymolcho \"+2/-2 (#6770 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/4814473?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Jay](https://github.com/jasonsaayman \"+0/-3 (#6732 )\")\r\n+- fancy45daddy\r\n+- <img src=\"https://avatars.githubusercontent.com/u/127725897?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Habip Akyol](https://github.com/habipakyol \"+1/-1 (#6030 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/54869395?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Bailey Lissington](https://github.com/llamington \"+1/-1 (#6771 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/14969290?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Bernardo da Eira Duarte](https://github.com/bernardoduarte \"+1/-1 (#6480 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/117800149?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Shivam Batham](https://github.com/Shivam-Batham \"+1/-1 (#5949 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/67861627?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Lipin Kariappa](https://github.com/lipinnnnn \"+1/-1 (#5936 )\")\r\n+\r\n+## [1.7.9](https://github.com/axios/axios/compare/v1.7.8...v1.7.9) (2024-12-04)\r\n+\r\n+\r\n+### Reverts\r\n+\r\n+* Revert \"fix(types): export CJS types from ESM (#6218)\" (#6729) ([c44d2f2](https://github.com/axios/axios/commit/c44d2f2316ad289b38997657248ba10de11deb6c)), closes [#6218](https://github.com/axios/axios/issues/6218) [#6729](https://github.com/axios/axios/issues/6729)\r\n+\r\n+### Contributors to this release\r\n+\r\n+- <img src=\"https://avatars.githubusercontent.com/u/4814473?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Jay](https://github.com/jasonsaayman \"+596/-108 (#6729 )\")\r\n+\r\n+## [1.7.8](https://github.com/axios/axios/compare/v1.7.7...v1.7.8) (2024-11-25)\r\n+\r\n+\r\n+### Bug Fixes\r\n+\r\n+* allow passing a callback as paramsSerializer to buildURL ([#6680](https://github.com/axios/axios/issues/6680)) ([eac4619](https://github.com/axios/axios/commit/eac4619fe2e0926e876cd260ee21e3690381dbb5))\r\n+* **core:** fixed config merging bug ([#6668](https://github.com/axios/axios/issues/6668)) ([5d99fe4](https://github.com/axios/axios/commit/5d99fe4491202a6268c71e5dcc09192359d73cea))\r\n+* fixed width form to not shrink after 'Send Request' button is clicked ([#6644](https://github.com/axios/axios/issues/6644)) ([7ccd5fd](https://github.com/axios/axios/commit/7ccd5fd42402102d38712c32707bf055be72ab54))\r\n+* **http:** add support for File objects as payload in http adapter ([#6588](https://github.com/axios/axios/issues/6588)) ([#6605](https://github.com/axios/axios/issues/6605)) ([6841d8d](https://github.com/axios/axios/commit/6841d8d18ddc71cc1bd202ffcfddb3f95622eef3))\r\n+* **http:** fixed proxy-from-env module import ([#5222](https://github.com/axios/axios/issues/5222)) ([12b3295](https://github.com/axios/axios/commit/12b32957f1258aee94ef859809ed39f8f88f9dfa))\r\n+* **http:** use `globalThis.TextEncoder` when available ([#6634](https://github.com/axios/axios/issues/6634)) ([df956d1](https://github.com/axios/axios/commit/df956d18febc9100a563298dfdf0f102c3d15410))\r\n+* ios11 breaks when build ([#6608](https://github.com/axios/axios/issues/6608)) ([7638952](https://github.com/axios/axios/commit/763895270f7b50c7c780c3c9807ae8635de952cd))\r\n+* **types:** add missing types for mergeConfig function ([#6590](https://github.com/axios/axios/issues/6590)) ([00de614](https://github.com/axios/axios/commit/00de614cd07b7149af335e202aef0e076c254f49))\r\n+* **types:** export CJS types from ESM ([#6218](https://github.com/axios/axios/issues/6218)) ([c71811b](https://github.com/axios/axios/commit/c71811b00f2fcff558e4382ba913bdac4ad7200e))\r\n+* updated stream aborted error message to be more clear ([#6615](https://github.com/axios/axios/issues/6615)) ([cc3217a](https://github.com/axios/axios/commit/cc3217a612024d83a663722a56d7a98d8759c6d5))\r\n+* use URL API instead of DOM to fix a potential vulnerability warning; ([#6714](https://github.com/axios/axios/issues/6714)) ([0a8d6e1](https://github.com/axios/axios/commit/0a8d6e19da5b9899a2abafaaa06a75ee548597db))\r\n+\r\n+### Contributors to this release\r\n+\r\n+- <img src=\"https://avatars.githubusercontent.com/u/779047?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Remco Haszing](https://github.com/remcohaszing \"+108/-596 (#6218 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/4814473?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Jay](https://github.com/jasonsaayman \"+281/-19 (#6640 #6619 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/140250471?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Aayush Yadav](https://github.com/aayushyadav020 \"+124/-111 (#6617 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/12586868?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Dmitriy Mozgovoy](https://github.com/DigitalBrainJS \"+12/-65 (#6714 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/479715?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Ell Bradshaw](https://github.com/cincodenada \"+29/-0 (#6489 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/60218780?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Amit Saini](https://github.com/amitsainii \"+13/-3 (#5237 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/19817867?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Tommaso Paulon](https://github.com/guuido \"+14/-1 (#6680 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/63336443?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Akki](https://github.com/Aakash-Rana \"+5/-5 (#6668 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/20028934?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Sampo Silvennoinen](https://github.com/stscoundrel \"+3/-3 (#6633 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/1174718?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Kasper Isager Dalsgar\u00f0](https://github.com/kasperisager \"+2/-2 (#6634 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/3709715?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Christian Clauss](https://github.com/cclauss \"+4/-0 (#6683 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/1639119?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Pavan Welihinda](https://github.com/pavan168 \"+2/-2 (#5222 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/5742900?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Taylor Flatt](https://github.com/taylorflatt \"+2/-2 (#6615 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/79452224?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Kenzo Wada](https://github.com/Kenzo-Wada \"+2/-2 (#6608 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/50064240?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Ngole Lawson](https://github.com/echelonnought \"+3/-0 (#6644 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/1262198?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Haven](https://github.com/Baoyx007 \"+3/-0 (#6590 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/149003676?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Shrivali Dutt](https://github.com/shrivalidutt \"+1/-1 (#6637 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/1304290?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Henco Appel](https://github.com/hencoappel \"+1/-1 (#6605 )\")\r\n+\r\n+## [1.7.7](https://github.com/axios/axios/compare/v1.7.6...v1.7.7) (2024-08-31)\r\n+\r\n+\r\n+### Bug Fixes\r\n+\r\n+* **fetch:** fix stream handling in Safari by fallback to using a stream reader instead of an async iterator; ([#6584](https://github.com/axios/axios/issues/6584)) ([d198085](https://github.com/axios/axios/commit/d1980854fee1765cd02fa0787adf5d6e34dd9dcf))\r\n+* **http:** fixed support for IPv6 literal strings in url ([#5731](https://github.com/axios/axios/issues/5731)) ([364993f](https://github.com/axios/axios/commit/364993f0d8bc6e0e06f76b8a35d2d0a35cab054c))\r\n+\r\n+### Contributors to this release\r\n+\r\n+- <img src=\"https://avatars.githubusercontent.com/u/10539109?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Rishi556](https://github.com/Rishi556 \"+39/-1 (#5731 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/12586868?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Dmitriy Mozgovoy](https://github.com/DigitalBrainJS \"+27/-7 (#6584 )\")\r\n+\r\n+## [1.7.6](https://github.com/axios/axios/compare/v1.7.5...v1.7.6) (2024-08-30)\r\n+\r\n+\r\n+### Bug Fixes\r\n+\r\n+* **fetch:** fix content length calculation for FormData payload; ([#6524](https://github.com/axios/axios/issues/6524)) ([085f568](https://github.com/axios/axios/commit/085f56861a83e9ac02c140ad9d68dac540dfeeaa))\r\n+* **fetch:** optimize signals composing logic; ([#6582](https://github.com/axios/axios/issues/6582)) ([df9889b](https://github.com/axios/axios/commit/df9889b83c2cc37e9e6189675a73ab70c60f031f))\r\n+\r\n+### Contributors to this release\r\n+\r\n+- <img src=\"https://avatars.githubusercontent.com/u/12586868?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Dmitriy Mozgovoy](https://github.com/DigitalBrainJS \"+98/-46 (#6582 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/3534453?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Jacques Germishuys](https://github.com/jacquesg \"+5/-1 (#6524 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/53894505?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [kuroino721](https://github.com/kuroino721 \"+3/-1 (#6575 )\")\r\n+\r\n+## [1.7.5](https://github.com/axios/axios/compare/v1.7.4...v1.7.5) (2024-08-23)\r\n+\r\n+\r\n+### Bug Fixes\r\n+\r\n+* **adapter:** fix undefined reference to hasBrowserEnv ([#6572](https://github.com/axios/axios/issues/6572)) ([7004707](https://github.com/axios/axios/commit/7004707c4180b416341863bd86913fe4fc2f1df1))\r\n+* **core:** add the missed implementation of AxiosError#status property; ([#6573](https://github.com/axios/axios/issues/6573)) ([6700a8a](https://github.com/axios/axios/commit/6700a8adac06942205f6a7a21421ecb36c4e0852))\r\n+* **core:** fix `ReferenceError: navigator is not defined` for custom environments; ([#6567](https://github.com/axios/axios/issues/6567)) ([fed1a4b](https://github.com/axios/axios/commit/fed1a4b2d78ed4a588c84e09d32749ed01dc2794))\r\n+* **fetch:** fix credentials handling in Cloudflare workers ([#6533](https://github.com/axios/axios/issues/6533)) ([550d885](https://github.com/axios/axios/commit/550d885eb90fd156add7b93bbdc54d30d2f9a98d))\r\n+\r\n+### Contributors to this release\r\n+\r\n+- <img src=\"https://avatars.githubusercontent.com/u/12586868?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Dmitriy Mozgovoy](https://github.com/DigitalBrainJS \"+187/-83 (#6573 #6567 #6566 #6564 #6563 #6557 #6556 #6555 #6554 #6552 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/2495809?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Antonin Bas](https://github.com/antoninbas \"+6/-6 (#6572 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/5406212?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Hans Otto Wirtz](https://github.com/hansottowirtz \"+4/-1 (#6533 )\")\r\n+\r\n+## [1.7.4](https://github.com/axios/axios/compare/v1.7.3...v1.7.4) (2024-08-13)\r\n+\r\n+\r\n+### Bug Fixes\r\n+\r\n+* **sec:** CVE-2024-39338 ([#6539](https://github.com/axios/axios/issues/6539)) ([#6543](https://github.com/axios/axios/issues/6543)) ([6b6b605](https://github.com/axios/axios/commit/6b6b605eaf73852fb2dae033f1e786155959de3a))\r\n+* **sec:** disregard protocol-relative URL to remediate SSRF ([#6539](https://github.com/axios/axios/issues/6539)) ([07a661a](https://github.com/axios/axios/commit/07a661a2a6b9092c4aa640dcc7f724ec5e65bdda))\r\n+\r\n+### Contributors to this release\r\n+\r\n+- <img src=\"https://avatars.githubusercontent.com/u/31389480?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Lev Pachmanov](https://github.com/levpachmanov \"+47/-11 (#6543 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/41283691?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [\u0110\u1ed7 Tr\u1ecdng H\u1ea3i](https://github.com/hainenber \"+49/-4 (#6539 )\")\r\n+\r\n+## [1.7.3](https://github.com/axios/axios/compare/v1.7.2...v1.7.3) (2024-08-01)\r\n+\r\n+\r\n+### Bug Fixes\r\n+\r\n+* **adapter:** fix progress event emitting; ([#6518](https://github.com/axios/axios/issues/6518)) ([e3c76fc](https://github.com/axios/axios/commit/e3c76fc9bdd03aa4d98afaf211df943e2031453f))\r\n+* **fetch:** fix withCredentials request config ([#6505](https://github.com/axios/axios/issues/6505)) ([85d4d0e](https://github.com/axios/axios/commit/85d4d0ea0aae91082f04e303dec46510d1b4e787))\r\n+* **xhr:** return original config on errors from XHR adapter ([#6515](https://github.com/axios/axios/issues/6515)) ([8966ee7](https://github.com/axios/axios/commit/8966ee7ea62ecbd6cfb39a905939bcdab5cf6388))\r\n+\r\n+### Contributors to this release\r\n+\r\n+- <img src=\"https://avatars.githubusercontent.com/u/12586868?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Dmitriy Mozgovoy](https://github.com/DigitalBrainJS \"+211/-159 (#6518 #6519 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/10867286?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Valerii Sidorenko](https://github.com/ValeraS \"+3/-3 (#6515 )\")\r\n+- <img src=\"https://avatars.githubusercontent.com/u/8599535?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [prianYu](https://github.com/prianyu \"+2/-2 (#6505 )\")\r\n+\r\n+## [1.7.2](https://github.com/axios/axios/compare/v1.7.1...v1.7.2) (2024-05-21)\r\n+\r\n+\r\n+### Bug Fixes\r\n+\r\n+* **fetch:** enhance fetch API detection; ([#6413](https://github.com/axios/axios/issues/6413)) ([4f79aef](https://github.com/axios/axios/commit/4f79aef81b7c4644328365bfc33acf0a9ef595bc))\r\n+\r\n+### Contributors to this release\r\n+\r\n+- <img src=\"https://avatars.githubusercontent.com/u/12586868?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Dmitriy Mozgovoy](https://github.com/DigitalBrainJS \"+3/-3 (#6413 )\")\r\n+\r\n+## [1.7.1](https://github.com/axios/axios/compare/v1.7.0...v1.7.1) (2024-05-20)\r\n+\r\n+\r\n+### Bug Fixes\r\n+\r\n+* **fetch:** fixed ReferenceError issue when TextEncoder is not available in the environment; ([#6410](https://github.com/axios/axios/issues/6410)) ([733f15f](https://github.com/axios/axios/commit/733f15fe5bd2d67e1fadaee82e7913b70d45dc5e))\r\n+\r\n+### Contributors to this release\r\n+\r\n+- <img src=\"https://avatars.githubusercontent.com/u/12586868?v&#x3D;4&amp;s&#x3D;18\" alt=\"avatar\" width=\"18\"/> [Dmitriy Mozgovoy](https://github.com/DigitalBrainJS \"+14/-9 (#6410 )\")\r\n+\r\n # [1.7.0](https://github.com/axios/axios/compare/v1.7.0-beta.2...v1.7.0) (2024-05-19)\r\n \r\n \r\n@@ -1292,4 +1325,5 @@ This functionality is considered as a fix.\n - [Marco Weber](https://github.com/mrcwbr)\r\n - [Luca Pizzini](https://github.com/lpizzinidev)\r\n - [Willian Agostini](https://github.com/WillianAgostini)\r\n-- [Huyen Nguyen](https://github.com/huyenltnguyen)\n\\ No newline at end of file\n+\r\n+- [Huyen Nguyen](https://github.com/huyenltnguyen)\r\ndiff --git a/bower.json b/bower.json\nindex f280b33620..35fdb72509 100644\n--- a/bower.json\n+++ b/bower.json\n@@ -1,7 +1,7 @@\n {\n   \"name\": \"axios\",\n   \"main\": \"./dist/axios.js\",\n-  \"version\": \"1.12.2\",\n+  \"version\": \"1.13.0\",\n   \"homepage\": \"https://axios-http.com\",\n   \"authors\": [\n     \"Matt Zabriskie\"\n@@ -16,7 +16,12 @@\n     \"http\",\n     \"ajax\",\n     \"promise\",\n-    \"node\"\n+    \"node\",\n+    \"browser\",\n+    \"fetch\",\n+    \"rest\",\n+    \"api\",\n+    \"client\"\n   ],\n   \"license\": \"MIT\",\n   \"ignore\": [\ndiff --git a/lib/env/data.js b/lib/env/data.js\nindex 89b13cecae..efe7d59ad1 100644\n--- a/lib/env/data.js\n+++ b/lib/env/data.js\n@@ -1,1 +1,1 @@\n-export const VERSION = \"1.12.2\";\n\\ No newline at end of file\n+export const VERSION = \"1.13.0\";\n\\ No newline at end of file\ndiff --git a/package-lock.json b/package-lock.json\nindex 37b4c7545b..ba3cf0bde6 100644\n--- a/package-lock.json\n+++ b/package-lock.json\n@@ -1,12 +1,12 @@\n {\n   \"name\": \"axios\",\n-  \"version\": \"1.12.2\",\n+  \"version\": \"1.13.0\",\n   \"lockfileVersion\": 2,\n   \"requires\": true,\n   \"packages\": {\n     \"\": {\n       \"name\": \"axios\",\n-      \"version\": \"1.12.2\",\n+      \"version\": \"1.13.0\",\n       \"license\": \"MIT\",\n       \"dependencies\": {\n         \"follow-redirects\": \"^1.15.6\",\ndiff --git a/package.json b/package.json\nindex b04de5af9d..749d0cb2e4 100644\n--- a/package.json\n+++ b/package.json\n@@ -1,6 +1,6 @@\n {\n   \"name\": \"axios\",\n-  \"version\": \"1.12.2\",\n+  \"version\": \"1.13.0\",\n   \"description\": \"Promise based HTTP client for the browser and node.js\",\n   \"main\": \"index.js\",\n   \"exports\": {\n@@ -190,7 +190,7 @@\n     \"Remco Haszing (https://github.com/remcohaszing)\",\n     \"Rikki Gibson (https://github.com/RikkiGibson)\",\n     \"Willian Agostini (https://github.com/WillianAgostini)\",\n-    \"Yasu Flores (https://github.com/yasuf)\"\n+    \"Ben Carp (https://github.com/carpben)\"\n   ],\n   \"sideEffects\": false,\n   \"release-it\": {\n@@ -236,4 +236,4 @@\n       \"@commitlint/config-conventional\"\n     ]\n   }\n-}\n+}\n\\ No newline at end of file\n", "test_patch": "", "problem_statement": "", "hints_text": "", "created_at": "2025-10-27T14:27:57Z"}
{"repo": "axios/axios", "pull_number": 7186, "instance_id": "axios__axios-7186", "issue_numbers": [], "base_commit": "08db960d9f1003b3c561026f636df2d6d5d8ca57", "patch": "diff --git a/lib/adapters/http.js b/lib/adapters/http.js\nindex ea69ff2eba..5326dd03b2 100755\n--- a/lib/adapters/http.js\n+++ b/lib/adapters/http.js\n@@ -87,7 +87,15 @@ class Http2Sessions {\n \n     const session = connect(authority, options);\n \n-    session.once('close', () => {\n+    let removed;\n+\n+    const removeSession = () => {\n+      if (removed) {\n+        return;\n+      }\n+\n+      removed = true;\n+\n       let entries = authoritySessions, len = entries.length, i = len;\n \n       while (i--) {\n@@ -99,9 +107,41 @@ class Http2Sessions {\n           }\n         }\n       }\n-    });\n+    };\n+\n+    const originalRequestFn = session.request;\n+\n+    const {sessionTimeout} = options;\n+\n+    if(sessionTimeout != null) {\n+\n+      let timer;\n+      let streamsCount = 0;\n+\n+      session.request = function () {\n+        const stream = originalRequestFn.apply(this, arguments);\n+\n+        streamsCount++;\n \n-    Http2Sessions.setTimeout(session, options.sessionTimeout);\n+        if (timer) {\n+          clearTimeout(timer);\n+          timer = null;\n+        }\n+\n+        stream.once('close', () => {\n+          if (!--streamsCount) {\n+            timer = setTimeout(() => {\n+              timer = null;\n+              removeSession();\n+            }, sessionTimeout);\n+          }\n+        });\n+\n+        return stream;\n+      }\n+    }\n+\n+    session.once('close', removeSession);\n \n     let entries = this.sessions[authority], entry = [\n       session,\n@@ -112,12 +152,6 @@ class Http2Sessions {\n \n     return session;\n   }\n-\n-  static setTimeout(session, timeout = 1000) {\n-    session && session.setTimeout(timeout, () => {\n-      session.close();\n-    });\n-  }\n }\n \n const http2Sessions = new Http2Sessions();\n@@ -284,10 +318,12 @@ export default isHttpAdapterSupported && function httpAdapter(config) {\n     let rejected = false;\n     let req;\n \n-    httpVersion = Number(httpVersion);\n+    httpVersion = +httpVersion;\n+\n     if (Number.isNaN(httpVersion)) {\n       throw TypeError(`Invalid protocol version: '${config.httpVersion}' is not a number`);\n     }\n+\n     if (httpVersion !== 1 && httpVersion !== 2) {\n       throw TypeError(`Unsupported protocol version '${httpVersion}'`);\n     }\n", "test_patch": "diff --git a/test/unit/adapters/http.js b/test/unit/adapters/http.js\nindex 2f63bbf139..7d0cf1861d 100644\n--- a/test/unit/adapters/http.js\n+++ b/test/unit/adapters/http.js\n@@ -2423,7 +2423,7 @@ describe('supports http with nodejs', function () {\n     });\n \n     it('should support request cancellation', async function (){\n-      if (typeof AbortSignal !== 'function') {\n+      if (typeof AbortSignal !== 'function' || !AbortSignal.timeout) {\n         this.skip();\n       }\n \n@@ -2525,13 +2525,17 @@ describe('supports http with nodejs', function () {\n \n       it(\"should use different sessions for different authorities\", async() => {\n         server = await startHTTPServer((req, res) => {\n-          setTimeout(() => res.end('OK'), 1000);\n+          setTimeout(() => {\n+            res.end('OK');\n+          }, 2000);\n         }, {\n           useHTTP2: true\n         });\n \n         server2 = await startHTTPServer((req, res) => {\n-          setTimeout(() => res.end('OK'), 1000);\n+          setTimeout(() => {\n+            res.end('OK');\n+          }, 2000);\n         }, {\n           useHTTP2: true,\n           port: SERVER_PORT2\n@@ -2559,7 +2563,9 @@ describe('supports http with nodejs', function () {\n \n       it(\"should use different sessions for requests with different http2Options set\", async() => {\n         server = await startHTTPServer((req, res) => {\n-          setTimeout(() => res.end('OK'), 1000);\n+          setTimeout(() => {\n+            res.end('OK')\n+          }, 1000);\n         }, {\n           useHTTP2: true\n         });\n@@ -2639,6 +2645,8 @@ describe('supports http with nodejs', function () {\n           }\n         });\n \n+        const data1 = await getStream(response1.data);\n+\n         await setTimeoutAsync(5000);\n \n         const response2 = await http2Axios.get(LOCAL_SERVER_URL, {\n@@ -2648,15 +2656,12 @@ describe('supports http with nodejs', function () {\n           }\n         });\n \n+        const data2 = await getStream(response2.data);\n+\n         assert.notStrictEqual(response1.data.session, response2.data.session);\n \n-        assert.deepStrictEqual(\n-          await Promise.all([\n-            getStream(response1.data),\n-            getStream(response2.data)\n-          ]),\n-          ['OK', 'OK']\n-        );\n+        assert.strictEqual(data1, 'OK');\n+        assert.strictEqual(data2, 'OK');\n       });\n     });\n   });\n", "problem_statement": "", "hints_text": "", "created_at": "2025-10-26T22:39:59Z"}
{"repo": "axios/axios", "pull_number": 7185, "instance_id": "axios__axios-7185", "issue_numbers": [], "base_commit": "293a5aecfd3ae56bbe2130fc88cfa77063cf6767", "patch": "diff --git a/examples/postMultipartFormData/index.html b/examples/postMultipartFormData/index.html\nindex a5c27fa4da..553e8d7366 100644\n--- a/examples/postMultipartFormData/index.html\n+++ b/examples/postMultipartFormData/index.html\n@@ -1,128 +1,526 @@\n <!doctype html>\n <html>\n   <head>\n-    <title>axios - post example</title>\n+    <title>Axios - Multipart Form Example</title>\n     <link rel=\"stylesheet\" type=\"text/css\" href=\"//maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\"/>\n+    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\n     <style>\n+      :root {\n+        --primary: #6c63ff;\n+        --primary-dark: #5a52d5;\n+        --primary-light: #8b85ff;\n+        --secondary: #ff6584;\n+        --light: #f8f9fa;\n+        --dark: #1a1a2e;\n+        --gray: #6c757d;\n+        --gray-light: #e9ecef;\n+        --gray-dark: #495057;\n+        --success: #4bb543;\n+        --danger: #dc3545;\n+        --border-radius: 12px;\n+        --shadow: 0 8px 24px rgba(0, 0, 0, 0.12);\n+        --transition: all 0.3s ease;\n+        --card-bg: #ffffff;\n+        --text-color: #333333;\n+        --input-bg: #ffffff;\n+        --border-color: #e1e5e9;\n+      }\n+\n+      [data-theme=\"dark\"] {\n+        --primary: #8b85ff;\n+        --primary-dark: #6c63ff;\n+        --primary-light: #a9a4ff;\n+        --secondary: #ff6584;\n+        --light: #1a1a2e;\n+        --dark: #f8f9fa;\n+        --gray: #a0a0a0;\n+        --gray-light: #2d3748;\n+        --gray-dark: #e2e8f0;\n+        --success: #4bb543;\n+        --danger: #dc3545;\n+        --card-bg: #16213e;\n+        --text-color: #e2e8f0;\n+        --input-bg: #1a1a2e;\n+        --border-color: #2d3748;\n+      }\n+\n+      body {\n+        background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);\n+        padding: 20px;\n+        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n+        color: var(--text-color);\n+        transition: var(--transition);\n+      }\n+\n+      [data-theme=\"dark\"] body {\n+        background: linear-gradient(135deg, #0f0c29 0%, #302b63 50%, #24243e 100%);\n+      }\n+\n+      .container {\n+        max-width: 1200px;\n+        background: var(--card-bg);\n+        border-radius: var(--border-radius);\n+        box-shadow: var(--shadow);\n+        padding: 0;\n+        overflow: hidden;\n+        transition: var(--transition);\n+      }\n+\n+      .header {\n+        background: linear-gradient(135deg, var(--primary), var(--secondary));\n+        color: white;\n+        padding: 25px 30px;\n+        display: flex;\n+        justify-content: space-between;\n+        align-items: center;\n+        position: relative;\n+      }\n+\n+      h1 {\n+        font-size: 28px;\n+        font-weight: 600;\n+        margin: 0;\n+      }\n+\n+      .theme-toggle {\n+        background: rgba(255, 255, 255, 0.2);\n+        border: none;\n+        border-radius: 50px;\n+        width: 60px;\n+        height: 30px;\n+        display: flex;\n+        align-items: center;\n+        padding: 0 5px;\n+        cursor: pointer;\n+        position: relative;\n+        transition: var(--transition);\n+      }\n+\n+      .theme-toggle:hover {\n+        background: rgba(255, 255, 255, 0.3);\n+      }\n+\n+      .toggle-circle {\n+        width: 22px;\n+        height: 22px;\n+        background: white;\n+        border-radius: 50%;\n+        position: absolute;\n+        left: 4px;\n+        transition: var(--transition);\n+      }\n+\n+      [data-theme=\"dark\"] .toggle-circle {\n+        left: 34px;\n+      }\n+\n+      .theme-toggle i {\n+        color: white;\n+        font-size: 14px;\n+        position: absolute;\n+      }\n+\n+      .fa-sun {\n+        left: 8px;\n+      }\n+\n+      .fa-moon {\n+        right: 8px;\n+      }\n+\n+      .content-wrapper {\n+        display: flex;\n+        flex-direction: row;\n+        min-height: 600px;\n+      }\n+\n+      @media (max-width: 992px) {\n+        .content-wrapper {\n+          flex-direction: column;\n+        }\n+      }\n+\n+      .form-section {\n+        flex: 1;\n+        padding: 30px;\n+        border-right: 1px solid var(--border-color);\n+      }\n+\n+      .result-section {\n+        flex: 1;\n+        padding: 30px;\n+        background-color: rgba(108, 99, 255, 0.03);\n+        display: flex;\n+        flex-direction: column;\n+      }\n+\n+      [data-theme=\"dark\"] .result-section {\n+        background-color: rgba(26, 26, 46, 0.5);\n+      }\n+\n+      .form-group {\n+        margin-bottom: 24px;\n+      }\n+\n+      label {\n+        display: block;\n+        margin-bottom: 8px;\n+        font-weight: 500;\n+        color: var(--text-color);\n+      }\n+\n+      input[type=\"text\"],\n+      input[type=\"number\"],\n+      input[type=\"file\"] {\n+        width: 100%;\n+        padding: 14px 16px;\n+        border: 1px solid var(--border-color);\n+        border-radius: var(--border-radius);\n+        font-size: 16px;\n+        transition: var(--transition);\n+        background-color: var(--input-bg);\n+        color: var(--text-color);\n+      }\n+\n+      input[type=\"text\"]:focus,\n+      input[type=\"number\"]:focus,\n+      input[type=\"file\"]:focus {\n+        outline: none;\n+        border-color: var(--primary);\n+        box-shadow: 0 0 0 3px rgba(108, 99, 255, 0.2);\n+      }\n+\n+      .radio-group {\n+        display: flex;\n+        flex-direction: column;\n+        gap: 15px;\n+        margin: 25px 0;\n+      }\n+\n+      .radio-option {\n+        display: flex;\n+        align-items: center;\n+        padding: 15px;\n+        border: 1px solid var(--border-color);\n+        border-radius: var(--border-radius);\n+        cursor: pointer;\n+        transition: var(--transition);\n+        background-color: var(--input-bg);\n+      }\n+\n+      .radio-option:hover {\n+        background-color: rgba(108, 99, 255, 0.05);\n+        border-color: var(--primary);\n+      }\n+\n+      .radio-option input {\n+        margin-right: 12px;\n+        transform: scale(1.2);\n+      }\n+\n+      .radio-option label {\n+        margin-bottom: 0;\n+        cursor: pointer;\n+      }\n+\n+      .btn-primary {\n+        background: linear-gradient(135deg, var(--primary), var(--primary-dark));\n+        border: none;\n+        padding: 16px 28px;\n+        font-size: 16px;\n+        font-weight: 600;\n+        border-radius: var(--border-radius);\n+        cursor: pointer;\n+        transition: var(--transition);\n+        width: 100%;\n+        display: flex;\n+        align-items: center;\n+        justify-content: center;\n+        gap: 10px;\n+        color: white;\n+        box-shadow: 0 4px 12px rgba(108, 99, 255, 0.3);\n+      }\n+\n+      .btn-primary:hover {\n+        transform: translateY(-2px);\n+        box-shadow: 0 6px 15px rgba(108, 99, 255, 0.4);\n+      }\n+\n       .postSubmission {\n-        margin-top: 40px;\n+        margin-top: 20px;\n+        padding: 25px;\n+        background-color: var(--light);\n+        border-radius: var(--border-radius);\n+        flex-grow: 1;\n+        display: flex;\n+        flex-direction: column;\n+      }\n \n-        /* white-space: pre-line; */\n+      [data-theme=\"dark\"] .postSubmission {\n+        background-color: var(--gray-light);\n       }\n+\n       .checkNetwork {\n-        margin-bottom: 10px;\n+        margin-bottom: 20px;\n+        padding: 15px;\n+        background-color: rgba(108, 99, 255, 0.1);\n+        border-left: 4px solid var(--primary);\n+        border-radius: 4px;\n       }\n+\n       .text-strong {\n         font-weight: 700;\n+        color: var(--primary);\n       }\n+\n       .hidden {\n-        display: none; \n+        display: none;\n       }\n-    </style>\n \n-  </head>\n-  <body class=\"container\">\n-    <h1>Post multipart/form-data</h1>\n+      .text-danger {\n+        padding: 15px;\n+        background-color: rgba(220, 53, 69, 0.1);\n+        border-left: 4px solid var(--danger);\n+        border-radius: 4px;\n+        color: var(--danger);\n+        margin-top: 20px;\n+      }\n \n-    <form role=\"form\" class=\"form\" onsubmit=\"return false;\">\n-      <div class=\"form-group\">\n-        <label for=\"data\">someString</label>\n-        <input id=\"someString\" type=\"text\"></input>\n-      </div>\n-      <div class=\"form-group\">\n-        <label for=\"data\">someNumber</label>\n-        <input id=\"someNumber\" type=\"number\"></input>\n-      </div>\n-      <div class=\"form-group\">\n-        <label for=\"data\">someSmallFile</label>\n-        <input id=\"someSmallFile\" type=\"file\"></input>\n-      </div>\n-      <div class=\"form-group\">\n-        <label for=\"data\">nested.someString</label>\n-        <input id=\"nested.someString\"  type=\"text\"></input>\n-      </div>\n-      <div>\n-        <input type=\"radio\" name=\"format\" value=\"formData\"\n-               checked>\n-        <label for=\"huey\">Pass to Axios as FormData</label>\n-      </div>\n-      <div>\n-        <input type=\"radio\"  name=\"format\" value=\"json\"\n-               checked>\n-        <label for=\"huey\">Pass to Axios as json. Let Axios convert to form data</label>\n-      </div>\n-      <button id=\"post\" type=\"button\" class=\"btn btn-primary\">POST</button>\n-    </form>\n+      .text-success {\n+        padding: 15px;\n+        background-color: rgba(75, 181, 67, 0.1);\n+        border-left: 4px solid var(--success);\n+        border-radius: 4px;\n+        color: var(--success);\n+        margin-top: 20px;\n+      }\n+\n+      .info-box {\n+        display: flex;\n+        align-items: center;\n+        gap: 12px;\n+        margin-top: 20px;\n+        padding: 15px;\n+        background-color: rgba(108, 99, 255, 0.05);\n+        border-radius: var(--border-radius);\n+      }\n+\n+      .info-box i {\n+        color: var(--primary);\n+        font-size: 20px;\n+      }\n+\n+      .result-title {\n+        font-size: 20px;\n+        font-weight: 600;\n+        margin-bottom: 20px;\n+        color: var(--primary);\n+        display: flex;\n+        align-items: center;\n+        gap: 10px;\n+      }\n+\n+      .result-content {\n+        background-color: var(--input-bg);\n+        border-radius: var(--border-radius);\n+        padding: 20px;\n+        flex-grow: 1;\n+        overflow-y: auto;\n+        border: 1px solid var(--border-color);\n+        font-family: 'Courier New', monospace;\n+        white-space: pre-wrap;\n+      }\n \n-    <div class=\"postSubmission\">\n+      .result-placeholder {\n+        color: var(--gray);\n+        font-style: italic;\n+        text-align: center;\n+        margin-top: 50%;\n+        transform: translateY(-50%);\n+      }\n \n-      <div id=\"checkNetwork\" class=\"checkNetwork hidden\">\n-        <span class=\"text-strong\">Check devtools to see details of request sent, and content of FormData. </span><br/>\n-        In Chromium check: devtools -> network tab -> request to \"server\" -> payload tab\n+      @media (max-width: 600px) {\n+        .container {\n+          margin: 10px;\n+        }\n+        \n+        .form-section, .result-section {\n+          padding: 20px;\n+        }\n+        \n+        .header {\n+          padding: 20px;\n+          flex-direction: column;\n+          gap: 15px;\n+        }\n+        \n+        h1 {\n+          font-size: 24px;\n+        }\n+      }\n+    </style>\n+  </head>\n+  <body>\n+    <div class=\"container\">\n+      <div class=\"header\">\n+        <h1><i class=\"fas fa-file-upload\"></i> Multipart Form Data</h1>\n+        <button class=\"theme-toggle\" id=\"themeToggle\">\n+          <i class=\"fas fa-sun\"></i>\n+          <i class=\"fas fa-moon\"></i>\n+          <span class=\"toggle-circle\"></span>\n+        </button>\n       </div>\n \n+      <div class=\"content-wrapper\">\n+        <div class=\"form-section\">\n+          <form role=\"form\" class=\"form\" onsubmit=\"return false;\">\n+            <div class=\"form-group\">\n+              <label for=\"someString\">someString</label>\n+              <input id=\"someString\" type=\"text\" placeholder=\"Enter text value\">\n+            </div>\n+            <div class=\"form-group\">\n+              <label for=\"someNumber\">someNumber</label>\n+              <input id=\"someNumber\" type=\"number\" placeholder=\"Enter numeric value\">\n+            </div>\n+            <div class=\"form-group\">\n+              <label for=\"someSmallFile\">someSmallFile</label>\n+              <input id=\"someSmallFile\" type=\"file\">\n+            </div>\n+            <div class=\"form-group\">\n+              <label for=\"nested.someString\">nested.someString</label>\n+              <input id=\"nested.someString\" type=\"text\" placeholder=\"Enter nested text value\">\n+            </div>\n+            \n+            <div class=\"radio-group\">\n+              <div class=\"radio-option\">\n+                <input type=\"radio\" name=\"format\" value=\"formData\" id=\"formData\" checked>\n+                <label for=\"formData\">Pass to Axios as FormData</label>\n+              </div>\n+              <div class=\"radio-option\">\n+                <input type=\"radio\" name=\"format\" value=\"json\" id=\"json\">\n+                <label for=\"json\">Pass to Axios as JSON. Let Axios convert to form data</label>\n+              </div>\n+            </div>\n+            \n+            <button id=\"post\" type=\"button\" class=\"btn btn-primary\">\n+              <i class=\"fas fa-paper-plane\"></i> POST Data\n+            </button>\n+          </form>\n+\n+          <div class=\"postSubmission\">\n+            <div id=\"checkNetwork\" class=\"checkNetwork hidden\">\n+              <span class=\"text-strong\">Check devtools to see details of request sent, and content of FormData. </span><br/>\n+              In Chromium check: devtools -> network tab -> request to \"server\" -> payload tab\n+            </div>\n+\n+            <div id=\"errorOutput\" class=\"text-danger hidden\">\n+            </div>\n+          </div>\n+        </div>\n \n-      <div id=\"errorOutput\" class=\"text-danger\">\n+        <div class=\"result-section\">\n+          <div class=\"result-title\">\n+            <i class=\"fas fa-code\"></i> Response Data\n+          </div>\n+          <div class=\"result-content\" id=\"resultContent\">\n+            <div class=\"result-placeholder\">Submit the form to see the response data here</div>\n+          </div>\n+        </div>\n       </div>\n \n+      <div class=\"info-box\">\n+        <i class=\"fas fa-info-circle\"></i>\n+        <div>This form demonstrates how to submit multipart/form-data with both text fields and files.</div>\n+      </div>\n     </div>\n \n-    <script src=\"/axios.min.js\"></script>\n+    <script src=\"https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js\"></script>\n     <script>\n       (function () {\n-        document.getElementById('post').onclick = function () {\n-    // Show network/loading indicator\n-    document.getElementById(\"checkNetwork\").classList.remove(\"hidden\");\n-    // Grab values from inputs\n+        // Theme toggle functionality\n+        const themeToggle = document.getElementById('themeToggle');\n+        const body = document.body;\n         \n-    const someString = document.getElementById('someString').value;\n-    const someNumber = document.getElementById('someNumber').valueAsNumber;\n-    const files = Array.from(document.getElementById('someSmallFile').files);\n-    const nestedString = document.getElementById('nested.someString').value;\n-    const passAsFormData = document.querySelector('input[name=\"format\"]:checked').value === \"formData\";\n-\n-    const data = passAsFormData ? new FormData() : {};\n-\n-    // Helper to add value to FormData or plain object\n-    function addValueToData(key, val, isValDefined) {\n-      if (!isValDefined) return;\n-\n-      if (passAsFormData) {\n-        data.append(key, val);\n-      } else {\n-        const keys = key.split(\".\");\n-        if (keys.length === 1) {\n-          data[key] = val;\n-        } else {\n-          // Preserve existing nested objects if any\n-          data[keys[0]] = data[keys[0]] || {};\n-          data[keys[0]][keys[1]] = val;\n-        }\n-      }\n-    }\n-\n-    addValueToData(\"someString\", someString, someString.length > 0);\n-    addValueToData(\"someNumber\", someNumber, !isNaN(someNumber));\n-    if (files.length) addValueToData(\"someSmallFile\", files[0], true);\n-    addValueToData(\"nested.someString\", nestedString, nestedString !== undefined && nestedString !== null);\n-\n-    const errorOutput = document.getElementById(\"errorOutput\");\n-\n-    axios({\n-      url: '/postMultipartFormData/server',\n-      data: data,\n-      method: \"post\",\n-      headers: passAsFormData ? { \"Content-Type\": \"multipart/form-data\" } : {},\n-    })\n-      .then(res => {\n-        errorOutput.innerHTML = \"Successfully posted!\";\n-      })\n-      .catch(err => {\n-        console.error(\"Error posting data:\", err);\n-        errorOutput.innerHTML = `${err.message}`;\n-      });\n-  };\n-})();\n-</script>\n+        // Check for saved theme preference or default to light\n+        const currentTheme = localStorage.getItem('theme') || 'light';\n+        body.setAttribute('data-theme', currentTheme);\n+        \n+        themeToggle.addEventListener('click', () => {\n+          const currentTheme = body.getAttribute('data-theme');\n+          const newTheme = currentTheme === 'light' ? 'dark' : 'light';\n+          \n+          body.setAttribute('data-theme', newTheme);\n+          localStorage.setItem('theme', newTheme);\n+        });\n+\n+        // Form submission functionality\n+        document.getElementById('post').onclick = function () {\n+          // Show network/loading indicator\n+          document.getElementById(\"checkNetwork\").classList.remove(\"hidden\");\n+          document.getElementById(\"errorOutput\").classList.add(\"hidden\");\n+          \n+          // Grab values from inputs\n+          const someString = document.getElementById('someString').value;\n+          const someNumber = document.getElementById('someNumber').valueAsNumber;\n+          const files = Array.from(document.getElementById('someSmallFile').files);\n+          const nestedString = document.getElementById('nested.someString').value;\n+          const passAsFormData = document.querySelector('input[name=\"format\"]:checked').value === \"formData\";\n+\n+          const data = passAsFormData ? new FormData() : {};\n+\n+          // Helper to add value to FormData or plain object\n+          function addValueToData(key, val, isValDefined) {\n+            if (!isValDefined) return;\n+\n+            if (passAsFormData) {\n+              data.append(key, val);\n+            } else {\n+              const keys = key.split(\".\");\n+              if (keys.length === 1) {\n+                data[key] = val;\n+              } else {\n+                // Preserve existing nested objects if any\n+                data[keys[0]] = data[keys[0]] || {};\n+                data[keys[0]][keys[1]] = val;\n+              }\n+            }\n+          }\n+\n+          addValueToData(\"someString\", someString, someString.length > 0);\n+          addValueToData(\"someNumber\", someNumber, !isNaN(someNumber));\n+          if (files.length) addValueToData(\"someSmallFile\", files[0], true);\n+          addValueToData(\"nested.someString\", nestedString, nestedString !== undefined && nestedString !== null);\n+\n+          const errorOutput = document.getElementById(\"errorOutput\");\n+          const resultContent = document.getElementById(\"resultContent\");\n+\n+          axios({\n+            url: 'https://httpbin.org/post', // Using a test endpoint\n+            data: data,\n+            method: \"post\",\n+            headers: passAsFormData ? { \"Content-Type\": \"multipart/form-data\" } : {},\n+          })\n+            .then(res => {\n+              errorOutput.innerHTML = \"Successfully posted!\";\n+              errorOutput.classList.remove(\"text-danger\");\n+              errorOutput.classList.add(\"text-success\");\n+              errorOutput.classList.remove(\"hidden\");\n+              \n+              // Display the response in the result section\n+              resultContent.innerHTML = JSON.stringify(res.data, null, 2);\n+            })\n+            .catch(err => {\n+              console.error(\"Error posting data:\", err);\n+              errorOutput.innerHTML = `${err.message}`;\n+              errorOutput.classList.add(\"text-danger\");\n+              errorOutput.classList.remove(\"text-success\");\n+              errorOutput.classList.remove(\"hidden\");\n+              \n+              // Display error in the result section\n+              resultContent.innerHTML = `Error: ${err.message}\\n\\n${JSON.stringify(err.response?.data || {}, null, 2)}`;\n+            });\n+        };\n+      })();\n+    </script>\n   </body>\n </html>\n", "test_patch": "", "problem_statement": "", "hints_text": "", "created_at": "2025-10-25T08:07:11Z"}
{"repo": "axios/axios", "pull_number": 7175, "instance_id": "axios__axios-7175", "issue_numbers": [], "base_commit": "6dff629ee78646c92739bf39927d9145906cd430", "patch": "diff --git a/sandbox/client.html b/sandbox/client.html\nindex 6e3a5c9f2d..ba8e5b49da 100644\n--- a/sandbox/client.html\n+++ b/sandbox/client.html\n@@ -64,8 +64,22 @@\n \n     pre {\n       min-height: 39px;\n+      white-space: pre-wrap; /* wrap long lines instead of stretching the panel */\n+      word-wrap: break-word;\n       overflow: auto;\n     }\n+\n+    .box{\n+      display: grid;\n+      grid-template-columns: 1fr 1fr;\n+      grid-gap: 40px; /* Increased gap between input and response columns */\n+    }\n+\n+    .response {\n+      min-width: 0; /* prevents content overflow from pushing layout */\n+      overflow-x: auto;\n+    }\n+\n     .header{\n       display: flex;\n       flex-direction: row;\n@@ -73,11 +87,6 @@\n       align-items: center;\n       margin-bottom: 2rem; /* Added space below the header */\n     }\n-    .box{\n-      display: grid;\n-      grid-template-columns: 1fr 1fr;\n-      grid-gap: 40px; /* Increased gap between input and response columns */\n-    }\n \n     #theme-toggle {\n         padding: 5px 10px;\n", "test_patch": "", "problem_statement": "", "hints_text": "", "created_at": "2025-10-23T08:56:50Z"}
{"repo": "axios/axios", "pull_number": 7173, "instance_id": "axios__axios-7173", "issue_numbers": [], "base_commit": "9ead04d8abbcd53718dbc31b1250ea74300921c8", "patch": "diff --git a/sandbox/client.html b/sandbox/client.html\nindex ba8e5b49da..6b13ae2f79 100644\n--- a/sandbox/client.html\n+++ b/sandbox/client.html\n@@ -3,65 +3,56 @@\n <head>\n   <title>AXIOS | Sandbox</title>\n   <link rel=\"stylesheet\" type=\"text/css\" href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css\"/>\n-  <style type=\"text/css\">\n-    :root {\n-      --bg-color: #fff;\n-      --text-color: #212529;\n-      --border-color: #dee2e6;\n-      --well-bg: #f8f9fa;\n-      --input-bg: #fff;\n-      --footer-text-color: #6c757d;\n-      --footer-heading-color: #212529;\n-      --footer-link-color: #007bff;\n-      --footer-link-hover-color: #0056b3;\n-      --shadow-color: rgba(0, 0, 0, 0.1);\n-      --axios-purple: #6a1b9a;\n-      --sandbox-color: #212529;\n-    }\n-\n-    body.dark-mode {\n-      --bg-color: #121212;\n-      --text-color: #e9ecef;\n-      --border-color: #495057;\n-      --well-bg: #1c1c1c;\n-      --input-bg: #212121;\n-      --footer-text-color: #adb5bd;\n-      --footer-heading-color: #f8f9fa;\n-      --footer-link-color: #61dafb;\n-      --footer-link-hover-color: #fff;\n-      --shadow-color: rgba(0, 0, 0, 0.4);\n-      --axios-purple: #a78bfa;\n-      --sandbox-color: #e9ecef;\n-    }\n-    \n-    * {\n-        transition: background-color 0.3s ease, color 0.3s ease, box-shadow 0.3s ease;\n-    }\n+ <style type=\"text/css\">\n+      /* \n+   :root & Dark Mode Variables\n+    */\n+      :root {\n+        --bg-color: #f0f4ff; /* main page background */\n+        --text-color: #1a1a1a; /* main text color */\n+        --border-color: #cfd8ff; /* default borders */\n+        --well-bg: rgba(255, 255, 255, 0.9); /* card & well background */\n+        --input-bg: rgba(255, 255, 255, 0.95); /* input background */\n+        --footer-text-color: #555;\n+        --footer-heading-color: #1a1a1a;\n+        --footer-link-color: #5b4bff;\n+        --footer-link-hover-color: #3a2ecb;\n+        --shadow-color: rgba(0, 0, 0, 0.1);\n+        --primary-gradient: linear-gradient(135deg, #6a1bff, #00c3ff);\n+        --btn-hover-gradient: linear-gradient(135deg, #5b00d1, #00aaff);\n+        --glass-blur: blur(12px); /* for frosted glass effect */\n+      }\n \n-    body {\n-      background-color: var(--bg-color);\n-      color: var(--text-color);\n-    }\n+      body.dark-mode {\n+        /* Dark mode overrides */\n+        --bg-color: #0e0f1a;\n+        --text-color: #e0e0ff;\n+        --border-color: #444;\n+        --well-bg: rgba(30, 30, 50, 0.7);\n+        --input-bg: rgba(40, 40, 60, 0.85);\n+        --footer-text-color: #aaa;\n+        --footer-heading-color: #fff;\n+        --footer-link-color: #7f8fff;\n+        --footer-link-hover-color: #aabfff;\n+        --shadow-color: rgba(0, 0, 0, 0.5);\n+        --primary-gradient: linear-gradient(135deg, #9b59ff, #00d1ff);\n+        --btn-hover-gradient: linear-gradient(135deg, #7d33ff, #00b7ff);\n+      }\n \n-    .well, .form-control {\n-      background-color: var(--well-bg);\n-      color: var(--text-color);\n-      border: 1px solid var(--border-color);\n-    }\n-    \n-    .form-control {\n-        background-color: var(--input-bg);\n-    }\n-    \n-    .form-control::placeholder {\n-        color: #6c757d;\n-    }\n-    \n-    /* --- UI Improvement: Added spacing to form groups --- */\n-    .form-group {\n-        margin-bottom: 1.25rem; /* Adds space between each form field */\n-    }\n+      /* \n+   Global Styles\n+    */\n+      * {\n+        box-sizing: border-box;\n+        transition: all 0.4s ease; /* smooth transitions everywhere */\n+      }\n \n+     body {\n+        margin: 0;\n+        font-family: \"Segoe UI\", Tahoma, Geneva, Verdana, sans-serif;\n+        background: var(--bg-color);\n+        color: var(--text-color);\n+      }\n     pre {\n       min-height: 39px;\n       white-space: pre-wrap; /* wrap long lines instead of stretching the panel */\n@@ -88,84 +79,202 @@\n       margin-bottom: 2rem; /* Added space below the header */\n     }\n \n-    #theme-toggle {\n-        padding: 5px 10px;\n-        border-radius: 5px;\n-        cursor: pointer;\n+      /* \n+   Input & Well Styles\n+    */\n+      .well,\n+      .form-control {\n+        background: var(--well-bg);\n+        margin-top: 5px;\n         border: 1px solid var(--border-color);\n-        background-color: var(--well-bg);\n+        border-radius: 16px;\n+        padding: 14px 16px;\n+        box-shadow: 0 10px 25px -8px var(--shadow-color);\n+        backdrop-filter: var(--glass-blur); /* glass effect */\n+      }\n+\n+      .form-control {\n+        background: var(--input-bg);\n         color: var(--text-color);\n-    }\n+        border-radius: 16px;\n+        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\n+        outline: none; /* remove default bootstrap focus outline */\n+      }\n \n-    .footer {\n+      .form-control::placeholder {\n+        color: #9e9eef; /* subtle placeholder */\n+      }\n+\n+      /* Modern neon focus effect */\n+      .form-control:focus {\n+        background: var(--input-bg); /* keep consistent */\n+        border: 1px solid #ff00ff; /* neon border */\n+        box-shadow: 0 0 10px #ff00ff, 0 0 20px #00ffff; /* glowing focus */\n+        color: var(--text-color);\n+      }\n+\n+      /* subtle placeholder fade on focus */\n+      .form-control:focus::placeholder {\n+        color: #ddd;\n+      }\n+\n+      /* spacing between form groups */\n+      .form-group {\n+        margin-bottom: 1.75rem;\n+      }\n+\n+      /* \n+   Header & Box Layout\n+    */\n+      .header {\n+        display: flex;\n+        flex-wrap: wrap;\n+        justify-content: space-between;\n+        align-items: center;\n+        margin-bottom: 2.5rem;\n+        gap: 15px;\n+      }\n+\n+      .box {\n+        display: grid;\n+        grid-template-columns: 1fr 1fr;\n+        gap: 40px;\n+      }\n+\n+      /* \n+   Theme Toggle Button\n+    */\n+      #theme-toggle {\n+        padding: 8px 18px;\n+        border-radius: 12px;\n+        border: none;\n+        cursor: pointer;\n+        background: var(--primary-gradient);\n+        color: #fff;\n+        font-weight: 600;\n+        box-shadow: 0 8px 20px -5px var(--shadow-color);\n+        transition: transform 0.25s ease, box-shadow 0.25s ease;\n+      }\n+\n+      #theme-toggle:hover {\n+        transform: translateY(-3px);\n+        box-shadow: 0 12px 25px -8px var(--shadow-color);\n+      }\n+\n+      /* \n+   Footer Styles\n+    */\n+      .footer {\n         max-width: 900px;\n         margin: 60px auto 40px auto;\n-        padding: 2rem 3rem;\n-        border: 1px solid var(--border-color);\n-        background-color: var(--well-bg);\n-        /* border-radius: 30px; */\n-        box-shadow: 0 10px 30px -10px var(--shadow-color);\n+        padding: 2.5rem 3rem;\n+        border-radius: 24px;\n+        background: var(--well-bg);\n+        box-shadow: 0 15px 35px -10px var(--shadow-color);\n         display: flex;\n         justify-content: space-between;\n         align-items: center;\n         flex-wrap: wrap;\n-        gap: 30px;\n-    }\n+        gap: 25px;\n+      }\n \n-    .footer-left .footer-brand-axios {\n-        font-size: 1.1em;\n-        font-weight: bold;\n-        color: var(--axios-purple);\n-        margin: 0;\n-        display: inline;\n-    }\n-    .footer-left .footer-brand-sandbox {\n-        font-size: 1.1em;\n-        font-weight: bold;\n-        color: var(--sandbox-color);\n-        margin: 0;\n-        display: inline;\n-    }\n-    \n-    .footer-left .footer-copyright {\n+      .footer-left {\n+        display: flex;\n+        flex-direction: column;\n+        gap: 6px;\n+      }\n+\n+      .footer-left .footer-brand-axios,\n+      .footer-left .footer-brand-sandbox {\n+        font-size: 1.2em;\n+        font-weight: 700;\n+        background: var(--primary-gradient);\n+        background-clip: text;\n+        -webkit-background-clip: text;\n+        -webkit-text-fill-color: transparent;\n+      }\n+\n+      .footer-left .footer-copyright {\n         font-size: 0.9em;\n         color: var(--footer-text-color);\n-        margin: 5px 0 0 0;\n-    }\n+      }\n \n-    .footer-nav ul {\n-        margin: 0;\n-        padding: 0;\n-        list-style: none;\n+      .footer-nav ul {\n         display: flex;\n         gap: 25px;\n-    }\n+        list-style: none;\n+        padding: 0;\n+        margin: 0;\n+        flex-wrap: wrap;\n+      }\n \n-    .footer-nav a {\n+      .footer-nav a {\n         color: var(--footer-link-color);\n-        text-decoration: none;\n         font-weight: 500;\n-    }\n-    .footer-nav a:hover {\n+        text-decoration: none;\n+        transition: color 0.3s ease, transform 0.2s ease;\n+      }\n+\n+      .footer-nav a:hover {\n         color: var(--footer-link-hover-color);\n+        transform: translateY(-2px);\n         text-decoration: underline;\n-    }\n+      }\n \n-    @media screen and (max-width: 1000px) {\n-      .box {\n-        grid-template-columns: 1fr;\n+      /* \n+   Buttons\n+    */\n+      .btn {\n+        padding: 10px 25px;\n+        border-radius: 50px;\n+        font-weight: 600;\n+        color: #fff;\n+        border: none;\n+        cursor: pointer;\n+        background: var(--primary-gradient);\n+        box-shadow: 0 10px 25px -8px var(--shadow-color);\n+        transition: all 0.3s ease;\n       }\n-    }\n-    @media screen and (max-width: 768px) {\n+\n+      .btn:hover {\n+        background: var(--btn-hover-gradient);\n+        transform: translateY(-3px);\n+        box-shadow: 0 14px 30px -10px var(--shadow-color);\n+      }\n+\n+      /* \n+   Code/Pre blocks\n+    */\n+      pre {\n+        border-radius: 16px;\n+        padding: 14px;\n+        background: var(--well-bg);\n+        box-shadow: inset 0 6px 12px -4px var(--shadow-color);\n+        overflow: auto;\n+      }\n+\n+      /* \n+   Responsive Layout\n+    */\n+      @media screen and (max-width: 1000px) {\n+        .box {\n+          grid-template-columns: 1fr;\n+        }\n+      }\n+\n+      @media screen and (max-width: 768px) {\n         .footer {\n-            flex-direction: column;\n-            text-align: center;\n-            border-radius: 25px;\n-            padding: 2rem;\n-            max-width: 90%;\n+          flex-direction: column;\n+          text-align: center;\n+          padding: 2rem;\n+          max-width: 90%;\n         }\n-    }\n-  </style>\n+\n+        .footer-nav ul {\n+          justify-content: center;\n+        }\n+      }\n+    </style>\n </head>\n <body class=\"container\">\n <div class=\"header\">\n@@ -387,4 +496,4 @@ <h3>Error</h3>\n   })();\n </script>\n </body>\n-</html>\n\\ No newline at end of file\n+</html>\n", "test_patch": "", "problem_statement": "", "hints_text": "", "created_at": "2025-10-23T06:49:59Z"}
{"repo": "axios/axios", "pull_number": 7172, "instance_id": "axios__axios-7172", "issue_numbers": [], "base_commit": "7b197ef6ce8e448e6b748749055269e97b10d009", "patch": "diff --git a/lib/core/InterceptorManager.js b/lib/core/InterceptorManager.js\nindex 6657a9d2dd..ac1b61b969 100644\n--- a/lib/core/InterceptorManager.js\n+++ b/lib/core/InterceptorManager.js\n@@ -30,7 +30,7 @@ class InterceptorManager {\n    *\n    * @param {Number} id The ID that was returned by `use`\n    *\n-   * @returns {Boolean} `true` if the interceptor was removed, `false` otherwise\n+   * @returns {void}\n    */\n   eject(id) {\n     if (this.handlers[id]) {\n", "test_patch": "", "problem_statement": "", "hints_text": "", "created_at": "2025-10-22T17:46:03Z"}
{"repo": "axios/axios", "pull_number": 7171, "instance_id": "axios__axios-7171", "issue_numbers": [], "base_commit": "46e1981d0ff2c6aec794fe3425d031495bc00931", "patch": "diff --git a/examples/improved-network-errors.md b/examples/improved-network-errors.md\nnew file mode 100644\nindex 0000000000..508c46cc27\n--- /dev/null\n+++ b/examples/improved-network-errors.md\n@@ -0,0 +1,57 @@\n+# Overview of this document:\n+\n+This document explains a simple approach to make Axios network errors more helpful and human-readable.  \n+By default, Axios shows a generic `\"Network Error\"` message for many failures.  \n+This can be confusing because it doesn't explain \"what actually went wrong\" (e.g., no internet, a timeout, a CORS issue, etc.).  \n+\n+Our approach adds clear, categorised error messages for different network issues.\n+\n+---\n+\n+==> Problem\n+Axios currently throws the same `Network Error` message for many different cases:\n+- The Internet is disconnected  \n+- DNS lookup fails  \n+- Server is down or refusing connections  \n+- CORS blocked requests  \n+- Request timed out  \n+\n+These cases all look the same to developers and users, making debugging harder.\n+\n+\n+--> Our Approach \u2014 Wrapper / Middleware\n+\n+We created a small wrapper function called `enhanceNetworkError()` that:\n+- Detects  Common network problems using `error.code`, `error.message`, and response status.\n+- Adds a new field `error.detailedMessage` with a short, clear explanation.\n+- Assigns a new `error.code` (like `ERR_TIMEOUT`, `ERR_DNS_FAILURE`, etc.).\n+- Works for both browser and Node.js environments.\n+\n+The wrapper is used inside an Axios instance via a Response interceptor.\n+\n+-> How It Works\n+\n+1. When Axios throws an error, the interceptor catches it.  \n+2. The `enhanceNetworkError()` function checks what type of error it is:\n+   - Offline \u2192 `ERR_NO_INTERNET`\n+   - DNS failure \u2192 `ERR_DNS_FAILURE`\n+   - Timeout \u2192 `ERR_TIMEOUT`\n+   - CORS blocked \u2192 `ERR_CORS_BLOCKED`\n+   - Server-side \u2192 `ERR_SERVER`\n+   - Client-side \u2192 `ERR_CLIENT`\n+   - Other \u2192 `ERR_NETWORK_GENERIC`\n+3. It returns a more descriptive error with both `code` and `detailedMessage`.\n+\n+\n+-> Example Usage\n+\n+```javascript\n+const api = createEnhancedClient({ baseURL: 'https://example.com' });\n+\n+api.get('/data')\n+  .then(res => console.log(res.data))\n+  .catch(err => {\n+    console.error(err.code);            // e.g., ERR_TIMEOUT\n+    console.error(err.detailedMessage); // e.g., \"The request took too long to respond.\"\n+  });\n+```\ndiff --git a/examples/network_enhanced.js b/examples/network_enhanced.js\nnew file mode 100644\nindex 0000000000..72f722d397\n--- /dev/null\n+++ b/examples/network_enhanced.js\n@@ -0,0 +1,77 @@\n+import axios from 'axios';\n+\n+function enhanceNetworkError(error) {\n+  // when Offline (no internet)\n+  if (typeof navigator !== 'undefined' && !navigator.onLine) {\n+    error.code = 'ERR_NO_INTERNET';\n+    error.detailedMessage =\n+      'No internet connection detected. Please check your connection and try again.';\n+  }\n+\n+  // when DNS failure occurs (invalid domain)\n+  else if (error.code === 'ENOTFOUND' || /dns/i.test(error.message)) {\n+    error.code = 'ERR_DNS_FAILURE';\n+    error.detailedMessage =\n+      'Unable to reach the requested domain. Please verify the URL or your network settings.';\n+  }\n+\n+  // when Connection refused by server\n+  else if (error.code === 'ECONNREFUSED' || /refused/i.test(error.message)) {\n+    error.code = 'ERR_CONNECTION_REFUSED';\n+    error.detailedMessage =\n+      'Connection was refused by the server. It may be temporarily unavailable.';\n+  }\n+\n+  // when Request timeout happens\n+  else if (error.code === 'ETIMEDOUT' || /timeout/i.test(error.message)) {\n+    error.code = 'ERR_TIMEOUT';\n+    error.detailedMessage =\n+      'The request took too long to respond. Please try again later.';\n+  }\n+\n+  // when CORS restriction happens (for browser only)\n+  else if (/CORS/i.test(error.message)) {\n+    error.code = 'ERR_CORS_BLOCKED';\n+    error.detailedMessage =\n+      'The request was blocked due to cross-origin restrictions.';\n+  }\n+\n+  // when Server-side error occurs \n+  else if (error.response && error.response.status >= 500) {\n+    error.code = 'ERR_SERVER';\n+    error.detailedMessage =\n+      'A server-side issue occurred. Please try again later.';\n+  }\n+\n+  // when Client-side error occurs\n+  else if (error.response && error.response.status >= 400) {\n+    error.code = 'ERR_CLIENT';\n+    error.detailedMessage =\n+      'A client-side error occurred. Please check your request.';\n+  }\n+\n+  //  when unknown network issue occurs\n+  else {\n+    error.code = 'ERR_NETWORK_GENERIC';\n+    error.detailedMessage =\n+      'A network issue occurred. Please check your connection or try again later.';\n+  }\n+\n+  return error;\n+}\n+\n+\n+export function createEnhancedClient(config = {}) {\n+  const client = axios.create(config);\n+\n+  client.interceptors.response.use(\n+    response => response,\n+    error => {\n+      throw enhanceNetworkError(error);\n+    }\n+  );\n+\n+  return client;\n+}\n+\n+export default enhanceNetworkError;\n", "test_patch": "", "problem_statement": "", "hints_text": "", "created_at": "2025-10-22T17:39:14Z"}
{"repo": "axios/axios", "pull_number": 7170, "instance_id": "axios__axios-7170", "issue_numbers": [], "base_commit": "889f8ef8be025c5c580594f0b631daf50a2d3405", "patch": "diff --git a/examples/postMultipartFormData/index.html b/examples/postMultipartFormData/index.html\nindex 6abce1d45e..a5c27fa4da 100644\n--- a/examples/postMultipartFormData/index.html\n+++ b/examples/postMultipartFormData/index.html\n@@ -70,62 +70,59 @@ <h1>Post multipart/form-data</h1>\n     <script src=\"/axios.min.js\"></script>\n     <script>\n       (function () {\n-        \n         document.getElementById('post').onclick = function () {\n-          document.getElementById(\"checkNetwork\").classList.remove(\"hidden\")\n-\n-          var someString = document.getElementById('someString').value;\n-          var someNumber = document.getElementById('someNumber').valueAsNumber;\n-          var files = Array.from(document.getElementById('someSmallFile').files)\n-          var nestedString = document.getElementById('nested.someString').value;\n-          var passAsFormData = document.querySelector('input[name=\"format\"]:checked').value===\"formData\";\n-\n-          var data = passAsFormData? new FormData() : {}\n-\n-          function addValueToData(key, val, isValDefined){\n-            if (!isValDefined){\n-              return \n-            }\n-\n-            if(passAsFormData){\n-              data.append(key, val)\n-            } else {\n-\n-              var keys = key.split(\".\")\n-              if (keys.length===1){\n-                data[key] = val\n-              } else {\n-                data[keys[0]]={\n-                  [keys[1]]: val\n-                }\n-              }\n-            }\n-\n-          }\n-\n-          addValueToData(\"someString\", someString, someString.length)\n-          addValueToData(\"someNumber\", someNumber, !isNaN(someNumber))\n-          if (files.length){\n-            addValueToData(\"someSmallFile\", files[0], true)\n-          }\n-          addValueToData(\"nested.someString\", nestedString, nestedString.length)\n-\n-          var errorOutput = document.getElementById(\"errorOutput\")\n-\n-          axios({\n-            url: '/postMultipartFormData/server', \n-            data: data, \n-            method: \"post\",\n-            headers: { \"Content-Type\": \"multipart/form-data\" },\n-          })\n-            .then(function (res) {\n-              errorOutput.innerHTML = \"\";\n-            })\n-            .catch(function (err) {\n-              errorOutput.innerHTML = err.message;\n-            });\n-        };\n-      })();\n-    </script>\n+    // Show network/loading indicator\n+    document.getElementById(\"checkNetwork\").classList.remove(\"hidden\");\n+    // Grab values from inputs\n+        \n+    const someString = document.getElementById('someString').value;\n+    const someNumber = document.getElementById('someNumber').valueAsNumber;\n+    const files = Array.from(document.getElementById('someSmallFile').files);\n+    const nestedString = document.getElementById('nested.someString').value;\n+    const passAsFormData = document.querySelector('input[name=\"format\"]:checked').value === \"formData\";\n+\n+    const data = passAsFormData ? new FormData() : {};\n+\n+    // Helper to add value to FormData or plain object\n+    function addValueToData(key, val, isValDefined) {\n+      if (!isValDefined) return;\n+\n+      if (passAsFormData) {\n+        data.append(key, val);\n+      } else {\n+        const keys = key.split(\".\");\n+        if (keys.length === 1) {\n+          data[key] = val;\n+        } else {\n+          // Preserve existing nested objects if any\n+          data[keys[0]] = data[keys[0]] || {};\n+          data[keys[0]][keys[1]] = val;\n+        }\n+      }\n+    }\n+\n+    addValueToData(\"someString\", someString, someString.length > 0);\n+    addValueToData(\"someNumber\", someNumber, !isNaN(someNumber));\n+    if (files.length) addValueToData(\"someSmallFile\", files[0], true);\n+    addValueToData(\"nested.someString\", nestedString, nestedString !== undefined && nestedString !== null);\n+\n+    const errorOutput = document.getElementById(\"errorOutput\");\n+\n+    axios({\n+      url: '/postMultipartFormData/server',\n+      data: data,\n+      method: \"post\",\n+      headers: passAsFormData ? { \"Content-Type\": \"multipart/form-data\" } : {},\n+    })\n+      .then(res => {\n+        errorOutput.innerHTML = \"Successfully posted!\";\n+      })\n+      .catch(err => {\n+        console.error(\"Error posting data:\", err);\n+        errorOutput.innerHTML = `${err.message}`;\n+      });\n+  };\n+})();\n+</script>\n   </body>\n </html>\n", "test_patch": "", "problem_statement": "", "hints_text": "", "created_at": "2025-10-22T14:46:03Z"}
{"repo": "axios/axios", "pull_number": 7166, "instance_id": "axios__axios-7166", "issue_numbers": [], "base_commit": "d676df772244726533ca320f42e967f5af056bac", "patch": "diff --git a/examples/postMultipartFormData/index.html b/examples/postMultipartFormData/index.html\nindex ac35060d0e..6abce1d45e 100644\n--- a/examples/postMultipartFormData/index.html\n+++ b/examples/postMultipartFormData/index.html\n@@ -34,8 +34,8 @@ <h1>Post multipart/form-data</h1>\n         <input id=\"someNumber\" type=\"number\"></input>\n       </div>\n       <div class=\"form-group\">\n-        <label for=\"data\">someSamllFile</label>\n-        <input id=\"someSamllFile\" type=\"file\"></input>\n+        <label for=\"data\">someSmallFile</label>\n+        <input id=\"someSmallFile\" type=\"file\"></input>\n       </div>\n       <div class=\"form-group\">\n         <label for=\"data\">nested.someString</label>\n@@ -76,7 +76,7 @@ <h1>Post multipart/form-data</h1>\n \n           var someString = document.getElementById('someString').value;\n           var someNumber = document.getElementById('someNumber').valueAsNumber;\n-          var files = Array.from(document.getElementById('someSamllFile').files)\n+          var files = Array.from(document.getElementById('someSmallFile').files)\n           var nestedString = document.getElementById('nested.someString').value;\n           var passAsFormData = document.querySelector('input[name=\"format\"]:checked').value===\"formData\";\n \n", "test_patch": "", "problem_statement": "", "hints_text": "", "created_at": "2025-10-19T04:33:27Z"}
{"repo": "axios/axios", "pull_number": 7155, "instance_id": "axios__axios-7155", "issue_numbers": ["7153"], "base_commit": "c2911ccc6a143a9abb574e160f6c09d72f5501c9", "patch": "diff --git a/lib/adapters/fetch.js b/lib/adapters/fetch.js\nindex 8893b7b993..e2e90f6563 100644\n--- a/lib/adapters/fetch.js\n+++ b/lib/adapters/fetch.js\n@@ -262,7 +262,7 @@ const factory = (env) => {\n const seedCache = new Map();\n \n export const getFetch = (config) => {\n-  let env = config ? config.env : {};\n+  let env = (config && config.env) || {};\n   const {fetch, Request, Response} = env;\n   const seeds = [\n     Request, Response, fetch\n", "test_patch": "", "problem_statement": "Regression with fetch in service worker (1.12.2)\n### Describe the bug\n\nThis change [here](https://github.com/axios/axios/commit/cf78825e1229b60d1629ad0bbc8a752ff43c3f53#diff-ddff34f882af361ccfcdc7fb2c4a218507f441c0ebb609e8b84f7c49af1f1552L259) removes the global fetch as part of the `globalFetchAPI`.  \n\nThat's fine for initial load because `export const getFetch = (config) => {` on line 264 will pass an undefined config and make `env = {}` which will safely destructure.\n\nHowever, when making a request, getFetch is called from an adapter (not on static load), and it has a config however `config.env` is `undefined`.  That causes line 266 to throw because config is defined, but .env is not so you get a destructiing error.\n\n### To Reproduce\n\nSee Codesandbox where fetch is forced as the default and errors - https://codesandbox.io/p/sandbox/6z72dh\n\n### Expected behavior\n\nIt should support environments where fetch is the only option.\n\n### Axios Version\n\n1.12.2\n\n### Adapter Version\n\nfetch\n\n### Browser\n\nall\n\n### Browser Version\n\nany\n\n### Node.js Version\n\nlatest\n\n### OS\n\nall\n", "hints_text": "", "created_at": "2025-10-15T04:34:15Z"}
{"repo": "axios/axios", "pull_number": 7150, "instance_id": "axios__axios-7150", "issue_numbers": ["1175"], "base_commit": "015faeca9f26db76f9562760f04bb9f8229f4db1", "patch": "diff --git a/README.md b/README.md\nindex 6f14c29d99..e9d886e00c 100644\n--- a/README.md\n+++ b/README.md\n@@ -87,6 +87,7 @@\n     - [\ud83d\udd25 Custom fetch](#-custom-fetch)\n       - [\ud83d\udd25 Using with Tauri](#-using-with-tauri)\n       - [\ud83d\udd25 Using with SvelteKit](#-using-with-sveltekit-)\n+  - [\ud83d\udd25 HTTP2](#-http2)\n   - [Semver](#semver)\n   - [Promises](#promises)\n   - [TypeScript](#typescript)\n@@ -1702,6 +1703,34 @@ export async function load({ fetch }) {\n }\n ```\n \n+## \ud83d\udd25 HTTP2\n+\n+In version `1.13.0`, experimental `HTTP2` support was added to the `http` adapter. \n+The `httpVersion` option is now available to select the protocol version used.\n+Additional native options for the internal `session.request()` call can be passed via the `http2Options` config.\n+This config also includes the custom `sessionTimeout` parameter, which defaults to `1000ms`.\n+\n+```js\n+const form = new FormData();\n+\n+    form.append('foo', '123');\n+\n+    const {data, headers, status} = await axios.post('https://httpbin.org/post', form, {\n+      httpVersion: 2,\n+      http2Options: {\n+        // rejectUnauthorized: false,\n+        // sessionTimeout: 1000\n+      },\n+      onUploadProgress(e) {\n+        console.log('upload progress', e);\n+      },\n+      onDownloadProgress(e) {\n+        console.log('download progress', e);\n+      },\n+      responseType: 'arraybuffer'\n+    });\n+```\n+\n ## Semver\n \n Since Axios has reached a `v.1.0.0` we will fully embrace semver as per the spec [here](https://semver.org/)\ndiff --git a/index.d.cts b/index.d.cts\nindex 971a644f51..e3a06a3789 100644\n--- a/index.d.cts\n+++ b/index.d.cts\n@@ -436,6 +436,10 @@ declare namespace axios {\n         ((hostname: string, options: object) => Promise<[address: LookupAddressEntry | LookupAddressEntry[], family?: AddressFamily] | LookupAddress>);\n     withXSRFToken?: boolean | ((config: InternalAxiosRequestConfig) => boolean | undefined);\n     fetchOptions?: Omit<RequestInit, 'body' | 'headers' | 'method' | 'signal'> | Record<string, any>;\n+    httpVersion?: 1 | 2;\n+    http2Options?: Record<string, any> & {\n+      sessionTimeout?: number;\n+    };\n   }\n \n   // Alias\ndiff --git a/index.d.ts b/index.d.ts\nindex 554140e57f..a97882aa0d 100644\n--- a/index.d.ts\n+++ b/index.d.ts\n@@ -369,6 +369,10 @@ export interface AxiosRequestConfig<D = any> {\n   withXSRFToken?: boolean | ((config: InternalAxiosRequestConfig) => boolean | undefined);\n   parseReviver?: (this: any, key: string, value: any) => any;\n   fetchOptions?: Omit<RequestInit, 'body' | 'headers' | 'method' | 'signal'> | Record<string, any>;\n+  httpVersion?: 1 | 2;\n+  http2Options?: Record<string, any> & {\n+    sessionTimeout?: number;\n+  };\n }\n \n // Alias\ndiff --git a/lib/adapters/http.js b/lib/adapters/http.js\nindex a3489b21de..ea69ff2eba 100755\n--- a/lib/adapters/http.js\n+++ b/lib/adapters/http.js\n@@ -1,5 +1,4 @@\n-'use strict';\n-\n+import { connect, constants } from 'http2';\n import utils from './../utils.js';\n import settle from './../core/settle.js';\n import buildFullPath from '../core/buildFullPath.js';\n@@ -37,6 +36,13 @@ const brotliOptions = {\n   finishFlush: zlib.constants.BROTLI_OPERATION_FLUSH\n }\n \n+const {\n+  HTTP2_HEADER_SCHEME,\n+  HTTP2_HEADER_METHOD,\n+  HTTP2_HEADER_PATH,\n+  HTTP2_HEADER_STATUS\n+} = constants;\n+\n const isBrotliSupported = utils.isFunction(zlib.createBrotliDecompress);\n \n const {http: httpFollow, https: httpsFollow} = followRedirects;\n@@ -56,6 +62,66 @@ const flushOnFinish = (stream, [throttled, flush]) => {\n   return throttled;\n }\n \n+class Http2Sessions {\n+  constructor() {\n+    this.sessions = Object.create(null);\n+  }\n+\n+  getSession(authority, options) {\n+    options = Object.assign({\n+      sessionTimeout: 1000\n+    }, options);\n+\n+    let authoritySessions;\n+\n+    if ((authoritySessions = this.sessions[authority])) {\n+      let len = authoritySessions.length;\n+\n+      for (let i = 0; i < len; i++) {\n+        const [sessionHandle, sessionOptions] = authoritySessions[i];\n+        if (!sessionHandle.destroyed && !sessionHandle.closed && util.isDeepStrictEqual(sessionOptions, options)) {\n+          return sessionHandle;\n+        }\n+      }\n+    }\n+\n+    const session = connect(authority, options);\n+\n+    session.once('close', () => {\n+      let entries = authoritySessions, len = entries.length, i = len;\n+\n+      while (i--) {\n+        if (entries[i][0] === session) {\n+          entries.splice(i, 1);\n+          if (len === 1) {\n+            delete this.sessions[authority];\n+            return;\n+          }\n+        }\n+      }\n+    });\n+\n+    Http2Sessions.setTimeout(session, options.sessionTimeout);\n+\n+    let entries = this.sessions[authority], entry = [\n+      session,\n+      options\n+    ];\n+\n+    entries ? this.sessions[authority].push(entry) : authoritySessions =  this.sessions[authority] = [entry];\n+\n+    return session;\n+  }\n+\n+  static setTimeout(session, timeout = 1000) {\n+    session && session.setTimeout(timeout, () => {\n+      session.close();\n+    });\n+  }\n+}\n+\n+const http2Sessions = new Http2Sessions();\n+\n \n /**\n  * If the proxy or config beforeRedirects functions are defined, call them with the options\n@@ -168,16 +234,66 @@ const resolveFamily = ({address, family}) => {\n \n const buildAddressEntry = (address, family) => resolveFamily(utils.isObject(address) ? address : {address, family});\n \n+const http2Transport = {\n+  request(options, cb) {\n+      const authority = options.protocol + '//' + options.hostname + ':' + (options.port || 80);\n+\n+      const {http2Options, headers} = options;\n+\n+      const session = http2Sessions.getSession(authority, http2Options);\n+\n+      const http2Headers = {\n+        [HTTP2_HEADER_SCHEME]: options.protocol.replace(':', ''),\n+        [HTTP2_HEADER_METHOD]: options.method,\n+        [HTTP2_HEADER_PATH]: options.path,\n+      }\n+\n+      utils.forEach(headers, (header, name) => {\n+        name.charAt(0) !== ':' && (http2Headers[name] = header);\n+      });\n+\n+      const req = session.request(http2Headers);\n+\n+      req.once('response', (responseHeaders) => {\n+        const response = req; //duplex\n+\n+        responseHeaders = Object.assign({}, responseHeaders);\n+\n+        const status = responseHeaders[HTTP2_HEADER_STATUS];\n+\n+        delete responseHeaders[HTTP2_HEADER_STATUS];\n+\n+        response.headers = responseHeaders;\n+\n+        response.statusCode = +status;\n+\n+        cb(response);\n+      })\n+\n+      return req;\n+  }\n+}\n+\n /*eslint consistent-return:0*/\n export default isHttpAdapterSupported && function httpAdapter(config) {\n   return wrapAsync(async function dispatchHttpRequest(resolve, reject, onDone) {\n-    let {data, lookup, family} = config;\n+    let {data, lookup, family, httpVersion = 1, http2Options} = config;\n     const {responseType, responseEncoding} = config;\n     const method = config.method.toUpperCase();\n     let isDone;\n     let rejected = false;\n     let req;\n \n+    httpVersion = Number(httpVersion);\n+    if (Number.isNaN(httpVersion)) {\n+      throw TypeError(`Invalid protocol version: '${config.httpVersion}' is not a number`);\n+    }\n+    if (httpVersion !== 1 && httpVersion !== 2) {\n+      throw TypeError(`Unsupported protocol version '${httpVersion}'`);\n+    }\n+\n+    const isHttp2 = httpVersion === 2;\n+\n     if (lookup) {\n       const _lookup = callbackify(lookup, (value) => utils.isArray(value) ? value : [value]);\n       // hotfix to support opt.all option which is required for node 20.x\n@@ -194,8 +310,17 @@ export default isHttpAdapterSupported && function httpAdapter(config) {\n       }\n     }\n \n-    // temporary internal emitter until the AxiosRequest class will be implemented\n-    const emitter = new EventEmitter();\n+    const abortEmitter = new EventEmitter();\n+\n+    function abort(reason) {\n+      try {\n+        abortEmitter.emit('abort', !reason || reason.type ? new CanceledError(null, config, req) : reason);\n+      } catch(err) {\n+        console.warn('emit error', err);\n+      }\n+    }\n+\n+    abortEmitter.once('abort', reject);\n \n     const onFinished = () => {\n       if (config.cancelToken) {\n@@ -206,29 +331,40 @@ export default isHttpAdapterSupported && function httpAdapter(config) {\n         config.signal.removeEventListener('abort', abort);\n       }\n \n-      emitter.removeAllListeners();\n+      abortEmitter.removeAllListeners();\n     }\n \n-    onDone((value, isRejected) => {\n+    if (config.cancelToken || config.signal) {\n+      config.cancelToken && config.cancelToken.subscribe(abort);\n+      if (config.signal) {\n+        config.signal.aborted ? abort() : config.signal.addEventListener('abort', abort);\n+      }\n+    }\n+\n+    onDone((response, isRejected) => {\n       isDone = true;\n+\n       if (isRejected) {\n         rejected = true;\n         onFinished();\n+        return;\n+      }\n+\n+      const {data} = response;\n+\n+      if (data instanceof stream.Readable || data instanceof stream.Duplex) {\n+        const offListeners = stream.finished(data, () => {\n+          offListeners();\n+          onFinished();\n+        });\n+      } else {\n+        onFinished();\n       }\n     });\n \n-    function abort(reason) {\n-      emitter.emit('abort', !reason || reason.type ? new CanceledError(null, config, req) : reason);\n-    }\n \n-    emitter.once('abort', reject);\n \n-    if (config.cancelToken || config.signal) {\n-      config.cancelToken && config.cancelToken.subscribe(abort);\n-      if (config.signal) {\n-        config.signal.aborted ? abort() : config.signal.addEventListener('abort', abort);\n-      }\n-    }\n+\n \n     // Parse url\n     const fullPath = buildFullPath(config.baseURL, config.url, config.allowAbsoluteUrls);\n@@ -436,7 +572,8 @@ export default isHttpAdapterSupported && function httpAdapter(config) {\n       protocol,\n       family,\n       beforeRedirect: dispatchBeforeRedirect,\n-      beforeRedirects: {}\n+      beforeRedirects: {},\n+      http2Options\n     };\n \n     // cacheable-lookup integration hotfix\n@@ -453,18 +590,23 @@ export default isHttpAdapterSupported && function httpAdapter(config) {\n     let transport;\n     const isHttpsRequest = isHttps.test(options.protocol);\n     options.agent = isHttpsRequest ? config.httpsAgent : config.httpAgent;\n-    if (config.transport) {\n-      transport = config.transport;\n-    } else if (config.maxRedirects === 0) {\n-      transport = isHttpsRequest ? https : http;\n+\n+    if (isHttp2) {\n+       transport = http2Transport;\n     } else {\n-      if (config.maxRedirects) {\n-        options.maxRedirects = config.maxRedirects;\n-      }\n-      if (config.beforeRedirect) {\n-        options.beforeRedirects.config = config.beforeRedirect;\n+      if (config.transport) {\n+        transport = config.transport;\n+      } else if (config.maxRedirects === 0) {\n+        transport = isHttpsRequest ? https : http;\n+      } else {\n+        if (config.maxRedirects) {\n+          options.maxRedirects = config.maxRedirects;\n+        }\n+        if (config.beforeRedirect) {\n+          options.beforeRedirects.config = config.beforeRedirect;\n+        }\n+        transport = isHttpsRequest ? httpsFollow : httpFollow;\n       }\n-      transport = isHttpsRequest ? httpsFollow : httpFollow;\n     }\n \n     if (config.maxBodyLength > -1) {\n@@ -484,7 +626,7 @@ export default isHttpAdapterSupported && function httpAdapter(config) {\n \n       const streams = [res];\n \n-      const responseLength = +res.headers['content-length'];\n+      const responseLength = utils.toFiniteNumber(res.headers['content-length']);\n \n       if (onDownloadProgress || maxDownloadRate) {\n         const transformStream = new AxiosTransformStream({\n@@ -547,10 +689,7 @@ export default isHttpAdapterSupported && function httpAdapter(config) {\n \n       responseStream = streams.length > 1 ? stream.pipeline(streams, utils.noop) : streams[0];\n \n-      const offListeners = stream.finished(responseStream, () => {\n-        offListeners();\n-        onFinished();\n-      });\n+\n \n       const response = {\n         status: res.statusCode,\n@@ -562,7 +701,7 @@ export default isHttpAdapterSupported && function httpAdapter(config) {\n \n       if (responseType === 'stream') {\n         response.data = responseStream;\n-        settle(resolve, reject, response);\n+        settle(resolve, abort, response);\n       } else {\n         const responseBuffer = [];\n         let totalResponseBytes = 0;\n@@ -576,7 +715,7 @@ export default isHttpAdapterSupported && function httpAdapter(config) {\n             // stream.destroy() emit aborted event before calling reject() on Node.js v16\n             rejected = true;\n             responseStream.destroy();\n-            reject(new AxiosError('maxContentLength size of ' + config.maxContentLength + ' exceeded',\n+            abort(new AxiosError('maxContentLength size of ' + config.maxContentLength + ' exceeded',\n               AxiosError.ERR_BAD_RESPONSE, config, lastRequest));\n           }\n         });\n@@ -618,7 +757,7 @@ export default isHttpAdapterSupported && function httpAdapter(config) {\n         });\n       }\n \n-      emitter.once('abort', err => {\n+      abortEmitter.once('abort', err => {\n         if (!responseStream.destroyed) {\n           responseStream.emit('error', err);\n           responseStream.destroy();\n@@ -626,9 +765,12 @@ export default isHttpAdapterSupported && function httpAdapter(config) {\n       });\n     });\n \n-    emitter.once('abort', err => {\n-      reject(err);\n-      req.destroy(err);\n+    abortEmitter.once('abort', err => {\n+      if (req.close) {\n+        req.close();\n+      } else {\n+        req.destroy(err);\n+      }\n     });\n \n     // Handle errors\n@@ -650,7 +792,7 @@ export default isHttpAdapterSupported && function httpAdapter(config) {\n       const timeout = parseInt(config.timeout, 10);\n \n       if (Number.isNaN(timeout)) {\n-        reject(new AxiosError(\n+        abort(new AxiosError(\n           'error trying to parse `config.timeout` to int',\n           AxiosError.ERR_BAD_OPTION_VALUE,\n           config,\n@@ -672,13 +814,12 @@ export default isHttpAdapterSupported && function httpAdapter(config) {\n         if (config.timeoutErrorMessage) {\n           timeoutErrorMessage = config.timeoutErrorMessage;\n         }\n-        reject(new AxiosError(\n+        abort(new AxiosError(\n           timeoutErrorMessage,\n           transitional.clarifyTimeoutError ? AxiosError.ETIMEDOUT : AxiosError.ECONNABORTED,\n           config,\n           req\n         ));\n-        abort();\n       });\n     }\n \n@@ -705,7 +846,8 @@ export default isHttpAdapterSupported && function httpAdapter(config) {\n \n       data.pipe(req);\n     } else {\n-      req.end(data);\n+      data && req.write(data);\n+      req.end();\n     }\n   });\n }\ndiff --git a/package-lock.json b/package-lock.json\nindex b90391b8b4..37b4c7545b 100644\n--- a/package-lock.json\n+++ b/package-lock.json\n@@ -66,6 +66,7 @@\n         \"rollup-plugin-auto-external\": \"^2.0.0\",\n         \"rollup-plugin-bundle-size\": \"^1.0.3\",\n         \"rollup-plugin-terser\": \"^7.0.2\",\n+        \"selfsigned\": \"^3.0.1\",\n         \"sinon\": \"^4.5.0\",\n         \"stream-throttle\": \"^0.1.3\",\n         \"string-replace-async\": \"^3.0.2\",\n@@ -17909,6 +17910,16 @@\n         }\n       }\n     },\n+    \"node_modules/node-forge\": {\n+      \"version\": \"1.3.1\",\n+      \"resolved\": \"https://registry.npmjs.org/node-forge/-/node-forge-1.3.1.tgz\",\n+      \"integrity\": \"sha512-dPEtOeMvF9VMcYV/1Wb8CPoVAXtp6MKMlcbAt4ddqmGqUJ6fQZFXkNZNkNlfevtNkGtaSoXf/vNNNSvgrdXwtA==\",\n+      \"dev\": true,\n+      \"license\": \"(BSD-3-Clause OR GPL-2.0)\",\n+      \"engines\": {\n+        \"node\": \">= 6.13.0\"\n+      }\n+    },\n     \"node_modules/node-gyp\": {\n       \"version\": \"11.4.2\",\n       \"resolved\": \"https://registry.npmjs.org/node-gyp/-/node-gyp-11.4.2.tgz\",\n@@ -22316,6 +22327,19 @@\n         \"seek-table\": \"bin/seek-bzip-table\"\n       }\n     },\n+    \"node_modules/selfsigned\": {\n+      \"version\": \"3.0.1\",\n+      \"resolved\": \"https://registry.npmjs.org/selfsigned/-/selfsigned-3.0.1.tgz\",\n+      \"integrity\": \"sha512-6U6w6kSLrM9Zxo0D7mC7QdGS6ZZytMWBnj/vhF9p+dAHx6CwGezuRcO4VclTbrrI7mg7SD6zNiqXUuBHOVopNQ==\",\n+      \"dev\": true,\n+      \"license\": \"MIT\",\n+      \"dependencies\": {\n+        \"node-forge\": \"^1\"\n+      },\n+      \"engines\": {\n+        \"node\": \">=10\"\n+      }\n+    },\n     \"node_modules/semver\": {\n       \"version\": \"7.3.8\",\n       \"resolved\": \"https://registry.npmjs.org/semver/-/semver-7.3.8.tgz\",\n@@ -40788,6 +40812,12 @@\n         \"whatwg-url\": \"^5.0.0\"\n       }\n     },\n+    \"node-forge\": {\n+      \"version\": \"1.3.1\",\n+      \"resolved\": \"https://registry.npmjs.org/node-forge/-/node-forge-1.3.1.tgz\",\n+      \"integrity\": \"sha512-dPEtOeMvF9VMcYV/1Wb8CPoVAXtp6MKMlcbAt4ddqmGqUJ6fQZFXkNZNkNlfevtNkGtaSoXf/vNNNSvgrdXwtA==\",\n+      \"dev\": true\n+    },\n     \"node-gyp\": {\n       \"version\": \"11.4.2\",\n       \"resolved\": \"https://registry.npmjs.org/node-gyp/-/node-gyp-11.4.2.tgz\",\n@@ -44115,6 +44145,15 @@\n         \"commander\": \"^2.8.1\"\n       }\n     },\n+    \"selfsigned\": {\n+      \"version\": \"3.0.1\",\n+      \"resolved\": \"https://registry.npmjs.org/selfsigned/-/selfsigned-3.0.1.tgz\",\n+      \"integrity\": \"sha512-6U6w6kSLrM9Zxo0D7mC7QdGS6ZZytMWBnj/vhF9p+dAHx6CwGezuRcO4VclTbrrI7mg7SD6zNiqXUuBHOVopNQ==\",\n+      \"dev\": true,\n+      \"requires\": {\n+        \"node-forge\": \"^1\"\n+      }\n+    },\n     \"semver\": {\n       \"version\": \"7.3.8\",\n       \"resolved\": \"https://registry.npmjs.org/semver/-/semver-7.3.8.tgz\",\ndiff --git a/package.json b/package.json\nindex 98e07494e9..b04de5af9d 100644\n--- a/package.json\n+++ b/package.json\n@@ -146,6 +146,7 @@\n     \"rollup-plugin-auto-external\": \"^2.0.0\",\n     \"rollup-plugin-bundle-size\": \"^1.0.3\",\n     \"rollup-plugin-terser\": \"^7.0.2\",\n+    \"selfsigned\": \"^3.0.1\",\n     \"sinon\": \"^4.5.0\",\n     \"stream-throttle\": \"^0.1.3\",\n     \"string-replace-async\": \"^3.0.2\",\n", "test_patch": "diff --git a/test/helpers/server.js b/test/helpers/server.js\nindex 1eb1534bb8..698b2b7f6e 100644\n--- a/test/helpers/server.js\n+++ b/test/helpers/server.js\n@@ -1,8 +1,10 @@\n import http from \"http\";\n+import http2 from \"http2\";\n import stream from \"stream\";\n import getStream from \"get-stream\";\n import {Throttle} from \"stream-throttle\";\n import formidable from \"formidable\";\n+import selfsigned from 'selfsigned';\n \n \n export const LOCAL_SERVER_URL = 'http://localhost:4444';\n@@ -11,15 +13,26 @@ export const SERVER_HANDLER_STREAM_ECHO = (req, res) => req.pipe(res);\n \n export const setTimeoutAsync = (ms) => new Promise(resolve=> setTimeout(resolve, ms));\n \n+const certificate = selfsigned.generate(null, { keySize: 2048 });\n+\n export const startHTTPServer = (handlerOrOptions, options) => {\n \n-  const {handler, useBuffering = false, rate = undefined, port = 4444, keepAlive = 1000} =\n+  const {\n+    handler,\n+    useBuffering = false,\n+    rate = undefined,\n+    port = 4444,\n+    keepAlive = 1000,\n+    useHTTP2,\n+    key = certificate.private,\n+    cert = certificate.cert,\n+  } =\n     Object.assign(typeof handlerOrOptions === 'function' ? {\n       handler: handlerOrOptions\n     } : handlerOrOptions || {}, options);\n \n   return new Promise((resolve, reject) => {\n-    const server = http.createServer(handler || async function (req, res) {\n+    const serverHandler = handler || async function (req, res) {\n       try {\n         req.headers['content-length'] && res.setHeader('content-length', req.headers['content-length']);\n \n@@ -43,12 +56,36 @@ export const startHTTPServer = (handlerOrOptions, options) => {\n       } catch (err){\n         console.warn('HTTP server error:', err);\n       }\n+    }\n+\n+    const server = useHTTP2 ?\n+      http2.createSecureServer({key, cert} , serverHandler) :\n+      http.createServer(serverHandler);\n+\n+    const sessions = new Set();\n+\n+    if(useHTTP2) {\n+      server.on('session', (session) => {\n+        sessions.add(session);\n+\n+        session.once('close', () => {\n+          sessions.delete(session);\n+        });\n+      });\n+\n+      server.closeAllSessions = () => {\n+        for (const session of sessions) {\n+          session.destroy();\n+        }\n+      }\n+    } else {\n+      server.keepAliveTimeout = keepAlive;\n+    }\n \n-    }).listen(port, function (err) {\n+    server.listen(port, function (err) {\n       err ? reject(err) : resolve(this);\n     });\n \n-    server.keepAliveTimeout = keepAlive;\n   });\n }\n \n@@ -58,6 +95,10 @@ export const stopHTTPServer = async (server, timeout = 10000) => {\n       server.closeAllConnections();\n     }\n \n+    if (typeof server.closeAllSessions === 'function') {\n+      server.closeAllSessions();\n+    }\n+\n     await Promise.race([new Promise(resolve => server.close(resolve)), setTimeoutAsync(timeout)]);\n   }\n }\ndiff --git a/test/unit/adapters/http.js b/test/unit/adapters/http.js\nindex 04a846dbd1..2f63bbf139 100644\n--- a/test/unit/adapters/http.js\n+++ b/test/unit/adapters/http.js\n@@ -10,7 +10,7 @@ import assert from 'assert';\n import fs from 'fs';\n import path from 'path';\n import {lookup} from 'dns';\n-let server, proxy;\n+let server, server2, proxy;\n import AxiosError from '../../../lib/core/AxiosError.js';\n import FormDataLegacy from 'form-data';\n import formidable from 'formidable';\n@@ -18,11 +18,23 @@ import express from 'express';\n import multer from 'multer';\n import bodyParser from 'body-parser';\n const isBlobSupported = typeof Blob !== 'undefined';\n-import {Throttle} from 'stream-throttle';\n import devNull from 'dev-null';\n import {AbortController} from 'abortcontroller-polyfill/dist/cjs-ponyfill.js';\n import {__setProxy} from \"../../../lib/adapters/http.js\";\n import {FormData as FormDataPolyfill, Blob as BlobPolyfill, File as FilePolyfill} from 'formdata-node';\n+import getStream from \"get-stream\";\n+import {\n+  startHTTPServer,\n+  stopHTTPServer,\n+  LOCAL_SERVER_URL,\n+  SERVER_HANDLER_STREAM_ECHO,\n+  handleFormData,\n+  generateReadable\n+} from '../../helpers/server.js';\n+\n+const LOCAL_SERVER_URL2 = 'https://localhost:5555';\n+const SERVER_PORT = 4444;\n+const SERVER_PORT2 = 5555;\n \n const FormDataSpecCompliant = typeof FormData !== 'undefined' ? FormData : FormDataPolyfill;\n const BlobSpecCompliant = typeof Blob !== 'undefined' ? Blob : BlobPolyfill;\n@@ -31,8 +43,6 @@ const FileSpecCompliant = typeof File !== 'undefined' ? File : FilePolyfill;\n const __filename = url.fileURLToPath(import.meta.url);\n const __dirname = path.dirname(__filename);\n \n-import getStream from 'get-stream';\n-\n function setTimeoutAsync(ms) {\n   return new Promise(resolve=> setTimeout(resolve, ms));\n }\n@@ -45,11 +55,11 @@ const deflateRaw = util.promisify(zlib.deflateRaw);\n const brotliCompress = util.promisify(zlib.brotliCompress);\n \n function toleranceRange(positive, negative) {\n-  const p = (1 + 1 / positive);\n-  const n = (1 / negative);\n+  const p = 1 + positive / 100;\n+  const n = 1 - negative / 100;\n \n   return (actualValue, value) => {\n-    return actualValue - value > 0 ? actualValue < value * p : actualValue > value * n;\n+    return actualValue > value ? actualValue <= value * p : actualValue >= value * n;\n   }\n }\n \n@@ -58,100 +68,12 @@ const nodeMajorVersion = nodeVersion[0];\n \n var noop = ()=> {};\n \n-const LOCAL_SERVER_URL = 'http://localhost:4444';\n-\n-const SERVER_HANDLER_STREAM_ECHO = (req, res) => req.pipe(res);\n-\n-function startHTTPServer(handlerOrOptions, options) {\n-\n-  const {handler, useBuffering = false, rate = undefined, port = 4444, keepAlive = 1000} =\n-    Object.assign(typeof handlerOrOptions === 'function' ? {\n-      handler: handlerOrOptions\n-    } : handlerOrOptions || {}, options);\n-\n-  return new Promise((resolve, reject) => {\n-    const server = http.createServer(handler || async function (req, res) {\n-      try {\n-        req.headers['content-length'] && res.setHeader('content-length', req.headers['content-length']);\n-\n-        var dataStream = req;\n-\n-        if (useBuffering) {\n-          dataStream = stream.Readable.from(await getStream(req));\n-        }\n-\n-        var streams = [dataStream];\n-\n-        if (rate) {\n-          streams.push(new Throttle({rate}))\n-        }\n-\n-        streams.push(res);\n-\n-        stream.pipeline(streams, (err) => {\n-          err && console.log('Server warning: ' + err.message)\n-        });\n-      } catch (err){\n-        console.warn('HTTP server error:', err);\n-      }\n-\n-    }).listen(port, function (err) {\n-      err ? reject(err) : resolve(this);\n-    });\n-\n-    server.keepAliveTimeout = keepAlive;\n-  });\n-}\n-\n-const stopHTTPServer = async (server, timeout = 10000) => {\n-  if (server) {\n-    if (typeof server.closeAllConnections === 'function') {\n-      server.closeAllConnections();\n-    }\n-\n-    await Promise.race([new Promise(resolve => server.close(resolve)), setTimeoutAsync(timeout)]);\n-  }\n-}\n-\n-const handleFormData = (req) => {\n-  return new Promise((resolve, reject) => {\n-    const form = new formidable.IncomingForm();\n-\n-    form.parse(req, (err, fields, files) => {\n-      if (err) {\n-        return reject(err);\n-      }\n-\n-      resolve({fields, files});\n-    });\n-  });\n-}\n-\n-function generateReadableStream(length = 1024 * 1024, chunkSize = 10 * 1024, sleep = 50) {\n-  return stream.Readable.from(async function* (){\n-    let dataLength = 0;\n-\n-    while(dataLength < length) {\n-      const leftBytes = length - dataLength;\n-\n-      const chunk = Buffer.alloc(leftBytes > chunkSize? chunkSize : leftBytes);\n-\n-      dataLength += chunk.length;\n-\n-      yield chunk;\n-\n-      if (sleep) {\n-        await setTimeoutAsync(sleep);\n-      }\n-    }\n-  }());\n-}\n-\n describe('supports http with nodejs', function () {\n   afterEach(async function () {\n-    await Promise.all([stopHTTPServer(server), stopHTTPServer(proxy)]);\n+    await Promise.all([stopHTTPServer(server), stopHTTPServer(server2), stopHTTPServer(proxy)]);\n \n     server = null;\n+    server2 = null;\n     proxy = null;\n \n     delete process.env.http_proxy;\n@@ -958,7 +880,7 @@ describe('supports http with nodejs', function () {\n     it('should destroy the response stream with an error on request stream destroying', async function () {\n       server = await startHTTPServer();\n \n-      let stream = generateReadableStream();\n+      let stream = generateReadable();\n \n       setTimeout(function () {\n         stream.destroy();\n@@ -2075,6 +1997,8 @@ describe('supports http with nodejs', function () {\n   });\n \n   describe('Rate limit', function () {\n+    this.timeout(30000);\n+\n     it('should support upload rate limit', async function () {\n       const secs = 10;\n       const configRate = 100_000;\n@@ -2084,8 +2008,8 @@ describe('supports http with nodejs', function () {\n \n       const buf = Buffer.alloc(chunkLength).fill('s');\n       const samples = [];\n-      const skip = 2;\n-      const compareValues = toleranceRange(10, 50);\n+      const skip = 4;\n+      const compareValues = toleranceRange(50, 50);\n \n       const {data} = await axios.post(LOCAL_SERVER_URL, buf, {\n         onUploadProgress: ({loaded, total, progress, bytes, rate}) => {\n@@ -2132,8 +2056,8 @@ describe('supports http with nodejs', function () {\n \n       const buf = Buffer.alloc(chunkLength).fill('s');\n       const samples = [];\n-      const skip = 2;\n-      const compareValues = toleranceRange(10, 50);\n+      const skip = 4;\n+      const compareValues = toleranceRange(50, 50);\n \n       const {data} = await axios.post(LOCAL_SERVER_URL, buf, {\n         onDownloadProgress: ({loaded, total, progress, bytes, rate}) => {\n@@ -2173,7 +2097,9 @@ describe('supports http with nodejs', function () {\n   });\n \n   describe('request aborting', function() {\n-    it('should be able to abort the response stream', async function () {\n+    //this.timeout(5000);\n+\n+    it('should be able to abort the response stream', async () => {\n       server = await startHTTPServer({\n         rate: 100_000,\n         useBuffering: true\n@@ -2183,7 +2109,7 @@ describe('supports http with nodejs', function () {\n \n       const controller = new AbortController();\n \n-      var {data} = await axios.post(LOCAL_SERVER_URL, buf, {\n+      const {data} = await axios.post(LOCAL_SERVER_URL, buf, {\n         responseType: 'stream',\n         signal: controller.signal,\n         maxRedirects: 0\n@@ -2199,14 +2125,9 @@ describe('supports http with nodejs', function () {\n         streamError = err;\n       });\n \n-      try {\n-        await pipelineAsync(data, devNull());\n-        assert.fail('stream was not aborted');\n-      } catch(e) {\n-        console.log(`pipeline error: ${e}`);\n-      } finally {\n-        assert.strictEqual(streamError && streamError.code, 'ERR_CANCELED');\n-      }\n+      await assert.rejects(() => pipelineAsync([data, devNull()]));\n+\n+      assert.strictEqual(streamError && streamError.code, 'ERR_CANCELED');\n     });\n   })\n \n@@ -2350,4 +2271,395 @@ describe('supports http with nodejs', function () {\n       assert.deepStrictEqual(data, {foo: 'success'});\n     });\n   });\n+\n+  describe('HTTP2', function () {\n+    const LOCAL_SERVER_URL = 'https://127.0.0.1:4444';\n+\n+    const http2Axios = axios.create({\n+      baseURL: LOCAL_SERVER_URL,\n+      httpVersion: 2,\n+      http2Options: {\n+        rejectUnauthorized: false\n+      }\n+    });\n+\n+    it('should merge request http2Options with its instance config', async () => {\n+      const {data} = await http2Axios.get('/', {\n+        http2Options: {\n+          foo : 'test'\n+        },\n+        adapter: async (config) => {\n+          return {\n+            data: config.http2Options\n+          }\n+        }\n+      });\n+\n+      assert.deepStrictEqual(data, {\n+        rejectUnauthorized: false,\n+        foo : 'test'\n+      });\n+    });\n+\n+    it('should support http2 transport', async () => {\n+      server = await startHTTPServer((req, res) => {\n+        res.end('OK');\n+      }, {\n+        useHTTP2: true\n+      });\n+\n+      const {data} = await http2Axios.get(LOCAL_SERVER_URL);\n+\n+      assert.deepStrictEqual(data, 'OK');\n+\n+    });\n+\n+    it(`should support request payload`, async () => {\n+      server = await startHTTPServer(null, {\n+        useHTTP2: true\n+      });\n+\n+      const payload = 'DATA';\n+\n+      const {data} = await http2Axios.post(LOCAL_SERVER_URL, payload);\n+\n+      assert.deepStrictEqual(data, payload);\n+\n+    });\n+\n+    it(`should support FormData as a payload`, async function () {\n+      if (typeof FormData !== 'function') {\n+        this.skip();\n+      }\n+\n+\n+      server = await startHTTPServer(async (req, res) => {\n+        const {fields, files} = await handleFormData(req);\n+\n+        res.end(JSON.stringify({\n+          fields,\n+          files\n+        }));\n+      }, {\n+        useHTTP2: true\n+      });\n+\n+      const form = new FormData();\n+\n+      form.append('x', 'foo');\n+      form.append('y', 'bar');\n+\n+      const {data} = await http2Axios.post(LOCAL_SERVER_URL, form);\n+\n+      assert.deepStrictEqual(data, {\n+        fields: {\n+          x: 'foo',\n+          y: 'bar'\n+        },\n+        files: {}\n+      });\n+\n+    });\n+\n+    describe(\"response types\", () => {\n+      const originalData = '{\"test\": \"OK\"}';\n+\n+      const fixtures = {\n+        'text' : (v) => assert.strictEqual(v, originalData),\n+        'arraybuffer' : (v) => assert.deepStrictEqual(v, Buffer.from(originalData)),\n+        'stream': async (v) => assert.deepStrictEqual(await getStream(v), originalData),\n+        'json': async (v) => assert.deepStrictEqual(v, JSON.parse(originalData))\n+      };\n+\n+      for(let [responseType, assertValue] of Object.entries(fixtures)) {\n+        it(`should support ${responseType} response type`, async () => {\n+          server = await startHTTPServer((req, res) => {\n+            res.end(originalData);\n+          }, {\n+            useHTTP2: true\n+          });\n+\n+          const {data} = await http2Axios.get(LOCAL_SERVER_URL, {\n+            responseType\n+          });\n+\n+          await assertValue(data);\n+        });\n+      }\n+    });\n+\n+\n+\n+    it('should support request timeout', async () => {\n+      let isAborted= false;\n+\n+      let aborted;\n+      const promise = new Promise(resolve => aborted = resolve);\n+\n+      server = await startHTTPServer((req, res) => {\n+        setTimeout(() => {\n+          res.end('OK');\n+        }, 15000);\n+      }, {\n+        useHTTP2: true\n+      });\n+\n+      server.on('stream', (stream) => {\n+        stream.once('aborted', () => {\n+          isAborted = true;\n+          aborted();\n+        });\n+      });\n+\n+      await assert.rejects(async () => {\n+        await http2Axios.get(LOCAL_SERVER_URL, {\n+          timeout: 500\n+        });\n+      }, /timeout/);\n+\n+      await promise;\n+\n+      assert.ok(isAborted);\n+    });\n+\n+    it('should support request cancellation', async function (){\n+      if (typeof AbortSignal !== 'function') {\n+        this.skip();\n+      }\n+\n+      let isAborted= false;\n+\n+      let aborted;\n+      const promise = new Promise(resolve => aborted = resolve);\n+\n+      server = await startHTTPServer((req, res) => {\n+        setTimeout(() => {\n+          res.end('OK');\n+        }, 15000);\n+      }, {\n+        useHTTP2: true\n+      });\n+\n+      server.on('stream', (stream) => {\n+        stream.once('aborted', () => {\n+          isAborted = true;\n+          aborted();\n+        });\n+      });\n+\n+      await assert.rejects(async () => {\n+        await http2Axios.get(LOCAL_SERVER_URL, {\n+          signal: AbortSignal.timeout(500)\n+        });\n+      }, /CanceledError: canceled/);\n+\n+      await promise;\n+\n+      assert.ok(isAborted);\n+    });\n+\n+    it('should support stream response cancellation', async () => {\n+      let isAborted= false;\n+      var source = axios.CancelToken.source();\n+\n+      let aborted;\n+      const promise = new Promise(resolve => aborted = resolve);\n+\n+      server = await startHTTPServer((req, res) => {\n+        generateReadable(10000, 100, 100).pipe(res);\n+      }, {\n+        useHTTP2: true\n+      });\n+\n+      server.on('stream', (stream) => {\n+        stream.once('aborted', () => {\n+          isAborted = true;\n+          aborted();\n+        });\n+      });\n+\n+      const {data} = await http2Axios.get(LOCAL_SERVER_URL, {\n+        cancelToken: source.token,\n+        responseType: 'stream'\n+      });\n+\n+      setTimeout(() => source.cancel());\n+\n+      await assert.rejects(\n+        () => pipelineAsync([data, devNull()]),\n+        /CanceledError: canceled/\n+      )\n+\n+      await promise;\n+\n+      assert.ok(isAborted);\n+    });\n+\n+    describe(\"session\", () => {\n+      it(\"should reuse session for the target authority\", async() => {\n+        server = await startHTTPServer((req, res) => {\n+          setTimeout(() => res.end('OK'), 1000);\n+        }, {\n+          useHTTP2: true\n+        });\n+\n+        const [response1, response2] = await Promise.all([\n+          http2Axios.get(LOCAL_SERVER_URL, {\n+            responseType: 'stream'\n+          }),\n+          http2Axios.get(LOCAL_SERVER_URL, {\n+            responseType: 'stream'\n+          })\n+        ]);\n+\n+        assert.strictEqual(response1.data.session, response2.data.session);\n+\n+        assert.deepStrictEqual(\n+          await Promise.all([\n+            getStream(response1.data),\n+            getStream(response2.data)\n+          ]),\n+          ['OK', 'OK']\n+        );\n+      });\n+\n+      it(\"should use different sessions for different authorities\", async() => {\n+        server = await startHTTPServer((req, res) => {\n+          setTimeout(() => res.end('OK'), 1000);\n+        }, {\n+          useHTTP2: true\n+        });\n+\n+        server2 = await startHTTPServer((req, res) => {\n+          setTimeout(() => res.end('OK'), 1000);\n+        }, {\n+          useHTTP2: true,\n+          port: SERVER_PORT2\n+        });\n+\n+        const [response1, response2] = await Promise.all([\n+          http2Axios.get(LOCAL_SERVER_URL, {\n+            responseType: 'stream'\n+          }),\n+          http2Axios.get(LOCAL_SERVER_URL2, {\n+            responseType: 'stream'\n+          })\n+        ]);\n+\n+        assert.notStrictEqual(response1.data.session, response2.data.session);\n+\n+        assert.deepStrictEqual(\n+          await Promise.all([\n+            getStream(response1.data),\n+            getStream(response2.data)\n+          ]),\n+          ['OK', 'OK']\n+        );\n+      });\n+\n+      it(\"should use different sessions for requests with different http2Options set\", async() => {\n+        server = await startHTTPServer((req, res) => {\n+          setTimeout(() => res.end('OK'), 1000);\n+        }, {\n+          useHTTP2: true\n+        });\n+\n+        const [response1, response2] = await Promise.all([\n+          http2Axios.get(LOCAL_SERVER_URL, {\n+            responseType: 'stream',\n+            http2Options: {\n+\n+            }\n+          }),\n+          http2Axios.get(LOCAL_SERVER_URL, {\n+            responseType: 'stream',\n+            http2Options: {\n+              foo: 'test'\n+            }\n+          })\n+        ]);\n+\n+        assert.notStrictEqual(response1.data.session, response2.data.session);\n+\n+        assert.deepStrictEqual(\n+          await Promise.all([\n+            getStream(response1.data),\n+            getStream(response2.data)\n+          ]),\n+          ['OK', 'OK']\n+        );\n+      });\n+\n+      it(\"should use the same session for request with the same resolved http2Options set\", async() => {\n+        server = await startHTTPServer((req, res) => {\n+          setTimeout(() => res.end('OK'), 1000);\n+        }, {\n+          useHTTP2: true\n+        });\n+\n+        const responses = await Promise.all([\n+          http2Axios.get(LOCAL_SERVER_URL, {\n+            responseType: 'stream'\n+          }),\n+          http2Axios.get(LOCAL_SERVER_URL, {\n+            responseType: 'stream',\n+            http2Options: undefined\n+          }),\n+          http2Axios.get(LOCAL_SERVER_URL, {\n+            responseType: 'stream',\n+            http2Options: {\n+\n+            }\n+          })\n+        ]);\n+\n+\n+\n+        assert.strictEqual(responses[1].data.session, responses[0].data.session);\n+        assert.strictEqual(responses[2].data.session, responses[0].data.session);\n+\n+\n+        assert.deepStrictEqual(\n+          await Promise.all(responses.map(({data}) => getStream(data))),\n+          ['OK', 'OK', 'OK']\n+        );\n+      });\n+\n+      it(\"should use different sessions after previous session timeout\", async() => {\n+        server = await startHTTPServer((req, res) => {\n+          setTimeout(() => res.end('OK'), 100);\n+        }, {\n+          useHTTP2: true\n+        });\n+\n+        const response1 = await http2Axios.get(LOCAL_SERVER_URL, {\n+          responseType: 'stream',\n+          http2Options: {\n+            sessionTimeout: 1000\n+          }\n+        });\n+\n+        await setTimeoutAsync(5000);\n+\n+        const response2 = await http2Axios.get(LOCAL_SERVER_URL, {\n+          responseType: 'stream',\n+          http2Options: {\n+            sessionTimeout: 1000\n+          }\n+        });\n+\n+        assert.notStrictEqual(response1.data.session, response2.data.session);\n+\n+        assert.deepStrictEqual(\n+          await Promise.all([\n+            getStream(response1.data),\n+            getStream(response2.data)\n+          ]),\n+          ['OK', 'OK']\n+        );\n+      });\n+    });\n+  });\n });\n+\n+\n", "problem_statement": "HTTP/2 support\nIs there any plan to add HTTP/2 support for node.js? Since it is now officially supported in node.js 9, I think it's highly desirable to have this library support it as well.\n", "hints_text": "I would like to see this functionality. \n+1\n+1\n+1\n+1\n+1\nPlease use the emoji to vote, adding +1 comment won't help\n:+1: \n\ud83d\udc4d\n+1\n+1\nSince Node 10 is LTS and it has Stable HTTP/2 support I would like to have this functionality in axios\nLooking at the actual code in axios, seems like a headache. Wouldn't it be easier to just pass in another transport that would be a wrapper for the http API over the htt2 API? You could write such a code more easily I think!\r\n\r\nRelevant code is here: https://github.com/axios/axios/blob/master/lib/adapters/http.js#L180\nShould also be possible to write a simple adapter for this (look adapter in the documentation).\nSo what's up with this? Are we fucked if we wanna use HTTP/2 with Axios? It's been a year, has anyone found a solution to this?\nAny Update?\nHello guys,\r\n i faced an issue while using post for a file object.\r\n\"code snippet\"\r\nAxios\r\n           .post(url,fileobject)\r\n           .then()\r\n           .catch(error=>{\r\nconsole.log(error)\r\n})\r\n\"\r\n\nAny update on this three year old feature?\n+1\nHi,\r\n\r\nThanks yes we would like to get to it in V1. I know that seems far off but for now we are trying to get back stability and then release new features.\r\n\r\nThanks\nAny update about this old request?\nAny update\uff1f\nYou can subscribe to notifications on the issue for updates @snowdream.\nAny new on this subject ?\r\nI have an application in C++ that will listen only HTTP/2 and i am not able to communicate with it from nodejs. \n> \r\n> \r\n> Any new on this subject ?\r\n> I have an application in C++ that will listen only HTTP/2 and i am not able to communicate with it from nodejs.\r\n\r\n@phoenix741 obviously you can using other libs or even the base node API. Though axios is very good, it\u2019s not the alpha and the omega of HTTP clients in node!\n> > Any new on this subject ?\r\n> > I have an application in C++ that will listen only HTTP/2 and i am not able to communicate with it from nodejs.\r\n> \r\n> @phoenix741 obviously you can using other libs or even the base node API. Though axios is very good, it\u2019s not the alpha and the omega of HTTP clients in node!\r\n\r\n@phoenix741 this chart might be helpful https://github.com/sindresorhus/got#comparison\nStill planned, probably in an ESM re-write that will happen later this year. It is however on my list and radar.\nAny news?\nYeah, it is a work in progress. I will update when there is a pre-release\nThanks @ lot @jasonsaayman. If you need some help, let us know! \nHey, any updates on this? @jasonsaayman we are planning to use HTTP2 using Axios for our product\nHi Jay, \r\n\r\nAny update on the same ? \r\n@jasonsaayman \n@jasonsaayman any update?\nFor an almost identical axios interface you can use [haxios](https://www.npmjs.com/package/haxios) which is based on [gaxios](https://github.com/googleapis/gaxios). Gaxios is based on the fetch api, and supports http2 out of the box :-)! \nSee: #4029\nDear contributors \nThanks for your great library \n\nI am exiting to hear about roadmap of http2 support, is there any estimation about this feature?\nStill waiting, cheer up contributors!\nI custom the transport by `http2-wrapper` module for support HTTP/2.\r\n\r\n```js\r\nconst http2 = require(\"http2-wrapper\");\r\nconst axios = require(\"axios\");\r\n\r\nconst http2Transport = {\r\n  request: function request(options, handleResponse) {\r\n    const req = http2.request(options, handleResponse);\r\n    const origOn = req.on.bind(req);\r\n    req.on = (name, ...args) => {\r\n      if (name != 'socket') {\r\n        return origOn(name, ...args);\r\n      }\r\n    }\r\n    return req;\r\n  },\r\n};\r\n\r\naxios\r\n  .get(\"https://httpbin.org/\", {\r\n    transport: http2Transport,\r\n  })\r\n  .then((res) => {\r\n    console.log(res.data);\r\n  });\r\n\r\n```\r\n\nAny news?\nnode app client send a http request, the nginx server get the http1,\r\nbrowser client send a http request, the nginx server get the http2,\r\nnow, the nginx only support http2, avoid the http1.\r\nHow to resolve ?\nSome notes on the http2-wrapper solution by @zzdhidden\r\n\r\nthe `on('socket')` event will be called immediately if the socket is already present before we even had a chance to remove it. The only way to fix that issue is to not let it be registered in the first place.\r\n\r\ncan be done using something like this:\r\n```js\r\nconst http2Transport = {\r\n  request: function request(options, handleResponse) {\r\n    const req = http2.request(options, handleResponse);\r\n\r\n    const origOn = req.on.bind(req);\r\n    req.on = (name, ...args) => {\r\n      if (name != 'socket') {\r\n        return origOn(name, ...args);\r\n      }\r\n    }\r\n    return req;\r\n  },\r\n};\r\n```\r\n\r\nIn the adapter version it's using `axios.defaults.adapter` which is no longer a function but now is an array of strings so that won't work. and i don't think there is an easy way to get the adapter out of axios really likes to hide their internals for some reason.\r\n\r\nBut yeah, official support for h2 would be awesome in axios.\nAny update about this?\nAny update here?\nDo you plan to update to http2?\nAny news?\nUse fetch instead, I would strongly recommend not using axios in any new projects.\r\nSee https://caniuse.com/fetch and for some examples https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch\n> Use fetch instead, I would strongly recommend not using axios in any new projects. See https://caniuse.com/fetch and for some examples https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch\r\n\r\nThere is a problem of refactoring old projects. Why not just support http2?\n> > Use fetch instead, I would strongly recommend not using axios in any new projects. See https://caniuse.com/fetch and for some examples https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch\r\n> \r\n> There is a problem of refactoring old projects. Why not just support http2?\r\n\r\nUse a wrapper like https://www.npmjs.com/package/haxios which has the same interface as axios but uses fetch api behind the scene (disclaimer: haxios has been initially created by myself)\n> > > Use fetch instead, I would strongly recommend not using axios in any new projects. See https://caniuse.com/fetch and for some examples https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch\r\n> > \r\n> > \r\n> > There is a problem of refactoring old projects. Why not just support http2?\r\n> \r\n> Use a wrapper like https://www.npmjs.com/package/haxios which has the same interface as axios but uses fetch api behind the scene (disclaimer: haxios has been initially created by myself)\r\n\r\nOkay, but support from axios is not planned? What is the reason for this?\n> work in progress\r\n\r\nit's still in work in progress?\n@jasonsaayman can u answer, please?\nAnybody else live here?\nas someone said before: \r\n> Please use the emoji to vote, adding +1 comment won't help\r\n\r\nYes, i get this comment is also part of the problem, but most people seem to not read all the comments above before commenting.\r\n\r\nThe answer to the \"is there any progress\" is most likely no. the only \"progress\" I can find is #2521. And afaik http2 support has never been a priority for this project and probably never will be. So if you guys really want it you will have to make a PR yourself. Asking for progress won't make it faster.\ni agree with @mariuszste, thing is many people try make large changes but end up stopping. might be due to lack of interest or maybe not realising the small HTTP library is actually quite complex at times. it may also be that internals are poorly documented and not even typed. however this is on the road map of ideas, dreams and aspirations. i may throw my hat in the ring on this some day too since i am ready to be more active again on the project. but if anyone wants to work on it please put in a pr and tag me, it would also be helpful to incrementally work on this as all in one go is normally just too much to review and very risky\n> i agree with @mariuszste, thing is many people try make large changes but end up stopping. might be due to lack of interest or maybe not realising the small HTTP library is actually quite complex at times. it may also be that internals are poorly documented and not even typed. however this is on the road map of ideas, dreams and aspirations. i may throw my hat in the ring on this some day too since i am ready to be more active again on the project. but if anyone wants to work on it please put in a pr and tag me, it would also be helpful to incrementally work on this as all in one go is normally just too much to review and very risky\r\n\r\nIt pleases and gives hope to our team. Unfortunately, the library, as you correctly noted, is too complex for us to make it ourselves\nyeah my mission over the next while will be to try make the contribution much easier\n> I custom the transport by `http2-wrapper` module for support HTTP/2.\r\n> \r\n> ```js\r\n> const http2 = require(\"http2-wrapper\");\r\n> const axios = require(\"axios\");\r\n> \r\n> const http2Transport = {\r\n>   request: function request(options, handleResponse) {\r\n>     const req = http2.request(options, handleResponse);\r\n>     setImmediate(() => {\r\n>       // Remove the axios action `socket.setKeepAlive` because the HTTP/2 sockets should not be directly manipulated\r\n>       const listeners = req.listeners(\"socket\");\r\n>       if (listeners.length) req.removeListener(\"socket\", listeners[0]);\r\n>     });\r\n>     return req;\r\n>   },\r\n> };\r\n> \r\n> axios\r\n>   .get(\"https://httpbin.org/\", {\r\n>     transport: http2Transport,\r\n>   })\r\n>   .then((res) => {\r\n>     console.log(res.data);\r\n>   });\r\n> ```\r\n> \r\n> adapter version\r\n> \r\n> ```js\r\n> function http2AdapterEnhancer(adapter) {\r\n>   return async (config) => {\r\n>     if (config.http2) {\r\n>       let req;\r\n>       config.transport = {\r\n>         request: function request(options, handleResponse) {\r\n>           req = http2.request(options, handleResponse);\r\n>           return req;\r\n>         },\r\n>       };\r\n>       const ret = adapter(config);\r\n>       // Remove the axios action `socket.setKeepAlive` because the HTTP/2 sockets should not be directly manipulated\r\n>       const listeners = req.listeners(\"socket\");\r\n>       if (listeners.length) req.removeListener(\"socket\", listeners[0]);\r\n>       return ret;\r\n>     } else {\r\n>       return adapter(config);\r\n>     }\r\n>   };\r\n> }\r\n> \r\n> const http2Adapter = http2AdapterEnhancer(axios.defaults.adapter);\r\n> \r\n> axios\r\n>   .get(\"https://httpbin.org/\", {\r\n>     http2: true,\r\n>     adapter: http2Adapter,\r\n>   })\r\n>   .then((res) => {\r\n>     console.log(res.data);\r\n>   });\r\n> ```\r\n\r\nHow do i use the transport? Is it still a working solution @arronzhang  because i can't find any documentation on that. \r\nI've tried to create axios.js file as following but there are error that `https` and `./framer` cant be found.\r\n\r\n```\r\nconst  http2 = require('http2-wrapper');\r\nconst axios = require('axios');\r\nconst http2Transport = {\r\n  request: function request(options, handleResponse) {\r\n    const req = http2.request(options, handleResponse);\r\n    setImmediate(() => {\r\n      // Remove the axios action `socket.setKeepAlive` because the HTTP/2 sockets should not be directly manipulated\r\n      const listeners = req.listeners('socket');\r\n      if (listeners.length) req.removeListener('socket', listeners[0]);\r\n    });\r\n    return req;\r\n  },\r\n};\r\nconst instance = axios.create();\r\ninstance.defaults.transport = http2Transport;\r\nexport default instance;\r\n```\r\n\r\nShould i add http2 transport separately from axios config somewhere?\nStill waiting http2\nI'm waiting for HTTP/2. But I don't want to do PR\nMaybe I can donate to someone who can add http2 support?\nLooks like the work on HTTP/2 in https://github.com/nodejs/undici/pull/2061 is nearing an experimental release, a (native) `fetch` adapter (#1219, #5146) would get HTTP/2 support \"for free\". Very interested in this avenue\n> Looks like the work on HTTP/2 in [nodejs/undici#2061](https://github.com/nodejs/undici/pull/2061) is nearing an experimental release, a (native) `fetch` adapter (#1219, #5146) would get HTTP/2 support \"for free\". Very interested in this avenue\r\n\r\nhttps://www.npmjs.com/package/haxios is something like this, it's using native fetch behind the scene, has http2 support therefore, but imitates the axios interface, so it can be used as a drop in replacement. (disclaimer, haxios was invented by myself some time ago, but we are not using axios in any way anymore)\nany news?\nany updates?\ni would like to see HTTP/2 support already\naxios doesn't support http2 yet! :mad: :mad: \ud83d\ude20 \ud83d\ude20 \ud83d\ude21  \nguys, so many alternatives, haxios was mentioned, here is even more https://github.com/sindresorhus/got#comparison \n> guys, so many alternatives, haxios was mentioned\r\n\r\n> This package has been deprecated\r\n\r\nR u serious?\ngalaxy far, far away...\nis there any news?\naxios is dead\nwhen will http2 support be available? it's no longer possible to live like this\napparently `axios` is deprecated\r\ni will migrate our entire ecosystem to `got` (there was support already in 2021)\nI've managed to build the http2 adapter available as an npm package, check it out here: https://github.com/uibakery/axios-http2-adapter\n@jasonsaayman Perhaps you could help at least decompose the problem or create a roadmap?\n@jasonsaayman \nI understand that this problem is with us forever\nclosing due to being very stale, if this is still relevant please open a new issue\nStale? There are like 500+ people waiting for this. What's the point of closing it when it's not implemented and there is clearly a LOT ([literally the most upvoted issue in the entire repo](https://github.com/axios/axios/issues?q=is%3Aissue+sort%3Areactions-%2B1-desc)) of interest? This is not stale by any stretch of the imagination, this should be on the top of the list judging by the activity and votes.\r\n\r\ncurrently open issues asking for the same thing: #6066, #5192  \r\nShould I \"open a new issue\" and make a third duplicate or what?\nno need i will re-open just trying to see what needs to be attended to, but IMHO, to get this started I would encourage someone to start a PR to kick this off\n> no need i will re-open just trying to see what needs to be attended to, but IMHO, to get this started I would encourage someone to start a PR to kick this off\r\n\r\nMaybe can u help to create roadmap? This is a very pressing problem, but many don\u2019t even understand where to start PR.\n> I've managed to build the http2 adapter available as an npm package, check it out here: https://github.com/uibakery/axios-http2-adapter\r\n\r\n@Tibing is this stable? Is it safe to use it in production?\n@Tibing would you be comfortable working together to get this into our core?\n> @Tibing would you be comfortable working together to get this into our core?\r\n\r\nI'm sorry, but I don't have free time for this right now\n> > I've managed to build the http2 adapter available as an npm package, check it out here: https://github.com/uibakery/axios-http2-adapter\r\n> \r\n> @Tibing is this stable? Is it safe to use it in production?\r\n\r\nI'm using it in production for a year already so everything should be fine\nany updates?\n+1\n+1\n+1\nWe are waiting for development. Http1 is dead for many. This is causing people using axios to abandon it. You should have prioritized and done this by now! We are still waiting!\n> We are waiting for development. Http1 is dead for many. \n\naxios dead for many too\n\n\nyea? and what are you choosing instead? `node-fetch`?\nnothing i've seen has as good an api as `axios`\nthere was `request.js` but that was deprecated in 2020, which is when i switched to `axios`\nnative fetch, [got](https://github.com/sindresorhus/got),[ ky](https://github.com/sindresorhus/ky), ..\n\nbut you can also still use axios, if you really want to use http2 on server side you could also try a wrapper like [gaxios](https://github.com/googleapis/gaxios).\n> yea? and what are you choosing instead? `node-fetch`? nothing i've seen has as good an api as `axios` there was `request.js` but that was deprecated in 2020, which is when i switched to `axios`\n\n`ky` and `got` are great and convenient alternatives.\n\nthere is also an experimental version for `nodejs` without using `got`, which is described in the `undici` repository: https://github.com/nodejs/undici/issues/2750#issuecomment-1941009554\n\nHello my dear friends\nplease see https://github.com/axios/axios/issues/6984 for a list of feature requests", "created_at": "2025-10-13T22:54:30Z"}
