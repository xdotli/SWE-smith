[
  {
    "instance_id": "iamkun__dayjs.c8a26460.2930",
    "repo": "iamkun__dayjs.c8a26460",
    "base_commit": "c8a26460",
    "patch": "diff --git a/src/locale/it.js b/src/locale/it.js\nindex 08f660bef..b4bceb00d 100644\n--- a/src/locale/it.js\n+++ b/src/locale/it.js\n@@ -23,7 +23,7 @@ const locale = {\n     s: 'qualche secondo',\n     m: 'un minuto',\n     mm: '%d minuti',\n-    h: 'un\\' ora',\n+    h: 'un\\'ora',\n     hh: '%d ore',\n     d: 'un giorno',\n     dd: '%d giorni',\n",
    "problem_statement": "",
    "FAIL_TO_PASS": [],
    "PASS_TO_PASS": []
  },
  {
    "instance_id": "iamkun__dayjs.c8a26460.2922",
    "repo": "iamkun__dayjs.c8a26460",
    "base_commit": "c8a26460",
    "patch": "diff --git a/src/locale/en-au.js b/src/locale/en-au.js\nindex 90c83c4..52c2dc3 100644\n--- a/src/locale/en-au.js\n+++ b/src/locale/en-au.js\n@@ -37,5 +37,4 @@ const locale = {\n \n dayjs.locale(locale, null, true)\n \n-export default locale\n-\n+export default locale\n\\ No newline at end of file\n",
    "problem_statement": "",
    "FAIL_TO_PASS": [],
    "PASS_TO_PASS": []
  },
  {
    "instance_id": "iamkun__dayjs.c8a26460.2948",
    "repo": "iamkun__dayjs.c8a26460",
    "base_commit": "c8a26460",
    "patch": "diff --git a/src/plugin/devHelper/index.js b/src/plugin/devHelper/index.js\nindex bdb83caf7..2f163a25f 100644\n--- a/src/plugin/devHelper/index.js\n+++ b/src/plugin/devHelper/index.js\n@@ -26,6 +26,15 @@ export default (o, c, d) => {\n       }\n       return oldLocale(preset, object, isLocal)\n     }\n+\n+    const oldDiff = proto.diff\n+    proto.diff = function (date, unit, float) {\n+      const isInvalidDate = !date || !d(date).isValid()\n+      if (isInvalidDate) {\n+        console.warn('Invalid usage: diff() requires a valid comparison date as the first argument. https://day.js.org/docs/en/display/difference')\n+      }\n+\n+      return oldDiff.call(this, date, unit, float)\n+    }\n   }\n }\n-\n",
    "problem_statement": "",
    "FAIL_TO_PASS": [],
    "PASS_TO_PASS": []
  },
  {
    "instance_id": "iamkun__dayjs.c8a26460.2934",
    "repo": "iamkun__dayjs.c8a26460",
    "base_commit": "c8a26460",
    "patch": "diff --git a/src/locale/be.js b/src/locale/be.js\nindex 3b4e2d7..f7ca0fc 100644\n--- a/src/locale/be.js\n+++ b/src/locale/be.js\n@@ -22,5 +22,4 @@ const locale = {\n \n dayjs.locale(locale, null, true)\n \n-export default locale\n-\n+export default locale\n\\ No newline at end of file\n",
    "problem_statement": "",
    "FAIL_TO_PASS": [],
    "PASS_TO_PASS": []
  },
  {
    "instance_id": "iamkun__dayjs.c8a26460.2950",
    "repo": "iamkun__dayjs.c8a26460",
    "base_commit": "c8a26460",
    "patch": "diff --git a/README.md b/README.md\nindex 8516adcfe..b713eaa33 100644\n--- a/README.md\n+++ b/README.md\n@@ -1,3 +1,27 @@\n+<div align=\"center\">\n+\t<a href=\"https://go.warp.dev/dayjs\" target=\"_blank\">\n+\t\t<img alt=\"Warp sponsorship\" width=\"400\" src=\"https://github.com/warpdotdev/brand-assets/blob/main/Github/Sponsor/Warp-Github-LG-02.png\">\n+\t\t<br>\n+\t\t<h>Warp is built for coding with multiple AI agents</b>\n+\t</a>\n+</div>\n+\n+---   \n+\n+<div align=\"center\" style=\"margin-top: 30px;\">\n+<a href=\"https://requestly.com/?utm_source=github&utm_medium=partnered&utm_campaign=rq_dayjs_github\">\n+   <div>\n+   <img alt=\"Requestly sponsorship\" width=\"400\" src=\"https://github.com/user-attachments/assets/24670320-997d-4d62-9bca-955c59fe883d\">\n+   </div>\n+   <b>Requestly - Free & Open-Source alternative to Postman</b>\n+   <div>\n+      <sup>All-in-one platform to Test, Mock and Intercept APIs.</sup>\n+   </div>\n+</a>\n+</div>\n+\n+---   \n+\n English | [\u7b80\u4f53\u4e2d\u6587](./docs/zh-cn/README.zh-CN.md) | [\u65e5\u672c\u8a9e](./docs/ja/README-ja.md) | [Portugu\u00eas Brasileiro](./docs/pt-br/README-pt-br.md) | [\ud55c\uad6d\uc5b4](./docs/ko/README-ko.md) | [Espa\u00f1ol (Espa\u00f1a)](./docs/es-es/README-es-es.md) | [\u0420\u0443\u0441\u0441\u043a\u0438\u0439](./docs/ru/README-ru.md) | [T\u00fcrk\u00e7e](./docs/tr/README-tr.md) | [\u0dc3\u0dd2\u0d82\u0dc4\u0dbd](./docs/si/README-si.md) | [\u05e2\u05d1\u05e8\u05d9\u05ea](./docs/he/README-he.md)\n \n <p align=\"center\"><a href=\"https://day.js.org/\" target=\"_blank\" rel=\"noopener noreferrer\"><img width=\"550\"\n@@ -99,12 +123,6 @@ dayjs().format('Q Do k kk X x') // more available formats\n \n \ud83d\udcda[Plugin List](https://day.js.org/docs/en/plugin/plugin)\n \n-### Usage Trend\n-\n-<a href=\"https://npm-compare.com/moment,dayjs/#timeRange=THREE_YEARS\" target=\"_blank\">\n-  <img src=\"https://user-images.githubusercontent.com/3455798/270162667-c7bd2ebe-675e-45c6-a2c9-dc67f3b65d6e.png\">\n-</a>\n-\n ## Sponsors\n \n Support this project by becoming a sponsor. Your logo will show up here with a link to your website.\n@@ -123,12 +141,8 @@ Support this project by becoming a sponsor. Your logo will show up here with a l\n   <img width=\"70\" src=\"https://images.opencollective.com/sight-sound/54f7220/logo/256.png?height=256\">\n </a>\n &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n-<a href=\"https://www.exoflare.com/open-source/?utm_source=dayjs&utm_campaign=open_source\" target=\"_blank\">\n-  <img width=\"70\" src=\"https://user-images.githubusercontent.com/17680888/162761622-1407a849-0c41-4591-8aa9-f98114ec2092.png\">\n-</a>\n-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n-<a href=\"https://chudovo.com/front-end-development/\" target=\"_blank\">\n-  <img width=\"70\" src=\"https://images.opencollective.com/chudovo/3c866f5/logo/256.png?height=256\">\n+<a href=\"https://opencollective.com/filerev\" target=\"_blank\">\n+  <img width=\"70\" src=\"https://images.opencollective.com/filerev/93a8f05/logo/256.png?height=256\" />\n </a>\n &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n <a href=\"https://github.com/radioplusexperts\" target=\"_blank\">\n@@ -139,6 +153,14 @@ Support this project by becoming a sponsor. Your logo will show up here with a l\n   <img width=\"70\" src=\"https://avatars.githubusercontent.com/u/13880908?s=200&v=4\">\n </a>\n &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n+<a href=\"https://github.com/Ayo1984\" target=\"_blank\">\n+  <img width=\"70\" src=\"https://avatars.githubusercontent.com/u/117122666?v=4\">\n+</a>\n+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n+<a href=\"https://anonstories.com\" target=\"_blank\">\n+  <img alt=\"Instagram Story Viewer\" width=\"70\" src=\"https://avatars.githubusercontent.com/u/240702364?v=4\">\n+</a>\n+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n <a href=\"https://bestkru.com/\" target=\"_blank\">\n   <img width=\"70\" src=\"https://avatars.githubusercontent.com/u/159320286\" alt=\"BestKru\">\n </a>\ndiff --git a/docs/es-es/README-es-es.md b/docs/es-es/README-es-es.md\nindex d9b54c794..e3519168f 100644\n--- a/docs/es-es/README-es-es.md\n+++ b/docs/es-es/README-es-es.md\n@@ -108,12 +108,6 @@ dayjs().format('Q Do k kk X x') // ahora tenemos m\u00e1s formatos disponibles\n \n \ud83d\udcda[Lista de complementos](https://day.js.org/docs/en/plugin/plugin)\n \n-### Tendencia de Uso\n-\n-<a href=\"https://npm-compare.com/moment,dayjs/#timeRange=THREE_YEARS\" target=\"_blank\">\n-  <img src=\"https://user-images.githubusercontent.com/3455798/270162667-c7bd2ebe-675e-45c6-a2c9-dc67f3b65d6e.png\">\n-</a>\n-\n ## Patrocinadores\n \n Apoya a este proyecto convirti\u00e9ndote en un patrocinador. Tu logo aparecer\u00e1 aqu\u00ed, enlazado a tu sitio web. [[Convi\u00e9rtete en un patrocinador](https://opencollective.com/dayjs#sponsor)]\ndiff --git a/docs/he/README-he.md b/docs/he/README-he.md\nindex f410269ef..00cc6a2cb 100644\n--- a/docs/he/README-he.md\n+++ b/docs/he/README-he.md\n@@ -120,12 +120,6 @@ dayjs().format('Q Do k kk X x') // \u05db\u05e2\u05ea \u05d9\u05d5\u05ea\u05e8 \u05d0\u05e4\u05e9\u05e8\u05d5\u05d9\u05d5\u05ea \u05d6\u05de\u05d9\u05e0\u05d5\u05ea\n \n \ud83d\udcda[\u05e8\u05e9\u05d9\u05de\u05ea \u05ea\u05d5\u05e1\u05e4\u05d9\u05dd](https://day.js.org/docs/en/plugin/plugin)\n \n-### \u05de\u05d2\u05de\u05ea \u05d4\u05e9\u05d9\u05de\u05d5\u05e9\n-\n-<a href=\"https://npm-compare.com/moment,dayjs/#timeRange=THREE_YEARS\" target=\"_blank\">\n-  <img src=\"https://user-images.githubusercontent.com/3455798/270162667-c7bd2ebe-675e-45c6-a2c9-dc67f3b65d6e.png\">\n-</a>\n-\n ### \u05e1\u05e4\u05d5\u05e0\u05e1\u05e8\u05d9\u05dd\n \u05ea\u05de\u05db\u05d5 \u05d1\u05e4\u05e8\u05d5\u05d9\u05e7\u05d8 \u05d6\u05d4 \u05db\u05d3\u05d9 \u05dc\u05d4\u05d9\u05d5\u05ea \u05e1\u05e4\u05d5\u05e0\u05e1\u05e8. \u05e7\u05d1\u05dc\u05d5 \u05dc\u05d5\u05d2\u05d5 \u05e2\u05dd \u05e7\u05d9\u05e9\u05d5\u05e8 \u05dc\u05d0\u05ea\u05e8 \u05e9\u05dc\u05db\u05dd \u05e9\u05d9\u05d5\u05e4\u05d9\u05e2 \u05db\u05d0\u05df.\n \ndiff --git a/docs/ja/README-ja.md b/docs/ja/README-ja.md\nindex 783e86801..17f7fbe1d 100644\n--- a/docs/ja/README-ja.md\n+++ b/docs/ja/README-ja.md\n@@ -108,12 +108,6 @@ dayjs().format('Q Do k kk X x') // \u591a\u69d8\u306a\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u304c\u5229\u7528\u53ef\u80fd\u306b\n \n \ud83d\udcda[\u30d7\u30e9\u30b0\u30a4\u30f3\u30ea\u30b9\u30c8](https://day.js.org/docs/en/plugin/plugin)\n \n-### \u4f7f\u7528\u30c8\u30ec\u30f3\u30c9\n-\n-<a href=\"https://npm-compare.com/moment,dayjs/#timeRange=THREE_YEARS\" target=\"_blank\">\n-  <img src=\"https://user-images.githubusercontent.com/3455798/270162667-c7bd2ebe-675e-45c6-a2c9-dc67f3b65d6e.png\">\n-</a>\n-\n ## \u30e9\u30a4\u30bb\u30f3\u30b9\n \n Day.js \u306f [MIT License](../../LICENSE) \u306e\u3082\u3068\u3067\u5229\u7528\u3092\u8a31\u8afe\u3057\u307e\u3059\u3002\ndiff --git a/docs/ko/README-ko.md b/docs/ko/README-ko.md\nindex 3b1b985b5..9a66dfcb5 100644\n--- a/docs/ko/README-ko.md\n+++ b/docs/ko/README-ko.md\n@@ -108,12 +108,6 @@ dayjs().format('Q Do k kk X x') // more available formats\n \n \ud83d\udcda[\ud50c\ub7ec\uadf8\uc778 \ubaa9\ub85d](https://day.js.org/docs/en/plugin/plugin)\n \n-### \uc0ac\uc6a9 \ud2b8\ub80c\ub4dc\n-\n-<a href=\"https://npm-compare.com/moment,dayjs/#timeRange=THREE_YEARS\" target=\"_blank\">\n-  <img src=\"https://user-images.githubusercontent.com/3455798/270162667-c7bd2ebe-675e-45c6-a2c9-dc67f3b65d6e.png\">\n-</a>\n-\n ## License\n \n Day.js\ub294 [MIT License](./LICENSE)\ub97c \uc0ac\uc6a9\ud569\ub2c8\ub2e4.\ndiff --git a/docs/pt-br/README-pt-br.md b/docs/pt-br/README-pt-br.md\nindex 31d0bdbc4..0721771d2 100644\n--- a/docs/pt-br/README-pt-br.md\n+++ b/docs/pt-br/README-pt-br.md\n@@ -107,12 +107,6 @@ dayjs().format('Q Do k kk X x') // mais formatos dispon\u00edveis pelo plugin\n \n \ud83d\udcda[Lista de Plugins](https://day.js.org/docs/en/plugin/plugin)\n \n-### Tend\u00eancia de Uso\n-\n-<a href=\"https://npm-compare.com/moment,dayjs/#timeRange=THREE_YEARS\" target=\"_blank\">\n-  <img src=\"https://user-images.githubusercontent.com/3455798/270162667-c7bd2ebe-675e-45c6-a2c9-dc67f3b65d6e.png\">\n-</a>\n-\n ## Patrocinadores\n \n Ajude este projeto se tornando um patrocinador. O seu logo ser\u00e1 exibido aqui, com um link para o seu site. [[Tornar-se um Patrocinador](https://opencollective.com/dayjs#sponsor)].\ndiff --git a/docs/ru/README-ru.md b/docs/ru/README-ru.md\nindex 065af14ba..2d1079c77 100644\n--- a/docs/ru/README-ru.md\n+++ b/docs/ru/README-ru.md\n@@ -98,12 +98,6 @@ dayjs().format('Q Do k kk X x') // \u0431\u043e\u043b\u044c\u0448\u0435 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445 \u0444\u043e\u0440\u043c\u0430\u0442\n \n \ud83d\udcda[\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u043b\u0430\u0433\u0438\u043d\u043e\u0432](https://day.js.org/docs/ru/plugin/plugin)\n \n-### \u0422\u0435\u043d\u0434\u0435\u043d\u0446\u0438\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f\n-\n-<a href=\"https://npm-compare.com/moment,dayjs/#timeRange=THREE_YEARS\" target=\"_blank\">\n-  <img src=\"https://user-images.githubusercontent.com/3455798/270162667-c7bd2ebe-675e-45c6-a2c9-dc67f3b65d6e.png\">\n-</a>\n-\n ## \u0421\u043f\u043e\u043d\u0441\u043e\u0440\u044b\n \n \u041f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0442\u0435 \u044d\u0442\u043e\u0442 \u043f\u0440\u043e\u0435\u043a\u0442, \u0441\u0442\u0430\u0432 \u0441\u043f\u043e\u043d\u0441\u043e\u0440\u043e\u043c. \u0412\u0430\u0448 \u043b\u043e\u0433\u043e\u0442\u0438\u043f \u0431\u0443\u0434\u0435\u0442 \u043f\u043e\u043a\u0430\u0437\u0430\u043d \u0437\u0434\u0435\u0441\u044c \u0441 \u0441\u0441\u044b\u043b\u043a\u043e\u0439 \u043d\u0430 \u0432\u0430\u0448 \u0432\u0435\u0431-\u0441\u0430\u0439\u0442. [[\u0421\u0442\u0430\u0442\u044c \u0441\u043f\u043e\u043d\u0441\u043e\u0440\u043e\u043c](https://opencollective.com/dayjs#sponsor)]\ndiff --git a/docs/si/README-si.md b/docs/si/README-si.md\nindex e5f7fb92b..b170a516b 100644\n--- a/docs/si/README-si.md\n+++ b/docs/si/README-si.md\n@@ -98,12 +98,6 @@ dayjs().format('Q Do k kk X x') // more available formats\n \n \ud83d\udcda[ \u0daf\u0dd2\u0d9c\u0dd4 \u0dbd\u0dda\u0d9b\u0db1\u0dba](https://day.js.org/docs/en/plugin/plugin)\n \n-### \u0db7\u0dcf\u0dc0\u0dd2\u0dad \u0db4\u0dca\u200d\u0dbb\u0db8\u0dcf\u0dab\u0dba\u0dda \u0db4\u0dca\u200d\u0dbb\u0dc3\u0dd6\u0dad\u0dd2\u0dba\n-\n-<a href=\"https://npm-compare.com/moment,dayjs/#timeRange=THREE_YEARS\" target=\"_blank\">\n-  <img src=\"https://user-images.githubusercontent.com/3455798/270162667-c7bd2ebe-675e-45c6-a2c9-dc67f3b65d6e.png\">\n-</a>\n-\n ## \u0d85\u0db1\u0dd4\u0d9c\u0dca\u200d\u0dbb\u0dcf\u0dc4\u0d9a\u0dba\u0dd2\u0db1\u0dca\n \n \u0d85\u0db1\u0dd4\u0d9c\u0dca\u200d\u0dbb\u0dc4\u0dba \u0daf\u0dd0\u0d9a\u0dca\u0dc0\u0dd3\u0db8\u0dd9\u0db1\u0dca \u0db8\u0dd9\u0db8 \u0dc0\u0dca\u200d\u0dba\u0dcf\u0db4\u0dd8\u0dad\u0dd2\u0dba\u0da7 \u0dc3\u0dc4\u0dcf\u0dba \u0dc0\u0db1\u0dca\u0db1. \u0d94\u0db6\u0d9c\u0dda \u0d85\u0da9\u0dc0\u0dd2\u0dba\u0dda \u0dc3\u0db6\u0dd0\u0db3\u0dd2\u0dba\u0d9a\u0dca \u0dc3\u0db8\u0d9f \u0d94\u0db6\u0d9c\u0dda \u0dbd\u0dcf\u0d82\u0da1\u0db1\u0dba \u0db8\u0dd9\u0dc4\u0dd2 \u0db4\u0dd9\u0db1\u0dca\u0dc0\u0db1\u0dd4 \u0d87\u0dad.\ndiff --git a/docs/tr/README-tr.md b/docs/tr/README-tr.md\nindex 2b1a63549..e408dd77c 100644\n--- a/docs/tr/README-tr.md\n+++ b/docs/tr/README-tr.md\n@@ -108,12 +108,6 @@ dayjs().format('Q Do k kk X x') // di\u011fer mevcut formatlar\n \n \ud83d\udcda[Eklenti Listesi](https://day.js.org/docs/en/plugin/plugin)\n \n-### Kullan\u0131m Trendi\n-\n-<a href=\"https://npm-compare.com/moment,dayjs/#timeRange=THREE_YEARS\" target=\"_blank\">\n-  <img src=\"https://user-images.githubusercontent.com/3455798/270162667-c7bd2ebe-675e-45c6-a2c9-dc67f3b65d6e.png\">\n-</a>\n-\n ## Sponsorlar\n \n Sponsor olarak bu projeye destek olun. Logonuz, web sayfan\u0131z\u0131n linki ile birlikte burada g\u00f6r\u00fcn\u00fcr. [[Sponsor Ol](https://opencollective.com/dayjs#sponsor)]\ndiff --git a/docs/zh-cn/README.zh-CN.md b/docs/zh-cn/README.zh-CN.md\nindex d7bb1ecbc..5abdea0a3 100644\n--- a/docs/zh-cn/README.zh-CN.md\n+++ b/docs/zh-cn/README.zh-CN.md\n@@ -108,12 +108,6 @@ dayjs().format('Q Do k kk X x') // \u4f7f\u7528\u6269\u5c55\u540e\u7684API\n \n \ud83d\udcda[\u63d2\u4ef6\u5217\u8868](https://day.js.org/docs/zh-CN/plugin/plugin)\n \n-### \u4f7f\u7528\u91cf\u8d8b\u52bf\n-\n-<a href=\"https://npm-compare.com/moment,dayjs/#timeRange=THREE_YEARS\" target=\"_blank\">\n-  <img src=\"https://user-images.githubusercontent.com/3455798/270162667-c7bd2ebe-675e-45c6-a2c9-dc67f3b65d6e.png\">\n-</a>\n-\n ## \u5f00\u6e90\u534f\u8bae\n \n Day.js \u9075\u5faa [MIT \u5f00\u6e90\u534f\u8bae](../../LICENSE).\ndiff --git a/package.json b/package.json\nindex 2c74cddc7..e2baf268a 100644\n--- a/package.json\n+++ b/package.json\n@@ -5,7 +5,7 @@\n   \"main\": \"dayjs.min.js\",\n   \"types\": \"index.d.ts\",\n   \"scripts\": {\n-    \"test\": \"TZ=Pacific/Auckland npm run test-tz && TZ=Europe/London npm run test-tz && TZ=America/Whitehorse npm run test-tz && npm run test-tz && jest\",\n+    \"test\": \"TZ=Pacific/Auckland npm run test-tz && TZ=Europe/London npm run test-tz && TZ=America/Whitehorse npm run test-tz && npm run test-tz && jest --coverage --coverageThreshold='{ \\\"global\\\": { \\\"lines\\\": 100} }'\",\n     \"test-tz\": \"date && jest test/timezone.test --coverage=false\",\n     \"lint\": \"./node_modules/.bin/eslint src/* test/* build/*\",\n     \"prettier\": \"prettier --write \\\"docs/**/*.md\\\"\",\ndiff --git a/src/locale/ar.js b/src/locale/ar.js\nindex f418379c8..5d28a1d31 100644\n--- a/src/locale/ar.js\n+++ b/src/locale/ar.js\n@@ -29,6 +29,12 @@ const numberMap = {\n   '\u0660': '0'\n }\n \n+const fromArabNumeralsRegex = /[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g\n+const fromArabComaRegex = /\u060c/g\n+\n+const toArabNumeralsRegex = /\\d/g\n+const toArabComaRegex = /,/g\n+\n const locale = {\n   name: 'ar',\n   weekdays: '\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a'.split('_'),\n@@ -56,15 +62,15 @@ const locale = {\n   preparse(string) {\n     return string\n       .replace(\n-        /[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,\n+        fromArabNumeralsRegex,\n         match => numberMap[match]\n       )\n-      .replace(/\u060c/g, ',')\n+      .replace(fromArabComaRegex, ',')\n   },\n   postformat(string) {\n     return string\n-      .replace(/\\d/g, match => symbolMap[match])\n-      .replace(/,/g, '\u060c')\n+      .replace(toArabNumeralsRegex, match => symbolMap[match])\n+      .replace(toArabComaRegex, '\u060c')\n   },\n   ordinal: n => n,\n   formats: {\ndiff --git a/src/locale/be.js b/src/locale/be.js\nindex 3b4e2d731..c35d56574 100644\n--- a/src/locale/be.js\n+++ b/src/locale/be.js\n@@ -1,15 +1,63 @@\n // Belarusian [be]\n import dayjs from 'dayjs'\n \n+const monthFormat = '\u0441\u0442\u0443\u0434\u0437\u0435\u043d\u044f_\u043b\u044e\u0442\u0430\u0433\u0430_\u0441\u0430\u043a\u0430\u0432\u0456\u043a\u0430_\u043a\u0440\u0430\u0441\u0430\u0432\u0456\u043a\u0430_\u0442\u0440\u0430\u045e\u043d\u044f_\u0447\u044d\u0440\u0432\u0435\u043d\u044f_\u043b\u0456\u043f\u0435\u043d\u044f_\u0436\u043d\u0456\u045e\u043d\u044f_\u0432\u0435\u0440\u0430\u0441\u043d\u044f_\u043a\u0430\u0441\u0442\u0440\u044b\u0447\u043d\u0456\u043a\u0430_\u043b\u0456\u0441\u0442\u0430\u043f\u0430\u0434\u0430_\u0441\u043d\u0435\u0436\u043d\u044f'.split('_')\n+const monthStandalone = '\u0441\u0442\u0443\u0434\u0437\u0435\u043d\u044c_\u043b\u044e\u0442\u044b\u0439_\u0441\u0430\u043a\u0430\u0432\u0456\u043a_\u043a\u0440\u0430\u0441\u0430\u0432\u0456\u043a_\u0442\u0440\u0430\u0432\u0435\u043d\u044c_\u0447\u044d\u0440\u0432\u0435\u043d\u044c_\u043b\u0456\u043f\u0435\u043d\u044c_\u0436\u043d\u0456\u0432\u0435\u043d\u044c_\u0432\u0435\u0440\u0430\u0441\u0435\u043d\u044c_\u043a\u0430\u0441\u0442\u0440\u044b\u0447\u043d\u0456\u043a_\u043b\u0456\u0441\u0442\u0430\u043f\u0430\u0434_\u0441\u043d\u0435\u0436\u0430\u043d\u044c'.split('_')\n+\n+const monthShortFormat = '\u0441\u0442\u0443\u0434_\u043b\u044e\u0442_\u0441\u0430\u043a_\u043a\u0440\u0430\u0441_\u0442\u0440\u0430\u0432_\u0447\u044d\u0440\u0432_\u043b\u0456\u043f_\u0436\u043d\u0456\u0432_\u0432\u0435\u0440_\u043a\u0430\u0441\u0442_\u043b\u0456\u0441\u0442_\u0441\u043d\u0435\u0436.'.split('_')\n+const monthShortStandalone = '\u0441\u0442\u0443\u0434_\u043b\u044e\u0442_\u0441\u0430\u043a_\u043a\u0440\u0430\u0441_\u0442\u0440\u0430\u0432_\u0447\u044d\u0440\u0432_\u043b\u0456\u043f_\u0436\u043d\u0456\u0432_\u0432\u0435\u0440_\u043a\u0430\u0441\u0442_\u043b\u0456\u0441\u0442_\u0441\u043d\u0435\u0436'.split('_')\n+\n+const MONTHS_IN_FORMAT = /D[oD]?(\\[[^[\\]]*\\]|\\s)+MMMM?/\n+\n+function plural(word, num) {\n+  const forms = word.split('_')\n+  return num % 10 === 1 && num % 100 !== 11 ? forms[0] : (num % 10 >= 2 && num % 10 <= 4 && (num % 100 < 10 || num % 100 >= 20) ? forms[1] : forms[2]) // eslint-disable-line\n+}\n+function relativeTimeWithPlural(number, withoutSuffix, key) {\n+  const format = {\n+    ss: withoutSuffix ? '\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434' : '\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434',\n+    mm: withoutSuffix ? '\u0445\u0432\u0456\u043b\u0456\u043d\u0430_\u0445\u0432\u0456\u043b\u0456\u043d\u044b_\u0445\u0432\u0456\u043b\u0456\u043d' : '\u0445\u0432\u0456\u043b\u0456\u043d\u0443_\u0445\u0432\u0456\u043b\u0456\u043d\u044b_\u0445\u0432\u0456\u043b\u0456\u043d',\n+    hh: withoutSuffix ? '\u0433\u0430\u0434\u0437\u0456\u043d\u0430_\u0433\u0430\u0434\u0437\u0456\u043d\u044b_\u0433\u0430\u0434\u0437\u0456\u043d' : '\u0433\u0430\u0434\u0437\u0456\u043d\u0443_\u0433\u0430\u0434\u0437\u0456\u043d\u044b_\u0433\u0430\u0434\u0437\u0456\u043d',\n+    dd: '\u0434\u0437\u0435\u043d\u044c_\u0434\u043d\u0456_\u0434\u0437\u0451\u043d',\n+    MM: '\u043c\u0435\u0441\u044f\u0446_\u043c\u0435\u0441\u044f\u0446\u044b_\u043c\u0435\u0441\u044f\u0446\u0430\u045e',\n+    yy: '\u0433\u043e\u0434_\u0433\u0430\u0434\u044b_\u0433\u0430\u0434\u043e\u045e'\n+  }\n+  if (key === 'm') {\n+    return withoutSuffix ? '\u0445\u0432\u0456\u043b\u0456\u043d\u0430' : '\u0445\u0432\u0456\u043b\u0456\u043d\u0443'\n+  } else if (key === 'h') {\n+    return withoutSuffix ? '\u0433\u0430\u0434\u0437\u0456\u043d\u0430' : '\u0433\u0430\u0434\u0437\u0456\u043d\u0443'\n+  }\n+\n+  return `${number} ${plural(format[key], +number)}`\n+}\n+\n+const months = (dayjsInstance, format) => {\n+  if (MONTHS_IN_FORMAT.test(format)) {\n+    return monthFormat[dayjsInstance.month()]\n+  }\n+  return monthStandalone[dayjsInstance.month()]\n+}\n+months.s = monthStandalone\n+months.f = monthFormat\n+\n+const monthsShort = (dayjsInstance, format) => {\n+  if (MONTHS_IN_FORMAT.test(format)) {\n+    return monthShortFormat[dayjsInstance.month()]\n+  }\n+  return monthShortStandalone[dayjsInstance.month()]\n+}\n+monthsShort.s = monthShortStandalone\n+monthsShort.f = monthShortFormat\n+\n const locale = {\n   name: 'be',\n-  weekdays: '\u043d\u044f\u0434\u0437\u0435\u043b\u044e_\u043f\u0430\u043d\u044f\u0434\u0437\u0435\u043b\u0430\u043a_\u0430\u045e\u0442\u043e\u0440\u0430\u043a_\u0441\u0435\u0440\u0430\u0434\u0443_\u0447\u0430\u0446\u0432\u0435\u0440_\u043f\u044f\u0442\u043d\u0456\u0446\u0443_\u0441\u0443\u0431\u043e\u0442\u0443'.split('_'),\n-  months: '\u0441\u0442\u0443\u0434\u0437\u0435\u043d\u044f_\u043b\u044e\u0442\u0430\u0433\u0430_\u0441\u0430\u043a\u0430\u0432\u0456\u043a\u0430_\u043a\u0440\u0430\u0441\u0430\u0432\u0456\u043a\u0430_\u0442\u0440\u0430\u045e\u043d\u044f_\u0447\u044d\u0440\u0432\u0435\u043d\u044f_\u043b\u0456\u043f\u0435\u043d\u044f_\u0436\u043d\u0456\u045e\u043d\u044f_\u0432\u0435\u0440\u0430\u0441\u043d\u044f_\u043a\u0430\u0441\u0442\u0440\u044b\u0447\u043d\u0456\u043a\u0430_\u043b\u0456\u0441\u0442\u0430\u043f\u0430\u0434\u0430_\u0441\u043d\u0435\u0436\u043d\u044f'.split('_'),\n+  weekdays: '\u043d\u044f\u0434\u0437\u0435\u043b\u044f_\u043f\u0430\u043d\u044f\u0434\u0437\u0435\u043b\u0430\u043a_\u0430\u045e\u0442\u043e\u0440\u0430\u043a_\u0441\u0435\u0440\u0430\u0434\u0430_\u0447\u0430\u0446\u0432\u0435\u0440_\u043f\u044f\u0442\u043d\u0456\u0446\u0430_\u0441\u0443\u0431\u043e\u0442\u0430'.split('_'),\n+  weekdaysShort: '\u043d\u044f\u0434_\u043f\u043d\u0434_\u0430\u045e\u0442_\u0441\u0435\u0440_\u0447\u0446\u0432_\u043f\u044f\u0442_\u0441\u0443\u0431'.split('_'),\n+  weekdaysMin: '\u043d\u0434_\u043f\u043d_\u0430\u045e_\u0441\u0440_\u0447\u0446_\u043f\u0442_\u0441\u0431'.split('_'),\n+  months,\n+  monthsShort,\n   weekStart: 1,\n-  weekdaysShort: '\u043d\u0434_\u043f\u043d_\u0430\u0442_\u0441\u0440_\u0447\u0446_\u043f\u0442_\u0441\u0431'.split('_'),\n-  monthsShort: '\u0441\u0442\u0443\u0434_\u043b\u044e\u0442_\u0441\u0430\u043a_\u043a\u0440\u0430\u0441_\u0442\u0440\u0430\u0432_\u0447\u044d\u0440\u0432_\u043b\u0456\u043f_\u0436\u043d\u0456\u0432_\u0432\u0435\u0440_\u043a\u0430\u0441\u0442_\u043b\u0456\u0441\u0442_\u0441\u043d\u0435\u0436'.split('_'),\n-  weekdaysMin: '\u043d\u0434_\u043f\u043d_\u0430\u0442_\u0441\u0440_\u0447\u0446_\u043f\u0442_\u0441\u0431'.split('_'),\n-  ordinal: n => n,\n+  yearStart: 4,\n   formats: {\n     LT: 'HH:mm',\n     LTS: 'HH:mm:ss',\n@@ -17,10 +65,35 @@ const locale = {\n     LL: 'D MMMM YYYY \u0433.',\n     LLL: 'D MMMM YYYY \u0433., HH:mm',\n     LLLL: 'dddd, D MMMM YYYY \u0433., HH:mm'\n+  },\n+  relativeTime: {\n+    future: '\u043f\u0440\u0430\u0437 %s',\n+    past: '%s \u0442\u0430\u043c\u0443',\n+    s: '\u043d\u0435\u043a\u0430\u043b\u044c\u043a\u0456 \u0441\u0435\u043a\u0443\u043d\u0434',\n+    m: relativeTimeWithPlural,\n+    mm: relativeTimeWithPlural,\n+    h: relativeTimeWithPlural,\n+    hh: relativeTimeWithPlural,\n+    d: '\u0434\u0437\u0435\u043d\u044c',\n+    dd: relativeTimeWithPlural,\n+    M: '\u043c\u0435\u0441\u044f\u0446',\n+    MM: relativeTimeWithPlural,\n+    y: '\u0433\u043e\u0434',\n+    yy: relativeTimeWithPlural\n+  },\n+  ordinal: n => n,\n+  meridiem: (hour) => {\n+    if (hour < 4) {\n+      return '\u043d\u043e\u0447\u044b'\n+    } else if (hour < 12) {\n+      return '\u0440\u0430\u043d\u0456\u0446\u044b'\n+    } else if (hour < 17) {\n+      return '\u0434\u043d\u044f'\n+    }\n+    return '\u0432\u0435\u0447\u0430\u0440\u0430'\n   }\n }\n \n dayjs.locale(locale, null, true)\n \n export default locale\n-\ndiff --git a/src/locale/it.js b/src/locale/it.js\nindex 08f660bef..b4bceb00d 100644\n--- a/src/locale/it.js\n+++ b/src/locale/it.js\n@@ -23,7 +23,7 @@ const locale = {\n     s: 'qualche secondo',\n     m: 'un minuto',\n     mm: '%d minuti',\n-    h: 'un\\' ora',\n+    h: 'un\\'ora',\n     hh: '%d ore',\n     d: 'un giorno',\n     dd: '%d giorni',\ndiff --git a/src/plugin/devHelper/index.js b/src/plugin/devHelper/index.js\nindex bdb83caf7..2f163a25f 100644\n--- a/src/plugin/devHelper/index.js\n+++ b/src/plugin/devHelper/index.js\n@@ -26,6 +26,15 @@ export default (o, c, d) => {\n       }\n       return oldLocale(preset, object, isLocal)\n     }\n+\n+    const oldDiff = proto.diff\n+    proto.diff = function (date, unit, float) {\n+      const isInvalidDate = !date || !d(date).isValid()\n+      if (isInvalidDate) {\n+        console.warn('Invalid usage: diff() requires a valid comparison date as the first argument. https://day.js.org/docs/en/display/difference')\n+      }\n+\n+      return oldDiff.call(this, date, unit, float)\n+    }\n   }\n }\n-\n",
    "problem_statement": "",
    "FAIL_TO_PASS": [],
    "PASS_TO_PASS": []
  },
  {
    "instance_id": "iamkun__dayjs.c8a26460.2920",
    "repo": "iamkun__dayjs.c8a26460",
    "base_commit": "c8a26460",
    "patch": "diff --git a/src/locale/ga.js b/src/locale/ga.js\nindex 1e433cd..2477a37 100644\n--- a/src/locale/ga.js\n+++ b/src/locale/ga.js\n@@ -37,5 +37,4 @@ const locale = {\n \n dayjs.locale(locale, null, true)\n \n-export default locale\n-\n+export default locale\n\\ No newline at end of file\n",
    "problem_statement": "",
    "FAIL_TO_PASS": [],
    "PASS_TO_PASS": []
  },
  {
    "instance_id": "axios__axios.ef36347f.7206",
    "repo": "axios__axios.ef36347f",
    "base_commit": "ef36347f",
    "patch": "diff --git a/lib/adapters/http.js b/lib/adapters/http.js\nindex 0577bf0..a925be0 100755\n--- a/lib/adapters/http.js\n+++ b/lib/adapters/http.js\n@@ -429,267 +429,4 @@ export default isHttpAdapterSupported && function httpAdapter(config) {\n     } else {\n       options.hostname = parsed.hostname.startsWith(\"[\") ? parsed.hostname.slice(1, -1) : parsed.hostname;\n       options.port = parsed.port;\n-      setProxy(options, config.proxy, protocol + '//' + parsed.hostname + (parsed.port ? ':' + parsed.port : '') + options.path);\n-    }\n-\n-    let transport;\n-    const isHttpsRequest = isHttps.test(options.protocol);\n-    options.agent = isHttpsRequest ? config.httpsAgent : config.httpAgent;\n-    if (config.transport) {\n-      transport = config.transport;\n-    } else if (config.maxRedirects === 0) {\n-      transport = isHttpsRequest ? https : http;\n-    } else {\n-      if (config.maxRedirects) {\n-        options.maxRedirects = config.maxRedirects;\n-      }\n-      if (config.beforeRedirect) {\n-        options.beforeRedirects.config = config.beforeRedirect;\n-      }\n-      transport = isHttpsRequest ? httpsFollow : httpFollow;\n-    }\n-\n-    if (config.maxBodyLength > -1) {\n-      options.maxBodyLength = config.maxBodyLength;\n-    } else {\n-      // follow-redirects does not skip comparison, so it should always succeed for axios -1 unlimited\n-      options.maxBodyLength = Infinity;\n-    }\n-\n-    if (config.insecureHTTPParser) {\n-      options.insecureHTTPParser = config.insecureHTTPParser;\n-    }\n-\n-    // Create the request\n-    req = transport.request(options, function handleResponse(res) {\n-      if (req.destroyed) return;\n-\n-      const streams = [res];\n-\n-      const responseLength = +res.headers['content-length'];\n-\n-      if (onDownloadProgress || maxDownloadRate) {\n-        const transformStream = new AxiosTransformStream({\n-          maxRate: utils.toFiniteNumber(maxDownloadRate)\n-        });\n-\n-        onDownloadProgress && transformStream.on('progress', flushOnFinish(\n-          transformStream,\n-          progressEventDecorator(\n-            responseLength,\n-            progressEventReducer(asyncDecorator(onDownloadProgress), true, 3)\n-          )\n-        ));\n-\n-        streams.push(transformStream);\n-      }\n-\n-      // decompress the response body transparently if required\n-      let responseStream = res;\n-\n-      // return the last request in case of redirects\n-      const lastRequest = res.req || req;\n-\n-      // if decompress disabled we should not decompress\n-      if (config.decompress !== false && res.headers['content-encoding']) {\n-        // if no content, but headers still say that it is encoded,\n-        // remove the header not confuse downstream operations\n-        if (method === 'HEAD' || res.statusCode === 204) {\n-          delete res.headers['content-encoding'];\n-        }\n-\n-        switch ((res.headers['content-encoding'] || '').toLowerCase()) {\n-        /*eslint default-case:0*/\n-        case 'gzip':\n-        case 'x-gzip':\n-        case 'compress':\n-        case 'x-compress':\n-          // add the unzipper to the body stream processing pipeline\n-          streams.push(zlib.createUnzip(zlibOptions));\n-\n-          // remove the content-encoding in order to not confuse downstream operations\n-          delete res.headers['content-encoding'];\n-          break;\n-        case 'deflate':\n-          streams.push(new ZlibHeaderTransformStream());\n-\n-          // add the unzipper to the body stream processing pipeline\n-          streams.push(zlib.createUnzip(zlibOptions));\n-\n-          // remove the content-encoding in order to not confuse downstream operations\n-          delete res.headers['content-encoding'];\n-          break;\n-        case 'br':\n-          if (isBrotliSupported) {\n-            streams.push(zlib.createBrotliDecompress(brotliOptions));\n-            delete res.headers['content-encoding'];\n-          }\n-        }\n-      }\n-\n-      responseStream = streams.length > 1 ? stream.pipeline(streams, utils.noop) : streams[0];\n-\n-      const offListeners = stream.finished(responseStream, () => {\n-        offListeners();\n-        onFinished();\n-      });\n-\n-      const response = {\n-        status: res.statusCode,\n-        statusText: res.statusMessage,\n-        headers: new AxiosHeaders(res.headers),\n-        config,\n-        request: lastRequest\n-      };\n-\n-      if (responseType === 'stream') {\n-        response.data = responseStream;\n-        settle(resolve, reject, response);\n-      } else {\n-        const responseBuffer = [];\n-        let totalResponseBytes = 0;\n-\n-        responseStream.on('data', function handleStreamData(chunk) {\n-          responseBuffer.push(chunk);\n-          totalResponseBytes += chunk.length;\n-\n-          // make sure the content length is not over the maxContentLength if specified\n-          if (config.maxContentLength > -1 && totalResponseBytes > config.maxContentLength) {\n-            // stream.destroy() emit aborted event before calling reject() on Node.js v16\n-            rejected = true;\n-            responseStream.destroy();\n-            reject(new AxiosError('maxContentLength size of ' + config.maxContentLength + ' exceeded',\n-              AxiosError.ERR_BAD_RESPONSE, config, lastRequest));\n-          }\n-        });\n-\n-        responseStream.on('aborted', function handlerStreamAborted() {\n-          if (rejected) {\n-            return;\n-          }\n-\n-          const err = new AxiosError(\n-            'stream has been aborted',\n-            AxiosError.ERR_BAD_RESPONSE,\n-            config,\n-            lastRequest\n-          );\n-          responseStream.destroy(err);\n-          reject(err);\n-        });\n-\n-        responseStream.on('error', function handleStreamError(err) {\n-          if (req.destroyed) return;\n-          reject(AxiosError.from(err, null, config, lastRequest));\n-        });\n-\n-        responseStream.on('end', function handleStreamEnd() {\n-          try {\n-            let responseData = responseBuffer.length === 1 ? responseBuffer[0] : Buffer.concat(responseBuffer);\n-            if (responseType !== 'arraybuffer') {\n-              responseData = responseData.toString(responseEncoding);\n-              if (!responseEncoding || responseEncoding === 'utf8') {\n-                responseData = utils.stripBOM(responseData);\n-              }\n-            }\n-            response.data = responseData;\n-          } catch (err) {\n-            return reject(AxiosError.from(err, null, config, response.request, response));\n-          }\n-          settle(resolve, reject, response);\n-        });\n-      }\n-\n-      emitter.once('abort', err => {\n-        if (!responseStream.destroyed) {\n-          responseStream.emit('error', err);\n-          responseStream.destroy();\n-        }\n-      });\n-    });\n-\n-    emitter.once('abort', err => {\n-      reject(err);\n-      req.destroy(err);\n-    });\n-\n-    // Handle errors\n-    req.on('error', function handleRequestError(err) {\n-      // @todo remove\n-      // if (req.aborted && err.code !== AxiosError.ERR_FR_TOO_MANY_REDIRECTS) return;\n-      reject(AxiosError.from(err, null, config, req));\n-    });\n-\n-    // set tcp keep alive to prevent drop connection by peer\n-    req.on('socket', function handleRequestSocket(socket) {\n-      // default interval of sending ack packet is 1 minute\n-      socket.setKeepAlive(true, 1000 * 60);\n-    });\n-\n-    // Handle request timeout\n-    if (config.timeout) {\n-      // This is forcing a int timeout to avoid problems if the `req` interface doesn't handle other types.\n-      const timeout = parseInt(config.timeout, 10);\n-\n-      if (Number.isNaN(timeout)) {\n-        reject(new AxiosError(\n-          'error trying to parse `config.timeout` to int',\n-          AxiosError.ERR_BAD_OPTION_VALUE,\n-          config,\n-          req\n-        ));\n-\n-        return;\n-      }\n-\n-      // Sometime, the response will be very slow, and does not respond, the connect event will be block by event loop system.\n-      // And timer callback will be fired, and abort() will be invoked before connection, then get \"socket hang up\" and code ECONNRESET.\n-      // At this time, if we have a large number of request, nodejs will hang up some socket on background. and the number will up and up.\n-      // And then these socket which be hang up will devouring CPU little by little.\n-      // ClientRequest.setTimeout will be fired on the specify milliseconds, and can make sure that abort() will be fired after connect.\n-      req.setTimeout(timeout, function handleRequestTimeout() {\n-        if (isDone) return;\n-        let timeoutErrorMessage = config.timeout ? 'timeout of ' + config.timeout + 'ms exceeded' : 'timeout exceeded';\n-        const transitional = config.transitional || transitionalDefaults;\n-        if (config.timeoutErrorMessage) {\n-          timeoutErrorMessage = config.timeoutErrorMessage;\n-        }\n-        reject(new AxiosError(\n-          timeoutErrorMessage,\n-          transitional.clarifyTimeoutError ? AxiosError.ETIMEDOUT : AxiosError.ECONNABORTED,\n-          config,\n-          req\n-        ));\n-        abort();\n-      });\n-    }\n-\n-\n-    // Send the request\n-    if (utils.isStream(data)) {\n-      let ended = false;\n-      let errored = false;\n-\n-      data.on('end', () => {\n-        ended = true;\n-      });\n-\n-      data.once('error', err => {\n-        errored = true;\n-        req.destroy(err);\n-      });\n-\n-      data.on('close', () => {\n-        if (!ended && !errored) {\n-          abort(new CanceledError('Request stream has been aborted', config, req));\n-        }\n-      });\n-\n-      data.pipe(req);\n-    } else {\n-      req.end(data);\n-    }\n-  });\n-}\n-\n-export const __setProxy = setProxy;\n+      setProxy(options, config.proxy, protocol\n\\ No newline at end of file\n",
    "problem_statement": "",
    "FAIL_TO_PASS": [],
    "PASS_TO_PASS": []
  },
  {
    "instance_id": "axios__axios.ef36347f.7202",
    "repo": "axios__axios.ef36347f",
    "base_commit": "ef36347f",
    "patch": "diff --git a/lib/adapters/http.js b/lib/adapters/http.js\nindex 0577bf0..a925be0 100755\n--- a/lib/adapters/http.js\n+++ b/lib/adapters/http.js\n@@ -429,267 +429,4 @@ export default isHttpAdapterSupported && function httpAdapter(config) {\n     } else {\n       options.hostname = parsed.hostname.startsWith(\"[\") ? parsed.hostname.slice(1, -1) : parsed.hostname;\n       options.port = parsed.port;\n-      setProxy(options, config.proxy, protocol + '//' + parsed.hostname + (parsed.port ? ':' + parsed.port : '') + options.path);\n-    }\n-\n-    let transport;\n-    const isHttpsRequest = isHttps.test(options.protocol);\n-    options.agent = isHttpsRequest ? config.httpsAgent : config.httpAgent;\n-    if (config.transport) {\n-      transport = config.transport;\n-    } else if (config.maxRedirects === 0) {\n-      transport = isHttpsRequest ? https : http;\n-    } else {\n-      if (config.maxRedirects) {\n-        options.maxRedirects = config.maxRedirects;\n-      }\n-      if (config.beforeRedirect) {\n-        options.beforeRedirects.config = config.beforeRedirect;\n-      }\n-      transport = isHttpsRequest ? httpsFollow : httpFollow;\n-    }\n-\n-    if (config.maxBodyLength > -1) {\n-      options.maxBodyLength = config.maxBodyLength;\n-    } else {\n-      // follow-redirects does not skip comparison, so it should always succeed for axios -1 unlimited\n-      options.maxBodyLength = Infinity;\n-    }\n-\n-    if (config.insecureHTTPParser) {\n-      options.insecureHTTPParser = config.insecureHTTPParser;\n-    }\n-\n-    // Create the request\n-    req = transport.request(options, function handleResponse(res) {\n-      if (req.destroyed) return;\n-\n-      const streams = [res];\n-\n-      const responseLength = +res.headers['content-length'];\n-\n-      if (onDownloadProgress || maxDownloadRate) {\n-        const transformStream = new AxiosTransformStream({\n-          maxRate: utils.toFiniteNumber(maxDownloadRate)\n-        });\n-\n-        onDownloadProgress && transformStream.on('progress', flushOnFinish(\n-          transformStream,\n-          progressEventDecorator(\n-            responseLength,\n-            progressEventReducer(asyncDecorator(onDownloadProgress), true, 3)\n-          )\n-        ));\n-\n-        streams.push(transformStream);\n-      }\n-\n-      // decompress the response body transparently if required\n-      let responseStream = res;\n-\n-      // return the last request in case of redirects\n-      const lastRequest = res.req || req;\n-\n-      // if decompress disabled we should not decompress\n-      if (config.decompress !== false && res.headers['content-encoding']) {\n-        // if no content, but headers still say that it is encoded,\n-        // remove the header not confuse downstream operations\n-        if (method === 'HEAD' || res.statusCode === 204) {\n-          delete res.headers['content-encoding'];\n-        }\n-\n-        switch ((res.headers['content-encoding'] || '').toLowerCase()) {\n-        /*eslint default-case:0*/\n-        case 'gzip':\n-        case 'x-gzip':\n-        case 'compress':\n-        case 'x-compress':\n-          // add the unzipper to the body stream processing pipeline\n-          streams.push(zlib.createUnzip(zlibOptions));\n-\n-          // remove the content-encoding in order to not confuse downstream operations\n-          delete res.headers['content-encoding'];\n-          break;\n-        case 'deflate':\n-          streams.push(new ZlibHeaderTransformStream());\n-\n-          // add the unzipper to the body stream processing pipeline\n-          streams.push(zlib.createUnzip(zlibOptions));\n-\n-          // remove the content-encoding in order to not confuse downstream operations\n-          delete res.headers['content-encoding'];\n-          break;\n-        case 'br':\n-          if (isBrotliSupported) {\n-            streams.push(zlib.createBrotliDecompress(brotliOptions));\n-            delete res.headers['content-encoding'];\n-          }\n-        }\n-      }\n-\n-      responseStream = streams.length > 1 ? stream.pipeline(streams, utils.noop) : streams[0];\n-\n-      const offListeners = stream.finished(responseStream, () => {\n-        offListeners();\n-        onFinished();\n-      });\n-\n-      const response = {\n-        status: res.statusCode,\n-        statusText: res.statusMessage,\n-        headers: new AxiosHeaders(res.headers),\n-        config,\n-        request: lastRequest\n-      };\n-\n-      if (responseType === 'stream') {\n-        response.data = responseStream;\n-        settle(resolve, reject, response);\n-      } else {\n-        const responseBuffer = [];\n-        let totalResponseBytes = 0;\n-\n-        responseStream.on('data', function handleStreamData(chunk) {\n-          responseBuffer.push(chunk);\n-          totalResponseBytes += chunk.length;\n-\n-          // make sure the content length is not over the maxContentLength if specified\n-          if (config.maxContentLength > -1 && totalResponseBytes > config.maxContentLength) {\n-            // stream.destroy() emit aborted event before calling reject() on Node.js v16\n-            rejected = true;\n-            responseStream.destroy();\n-            reject(new AxiosError('maxContentLength size of ' + config.maxContentLength + ' exceeded',\n-              AxiosError.ERR_BAD_RESPONSE, config, lastRequest));\n-          }\n-        });\n-\n-        responseStream.on('aborted', function handlerStreamAborted() {\n-          if (rejected) {\n-            return;\n-          }\n-\n-          const err = new AxiosError(\n-            'stream has been aborted',\n-            AxiosError.ERR_BAD_RESPONSE,\n-            config,\n-            lastRequest\n-          );\n-          responseStream.destroy(err);\n-          reject(err);\n-        });\n-\n-        responseStream.on('error', function handleStreamError(err) {\n-          if (req.destroyed) return;\n-          reject(AxiosError.from(err, null, config, lastRequest));\n-        });\n-\n-        responseStream.on('end', function handleStreamEnd() {\n-          try {\n-            let responseData = responseBuffer.length === 1 ? responseBuffer[0] : Buffer.concat(responseBuffer);\n-            if (responseType !== 'arraybuffer') {\n-              responseData = responseData.toString(responseEncoding);\n-              if (!responseEncoding || responseEncoding === 'utf8') {\n-                responseData = utils.stripBOM(responseData);\n-              }\n-            }\n-            response.data = responseData;\n-          } catch (err) {\n-            return reject(AxiosError.from(err, null, config, response.request, response));\n-          }\n-          settle(resolve, reject, response);\n-        });\n-      }\n-\n-      emitter.once('abort', err => {\n-        if (!responseStream.destroyed) {\n-          responseStream.emit('error', err);\n-          responseStream.destroy();\n-        }\n-      });\n-    });\n-\n-    emitter.once('abort', err => {\n-      reject(err);\n-      req.destroy(err);\n-    });\n-\n-    // Handle errors\n-    req.on('error', function handleRequestError(err) {\n-      // @todo remove\n-      // if (req.aborted && err.code !== AxiosError.ERR_FR_TOO_MANY_REDIRECTS) return;\n-      reject(AxiosError.from(err, null, config, req));\n-    });\n-\n-    // set tcp keep alive to prevent drop connection by peer\n-    req.on('socket', function handleRequestSocket(socket) {\n-      // default interval of sending ack packet is 1 minute\n-      socket.setKeepAlive(true, 1000 * 60);\n-    });\n-\n-    // Handle request timeout\n-    if (config.timeout) {\n-      // This is forcing a int timeout to avoid problems if the `req` interface doesn't handle other types.\n-      const timeout = parseInt(config.timeout, 10);\n-\n-      if (Number.isNaN(timeout)) {\n-        reject(new AxiosError(\n-          'error trying to parse `config.timeout` to int',\n-          AxiosError.ERR_BAD_OPTION_VALUE,\n-          config,\n-          req\n-        ));\n-\n-        return;\n-      }\n-\n-      // Sometime, the response will be very slow, and does not respond, the connect event will be block by event loop system.\n-      // And timer callback will be fired, and abort() will be invoked before connection, then get \"socket hang up\" and code ECONNRESET.\n-      // At this time, if we have a large number of request, nodejs will hang up some socket on background. and the number will up and up.\n-      // And then these socket which be hang up will devouring CPU little by little.\n-      // ClientRequest.setTimeout will be fired on the specify milliseconds, and can make sure that abort() will be fired after connect.\n-      req.setTimeout(timeout, function handleRequestTimeout() {\n-        if (isDone) return;\n-        let timeoutErrorMessage = config.timeout ? 'timeout of ' + config.timeout + 'ms exceeded' : 'timeout exceeded';\n-        const transitional = config.transitional || transitionalDefaults;\n-        if (config.timeoutErrorMessage) {\n-          timeoutErrorMessage = config.timeoutErrorMessage;\n-        }\n-        reject(new AxiosError(\n-          timeoutErrorMessage,\n-          transitional.clarifyTimeoutError ? AxiosError.ETIMEDOUT : AxiosError.ECONNABORTED,\n-          config,\n-          req\n-        ));\n-        abort();\n-      });\n-    }\n-\n-\n-    // Send the request\n-    if (utils.isStream(data)) {\n-      let ended = false;\n-      let errored = false;\n-\n-      data.on('end', () => {\n-        ended = true;\n-      });\n-\n-      data.once('error', err => {\n-        errored = true;\n-        req.destroy(err);\n-      });\n-\n-      data.on('close', () => {\n-        if (!ended && !errored) {\n-          abort(new CanceledError('Request stream has been aborted', config, req));\n-        }\n-      });\n-\n-      data.pipe(req);\n-    } else {\n-      req.end(data);\n-    }\n-  });\n-}\n-\n-export const __setProxy = setProxy;\n+      setProxy(options, config.proxy, protocol\n\\ No newline at end of file\n",
    "problem_statement": "",
    "FAIL_TO_PASS": [],
    "PASS_TO_PASS": []
  },
  {
    "instance_id": "axios__axios.ef36347f.7229",
    "repo": "axios__axios.ef36347f",
    "base_commit": "ef36347f",
    "patch": "diff --git a/lib/adapters/http.js b/lib/adapters/http.js\nindex 28d3d2bb64..dfa6386d32 100755\n--- a/lib/adapters/http.js\n+++ b/lib/adapters/http.js\n@@ -816,8 +816,6 @@ export default isHttpAdapterSupported && function httpAdapter(config) {\n \n     // Handle errors\n     req.on('error', function handleRequestError(err) {\n-      // @todo remove\n-      // if (req.aborted && err.code !== AxiosError.ERR_FR_TOO_MANY_REDIRECTS) return;\n       reject(AxiosError.from(err, null, config, req));\n     });\n \n",
    "problem_statement": "",
    "FAIL_TO_PASS": [],
    "PASS_TO_PASS": []
  },
  {
    "repo": "payloadcms__payload.053256d5",
    "instance_id": "payloadcms__payload.053256d5.14819",
    "base_commit": "053256d5cef6411bc29b9a69be0b2b62d5397c40",
    "patch": "diff --git a/packages/ui/src/elements/SelectMany/index.tsx b/packages/ui/src/elements/SelectMany/index.tsx\nindex aef666d6e..cd00ea684 100644\n--- a/packages/ui/src/elements/SelectMany/index.tsx\n+++ b/packages/ui/src/elements/SelectMany/index.tsx\n@@ -25,8 +25,9 @@ export const SelectMany: React.FC<{\n         }\n       }}\n       pillStyle=\"white\"\n+      size=\"small\"\n     >\n       {`Select ${count}`}\n     </Pill>\n   )\n-}\n+}\n\\ No newline at end of file\n",
    "problem_statement": "UI Elements - SelectMany useTranslation\n### Describe the Bug.\n\nThe SelectMany field in Payload CMS currently does not support translations.\n\n<img width=\"829\" height=\"326\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/045db6c1-a8c2-45a7-a707-fc359175875f\" />\n\n### Reproduction Steps\n\nCurrently, the SelectMany element does not support translations.\nAfter checking the file node_modules/@payloadcms/ui/dist/elements/SelectMany/index.js, I noticed that useTranslation was previously included but is now commented out. It would be great if translation support could be properly implemented in a future release.\n\nIs it possible to fix this in the next update?\n\n<img width=\"752\" height=\"625\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/11ffbd2d-e21e-4fd3-8f99-1a474d81da6f\" />\n\n### Environment Info\n\n```text\nBinaries:\n  Node: 23.5.0\n  npm: 11.3.0\n  Yarn: 1.22.22\n  pnpm: 10.22.0\nRelevant Packages:\n  payload: 3.66.0\n  next: 15.4.8\n  @payloadcms/db-postgres: 3.66.0\n  @payloadcms/drizzle: 3.64.0\n  @payloadcms/graphql: 3.64.0\n  @payloadcms/live-preview: 3.65.0\n  @payloadcms/live-preview-react: 3.66.0\n  @payloadcms/next/utilities: 3.66.0\n  @payloadcms/plugin-form-builder: 3.66.0\n  @payloadcms/plugin-nested-docs: 3.66.0\n  @payloadcms/plugin-redirects: 3.66.0\n  @payloadcms/plugin-search: 3.66.0\n  @payloadcms/plugin-seo: 3.66.0\n  @payloadcms/richtext-lexical: 3.66.0\n  @payloadcms/translations: 3.66.0\n  @payloadcms/ui/shared: 3.66.0\n  react: 19.2.1\n  react-dom: 19.1.0\nOperating System:\n  Platform: linux\n  Arch: x64\n  Version: #173-Ubuntu SMP Tue Oct 14 17:51:00 UTC 2025\n  Available memory (MB): 31930\n  Available CPU cores: 28\n```\n",
    "fail_to_pass": [],
    "pass_to_pass": []
  },
  {
    "repo": "payloadcms__payload.053256d5",
    "instance_id": "payloadcms__payload.053256d5.14808",
    "base_commit": "053256d5cef6411bc29b9a69be0b2b62d5397c40",
    "patch": "diff --git a/packages/ui/src/exports/client/index.ts b/packages/ui/src/exports/client/index.ts\nindex 51c379e38..d3dfc14ab 100644\n--- a/packages/ui/src/exports/client/index.ts\n+++ b/packages/ui/src/exports/client/index.ts\n@@ -235,4 +235,4 @@ export { Text as TextCondition } from '../../elements/WhereBuilder/Condition/Tex\n export { Select as SelectCondition } from '../../elements/WhereBuilder/Condition/Select/index.js'\n export { RelationshipField as RelationshipCondition } from '../../elements/WhereBuilder/Condition/Relationship/index.js'\n export { NumberField as NumberCondition } from '../../elements/WhereBuilder/Condition/Number/index.js'\n-export { DateField as DateCondition } from '../../elements/WhereBuilder/Condition/Date/index.js'\n+export { DateField as DateCondition } from '../../elements/WhereBuilder/Condition/Date/index.js'\n\\ No newline at end of file\n",
    "problem_statement": "",
    "fail_to_pass": [],
    "pass_to_pass": []
  },
  {
    "instance_id": "strapi__strapi.main.24965",
    "repo": "strapi__strapi.main",
    "base_commit": "b03ed9b0d57d44676c8eb8eaf6dc3e9c88df224e",
    "patch": "diff --git a/packages/plugins/i18n/server/src/services/ai-localizations.ts b/packages/plugins/i18n/server/src/services/ai-localizations.ts\nindex 3d21a605656b..8694a1811039 100644\n--- a/packages/plugins/i18n/server/src/services/ai-localizations.ts\n+++ b/packages/plugins/i18n/server/src/services/ai-localizations.ts\n@@ -11,7 +11,12 @@ const createAILocalizationsService = ({ strapi }: { strapi: Core.Strapi }) => {\n   const aiServerUrl = process.env.STRAPI_AI_URL || 'https://strapi-ai.apps.strapi.io';\n   const aiLocalizationJobsService = getService('ai-localization-jobs');\n \n-  const UNSUPPORTED_ATTRIBUTE_TYPES: Schema.Attribute.Kind[] = ['media', 'relation', 'boolean'];\n+  const UNSUPPORTED_ATTRIBUTE_TYPES: Schema.Attribute.Kind[] = [\n+    'media',\n+    'relation',\n+    'boolean',\n+    'enumeration',\n+  ];\n   const IGNORED_FIELDS = [\n     'id',\n     'documentId',\n",
    "problem_statement": "AI i18n throws an error when a Enum field  is present\n### Node Version\n\n20.19.5\n\n### NPM/Yarn/PNPM Version\n\n4.10.3\n\n### Strapi Version\n\n5.31.3\n\n### Operating System\n\nMacOS\n\n### Database\n\nSQLite\n\n### Javascript or Typescript\n\nTypescript\n\n### Reproduction URL\n\n_No response_\n\n### Bug Description\n\nAn error is thrown when there is a translatable enum and AI i18n is enabled.\n\n<img width=\"1988\" height=\"1138\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/cf9a0967-665d-4854-a448-efdd132258ea\" />\n\n### Steps to Reproduce\n\n1. Add a Growth licence\n3. Enable i18n AI + add locales\n4. Create a schema with an enum field that is localised\n6. Create an entry, select an enum value and save\n\n### Expected Behavior\n\nThe enum should be translated and saved.\n\n### Logs\n\n```shell\n[2025-12-03 10:16:48.197] info: AI token generated successfully\n[2025-12-03 10:16:48.198] http: Contacting AI Server for localizations generation\n[2025-12-03 10:16:49.092] http: GET /i18n/ai-localization-jobs/collection-types/api::product.product/wx1ajxq0i239g69y9vp1onxo (17 ms) 200\n[2025-12-03 10:16:50.121] http: GET /i18n/ai-localization-jobs/collection-types/api::product.product/wx1ajxq0i239g69y9vp1onxo (17 ms) 200\n[2025-12-03 10:16:51.147] http: GET /i18n/ai-localization-jobs/collection-types/api::product.product/wx1ajxq0i239g69y9vp1onxo (15 ms) 200\n[2025-12-03 10:16:52.174] http: GET /i18n/ai-localization-jobs/collection-types/api::product.product/wx1ajxq0i239g69y9vp1onxo (14 ms) 200\n[2025-12-03 10:16:53.205] http: GET /i18n/ai-localization-jobs/collection-types/api::product.product/wx1ajxq0i239g69y9vp1onxo (18 ms) 200\n[2025-12-03 10:16:54.226] http: GET /i18n/ai-localization-jobs/collection-types/api::product.product/wx1ajxq0i239g69y9vp1onxo (12 ms) 200\n[2025-12-03 10:16:55.258] http: GET /i18n/ai-localization-jobs/collection-types/api::product.product/wx1ajxq0i239g69y9vp1onxo (16 ms) 200\n[2025-12-03 10:16:56.286] http: GET /i18n/ai-localization-jobs/collection-types/api::product.product/wx1ajxq0i239g69y9vp1onxo (17 ms) 200\n[2025-12-03 10:16:57.317] http: GET /i18n/ai-localization-jobs/collection-types/api::product.product/wx1ajxq0i239g69y9vp1onxo (20 ms) 200\n[2025-12-03 10:16:58.344] http: GET /i18n/ai-localization-jobs/collection-types/api::product.product/wx1ajxq0i239g69y9vp1onxo (17 ms) 200\n[2025-12-03 10:16:59.361] http: GET /i18n/ai-localization-jobs/collection-types/api::product.product/wx1ajxq0i239g69y9vp1onxo (11 ms) 200\n[2025-12-03 10:17:00.394] http: GET /i18n/ai-localization-jobs/collection-types/api::product.product/wx1ajxq0i239g69y9vp1onxo (21 ms) 200\n[2025-12-03 10:17:01.420] http: GET /i18n/ai-localization-jobs/collection-types/api::product.product/wx1ajxq0i239g69y9vp1onxo (16 ms) 200\n[2025-12-03 10:17:02.444] http: GET /i18n/ai-localization-jobs/collection-types/api::product.product/wx1ajxq0i239g69y9vp1onxo (14 ms) 200\n[2025-12-03 10:17:03.465] http: GET /i18n/ai-localization-jobs/collection-types/api::product.product/wx1ajxq0i239g69y9vp1onxo (13 ms) 200\n[2025-12-03 10:17:04.493] http: GET /i18n/ai-localization-jobs/collection-types/api::product.product/wx1ajxq0i239g69y9vp1onxo (15 ms) 200\n[2025-12-03 10:17:05.521] http: GET /i18n/ai-localization-jobs/collection-types/api::product.product/wx1ajxq0i239g69y9vp1onxo (16 ms) 200\n[2025-12-03 10:17:06.546] http: GET /i18n/ai-localization-jobs/collection-types/api::product.product/wx1ajxq0i239g69y9vp1onxo (15 ms) 200\n[2025-12-03 10:17:07.577] http: GET /i18n/ai-localization-jobs/collection-types/api::product.product/wx1ajxq0i239g69y9vp1onxo (17 ms) 200\n[2025-12-03 10:17:08.608] http: GET /i18n/ai-localization-jobs/collection-types/api::product.product/wx1ajxq0i239g69y9vp1onxo (15 ms) 200\n[2025-12-03 10:17:08.760] info: [AI Localizations Job] Updated existing job for document wx1ajxq0i239g69y9vp1onxo with status: failed\n[2025-12-03 10:17:08.763] error: AI Localizations generation failed timing must be one of the following values: morning, noon, night, \n[2025-12-03 10:17:09.634] http: GET /i18n/ai-localization-jobs/collection-types/api::product.product/wx1ajxq0i239g69y9vp1onxo (16 ms) 200\n[2025-12-03 10:17:09.667] http: GET /content-manager/collection-types/api::product.product/wx1ajxq0i239g69y9vp1onxo?locale=en (22 ms) 200\n```\n\n### Code Snippets\n\n_No response_\n\n### Media\n\n_No response_\n\n### Additional information\n\n_No response_\n\n### Confirmation Checklist\n\n- [x] I have checked the existing [issues](https://github.com/strapi/strapi/issues) for duplicates.\n- [x] I agree to follow this project's [Code of Conduct](https://github.com/strapi/strapi/blob/develop/CODE_OF_CONDUCT.md).\n",
    "FAIL_TO_PASS": [],
    "PASS_TO_PASS": []
  },
  {
    "instance_id": "strapi__strapi.main.24907",
    "repo": "strapi__strapi.main",
    "base_commit": "e7ae51b01f78ddeaa09c4aa3e3882f466a5b3188",
    "patch": "diff --git a/packages/core/admin/admin/src/components/GuidedTour/Overview.tsx b/packages/core/admin/admin/src/components/GuidedTour/Overview.tsx\nindex 8be32866b832..57f48a35753d 100644\n--- a/packages/core/admin/admin/src/components/GuidedTour/Overview.tsx\n+++ b/packages/core/admin/admin/src/components/GuidedTour/Overview.tsx\n@@ -171,7 +171,12 @@ export const GuidedTourHomepageOverview = () => {\n     }\n   };\n \n-  if (!guidedTourMeta?.data.isFirstSuperAdminUser || !enabled || hidden) {\n+  if (\n+    !guidedTourMeta?.data.isFirstSuperAdminUser ||\n+    !enabled ||\n+    hidden ||\n+    process.env.NODE_ENV !== 'development'\n+  ) {\n     return null;\n   }\n \ndiff --git a/packages/core/admin/admin/src/components/GuidedTour/Tours.tsx b/packages/core/admin/admin/src/components/GuidedTour/Tours.tsx\nindex b32990e0393e..448b803d3f59 100644\n--- a/packages/core/admin/admin/src/components/GuidedTour/Tours.tsx\n+++ b/packages/core/admin/admin/src/components/GuidedTour/Tours.tsx\n@@ -47,7 +47,7 @@ type GuidedTourTooltipProps = {\n const GuidedTourTooltip = ({ children, ...props }: GuidedTourTooltipProps) => {\n   const state = useGuidedTour('TooltipWrapper', (s) => s.state);\n \n-  if (!state.enabled || state.hidden) {\n+  if (!state.enabled || state.hidden || process.env.NODE_ENV !== 'development') {\n     return children;\n   }\n \ndiff --git a/packages/core/admin/admin/src/pages/ProfilePage.tsx b/packages/core/admin/admin/src/pages/ProfilePage.tsx\nindex 873c461fce31..f699120e56a8 100644\n--- a/packages/core/admin/admin/src/pages/ProfilePage.tsx\n+++ b/packages/core/admin/admin/src/pages/ProfilePage.tsx\n@@ -230,7 +230,7 @@ const ProfilePage = () => {\n             </>\n           )}\n         </Form>\n-        {isDesktop && (\n+        {isDesktop && process.env.NODE_ENV === 'development' && (\n           <Box>\n             <Layouts.Content>\n               <GuidedTourSection />\n",
    "problem_statement": "",
    "FAIL_TO_PASS": [],
    "PASS_TO_PASS": []
  },
  {
    "instance_id": "strapi__strapi.main.24904",
    "repo": "strapi__strapi.main",
    "base_commit": "e2e3ca14971ee768e1a227a209362264fd0132d4",
    "patch": "diff --git a/packages/core/data-transfer/src/utils/encryption/decrypt.ts b/packages/core/data-transfer/src/utils/encryption/decrypt.ts\nindex 38a2d9f6c64c..711e97f2823c 100644\n--- a/packages/core/data-transfer/src/utils/encryption/decrypt.ts\n+++ b/packages/core/data-transfer/src/utils/encryption/decrypt.ts\n@@ -12,20 +12,20 @@ const getDecryptionStrategy = (algorithm: Algorithm): EncryptionStrategy => {\n     },\n     aes128(key: string): Decipheriv {\n       const hashedKey = scryptSync(key, '', 32);\n-      const initVector: BinaryLike | null = hashedKey.slice(16);\n-      const securityKey: CipherKey = hashedKey.slice(0, 16);\n+      const initVector: BinaryLike | null = hashedKey.subarray(16);\n+      const securityKey: CipherKey = hashedKey.subarray(0, 16);\n       return createDecipheriv(algorithm, securityKey, initVector);\n     },\n     aes192(key: string): Decipheriv {\n       const hashedKey = scryptSync(key, '', 40);\n-      const initVector: BinaryLike | null = hashedKey.slice(24);\n-      const securityKey: CipherKey = hashedKey.slice(0, 24);\n+      const initVector: BinaryLike | null = hashedKey.subarray(24);\n+      const securityKey: CipherKey = hashedKey.subarray(0, 24);\n       return createDecipheriv(algorithm, securityKey, initVector);\n     },\n     aes256(key: string): Decipheriv {\n       const hashedKey = scryptSync(key, '', 48);\n-      const initVector: BinaryLike | null = hashedKey.slice(32);\n-      const securityKey: CipherKey = hashedKey.slice(0, 32);\n+      const initVector: BinaryLike | null = hashedKey.subarray(32);\n+      const securityKey: CipherKey = hashedKey.subarray(0, 32);\n       return createDecipheriv(algorithm, securityKey, initVector);\n     },\n   };\ndiff --git a/packages/core/data-transfer/src/utils/encryption/encrypt.ts b/packages/core/data-transfer/src/utils/encryption/encrypt.ts\nindex 0aa3ea1c53cd..966a01f62253 100644\n--- a/packages/core/data-transfer/src/utils/encryption/encrypt.ts\n+++ b/packages/core/data-transfer/src/utils/encryption/encrypt.ts\n@@ -12,20 +12,20 @@ const getEncryptionStrategy = (algorithm: Algorithm): EncryptionStrategy => {\n     },\n     aes128(key: string): Cipheriv {\n       const hashedKey = scryptSync(key, '', 32);\n-      const initVector: BinaryLike | null = hashedKey.slice(16);\n-      const securityKey: CipherKey = hashedKey.slice(0, 16);\n+      const initVector: BinaryLike | null = hashedKey.subarray(16);\n+      const securityKey: CipherKey = hashedKey.subarray(0, 16);\n       return createCipheriv(algorithm, securityKey, initVector);\n     },\n     aes192(key: string): Cipheriv {\n       const hashedKey = scryptSync(key, '', 40);\n-      const initVector: BinaryLike | null = hashedKey.slice(24);\n-      const securityKey: CipherKey = hashedKey.slice(0, 24);\n+      const initVector: BinaryLike | null = hashedKey.subarray(24);\n+      const securityKey: CipherKey = hashedKey.subarray(0, 24);\n       return createCipheriv(algorithm, securityKey, initVector);\n     },\n     aes256(key: string): Cipheriv {\n       const hashedKey = scryptSync(key, '', 48);\n-      const initVector: BinaryLike | null = hashedKey.slice(32);\n-      const securityKey: CipherKey = hashedKey.slice(0, 32);\n+      const initVector: BinaryLike | null = hashedKey.subarray(32);\n+      const securityKey: CipherKey = hashedKey.subarray(0, 32);\n       return createCipheriv(algorithm, securityKey, initVector);\n     },\n   };\n",
    "problem_statement": "",
    "FAIL_TO_PASS": [],
    "PASS_TO_PASS": []
  },
  {
    "instance_id": "strapi__strapi.main.24879",
    "repo": "strapi__strapi.main",
    "base_commit": "4310e958c583cd2f7e924cde428875ca6b033faa",
    "patch": "diff --git a/packages/core/strapi/src/cli/commands/transfer/command.ts b/packages/core/strapi/src/cli/commands/transfer/command.ts\nindex ab9d7a9d69f3..01cc16d2fd30 100644\n--- a/packages/core/strapi/src/cli/commands/transfer/command.ts\n+++ b/packages/core/strapi/src/cli/commands/transfer/command.ts\n@@ -45,147 +45,154 @@ const command = () => {\n       .hook(\n         'preAction',\n         ifOptions(\n-          (opts) =>\n+          async (opts) =>\n             (opts.from && opts.to) || (opts.from && opts.toToken) || (opts.to && opts.fromToken),\n           async () =>\n             exitWith(1, 'Only one remote source (from) or destination (to) option may be provided')\n         )\n       )\n-      .hook('preAction', async (thisCommand) => {\n-        const opts = thisCommand.opts();\n-        const hasEnvUrl = process.env.STRAPI_TRANSFER_URL;\n-        const hasEnvToken = process.env.STRAPI_TRANSFER_TOKEN;\n-\n-        const logDocumentation = () => {\n-          console.info(\n-            '\u2139\ufe0f  Data transfer documentation: https://docs.strapi.io/dev-docs/data-management/transfer'\n-          );\n-        };\n-\n-        const logEnvironmentVariables = () => {\n-          if (!hasEnvUrl && !hasEnvToken) {\n-            console.info('\u2139\ufe0f  No transfer configuration found in environment variables');\n-            console.info(\n-              '   \u2192 Add STRAPI_TRANSFER_URL and STRAPI_TRANSFER_TOKEN environment variables to make the transfer process faster for future runs'\n-            );\n-            return;\n-          }\n+      .hook(\n+        'preAction',\n+        ifOptions(\n+          // Only run interactive prompts if neither --from nor --to is provided\n+          async (opts) => !opts.from && !opts.to,\n+          async (thisCommand) => {\n+            const opts = thisCommand.opts();\n+            const hasEnvUrl = process.env.STRAPI_TRANSFER_URL;\n+            const hasEnvToken = process.env.STRAPI_TRANSFER_TOKEN;\n+\n+            const logDocumentation = () => {\n+              console.info(\n+                '\u2139\ufe0f  Data transfer documentation: https://docs.strapi.io/dev-docs/data-management/transfer'\n+              );\n+            };\n+\n+            const logEnvironmentVariables = () => {\n+              if (!hasEnvUrl && !hasEnvToken) {\n+                console.info('\u2139\ufe0f  No transfer configuration found in environment variables');\n+                console.info(\n+                  '   \u2192 Add STRAPI_TRANSFER_URL and STRAPI_TRANSFER_TOKEN environment variables to make the transfer process faster for future runs'\n+                );\n+                return;\n+              }\n \n-          console.info('\u2139\ufe0f  Found transfer configuration in your environment:');\n+              console.info('\u2139\ufe0f  Found transfer configuration in your environment:');\n \n-          if (hasEnvUrl) {\n-            console.info(\n-              `   \u2192 Environment STRAPI_TRANSFER_URL (${hasEnvUrl}) will be used as the transfer URL`\n-            );\n-          }\n+              if (hasEnvUrl) {\n+                console.info(\n+                  `   \u2192 Environment STRAPI_TRANSFER_URL (${hasEnvUrl}) will be used as the transfer URL`\n+                );\n+              }\n \n-          if (hasEnvToken) {\n-            console.info(\n-              '   \u2192 Environment STRAPI_TRANSFER_TOKEN value will be used as the transfer token'\n-            );\n-          }\n+              if (hasEnvToken) {\n+                console.info(\n+                  '   \u2192 Environment STRAPI_TRANSFER_TOKEN value will be used as the transfer token'\n+                );\n+              }\n \n-          console.info(); // Empty line for better readability\n-        };\n+              console.info(); // Empty line for better readability\n+            };\n \n-        const determineDirection = async () => {\n-          // If user has not provided a direction from CLI, log the documentation\n-          if (!opts.from && !opts.to) {\n-            logDocumentation();\n-          }\n+            const determineDirection = async () => {\n+              // If user has not provided a direction from CLI, log the documentation\n+              if (!opts.from && !opts.to) {\n+                logDocumentation();\n+              }\n \n-          logEnvironmentVariables();\n+              logEnvironmentVariables();\n \n-          if (opts.from) {\n-            return opts.from;\n-          }\n-          if (opts.to) {\n-            return opts.to;\n-          }\n+              if (opts.from) {\n+                return 'from';\n+              }\n+              if (opts.to) {\n+                return 'to';\n+              }\n \n-          const { dir } = await inquirer.prompt([\n-            {\n-              type: 'list',\n-              name: 'dir',\n-              message: 'Choose transfer direction:',\n-              choices: [\n-                { name: 'Pull data from remote Strapi to local', value: 'from' },\n-                { name: 'Push local data to remote Strapi', value: 'to' },\n-              ],\n-            },\n-          ]);\n-\n-          return dir;\n-        };\n-\n-        const determineUrl = async (direction: 'from' | 'to') => {\n-          if (opts[direction]) {\n-            return new URL(opts[direction]);\n-          }\n+              const { dir } = await inquirer.prompt([\n+                {\n+                  type: 'list',\n+                  name: 'dir',\n+                  message: 'Choose transfer direction:',\n+                  choices: [\n+                    { name: 'Pull data from remote Strapi to local', value: 'from' },\n+                    { name: 'Push local data to remote Strapi', value: 'to' },\n+                  ],\n+                },\n+              ]);\n \n-          if (process.env.STRAPI_TRANSFER_URL) {\n-            return new URL(process.env.STRAPI_TRANSFER_URL);\n-          }\n+              return dir;\n+            };\n \n-          const answer = await inquirer.prompt([\n-            {\n-              type: 'input',\n-              name: 'remoteUrl',\n-              message: `Enter the URL of the remote Strapi instance to ${direction === 'from' ? 'get data from' : 'send data to'}:`,\n-              default: process.env.STRAPI_TRANSFER_URL,\n-              validate(input: string) {\n-                try {\n-                  const url = new URL(input);\n-                  if (!['http:', 'https:'].includes(url.protocol)) {\n-                    return 'URL must use http: or https: protocol';\n-                  }\n-                  return true;\n-                } catch (error) {\n-                  return 'Please enter a valid URL (e.g., http://localhost:1337/admin or https://example.com/admin)';\n-                }\n-              },\n-            },\n-          ]);\n-\n-          return new URL(answer.remoteUrl);\n-        };\n-\n-        const determineToken = async (direction: 'from' | 'to') => {\n-          if (opts[`${direction}Token`]) {\n-            return opts[`${direction}Token`];\n-          }\n+            const determineUrl = async (direction: 'from' | 'to') => {\n+              if (opts[direction]) {\n+                return new URL(opts[direction]);\n+              }\n \n-          if (process.env.STRAPI_TRANSFER_TOKEN) {\n-            return process.env.STRAPI_TRANSFER_TOKEN;\n-          }\n+              if (process.env.STRAPI_TRANSFER_URL) {\n+                return new URL(process.env.STRAPI_TRANSFER_URL);\n+              }\n \n-          const answer = await inquirer.prompt([\n-            {\n-              type: 'password',\n-              name: 'token',\n-              message: `Enter the transfer token for the remote Strapi ${direction === 'from' ? 'source' : 'destination'}:`,\n-              default: process.env.STRAPI_TRANSFER_TOKEN,\n-              validate(input: string) {\n-                if (!input?.length) {\n-                  return 'Transfer token is required';\n-                }\n-                return true;\n-              },\n-            },\n-          ]);\n-\n-          return answer.token;\n-        };\n-\n-        const direction = await determineDirection();\n-        opts[direction] = await determineUrl(direction);\n-        opts[`${direction}Token`] = await determineToken(direction);\n-      })\n+              const answer = await inquirer.prompt([\n+                {\n+                  type: 'input',\n+                  name: 'remoteUrl',\n+                  message: `Enter the URL of the remote Strapi instance to ${direction === 'from' ? 'get data from' : 'send data to'}:`,\n+                  default: process.env.STRAPI_TRANSFER_URL,\n+                  validate(input: string) {\n+                    try {\n+                      const url = new URL(input);\n+                      if (!['http:', 'https:'].includes(url.protocol)) {\n+                        return 'URL must use http: or https: protocol';\n+                      }\n+                      return true;\n+                    } catch (error) {\n+                      return 'Please enter a valid URL (e.g., http://localhost:1337/admin or https://example.com/admin)';\n+                    }\n+                  },\n+                },\n+              ]);\n+\n+              return new URL(answer.remoteUrl);\n+            };\n+\n+            const determineToken = async (direction: 'from' | 'to') => {\n+              if (opts[`${direction}Token`]) {\n+                return opts[`${direction}Token`];\n+              }\n+\n+              if (process.env.STRAPI_TRANSFER_TOKEN) {\n+                return process.env.STRAPI_TRANSFER_TOKEN;\n+              }\n+\n+              const answer = await inquirer.prompt([\n+                {\n+                  type: 'password',\n+                  name: 'token',\n+                  message: `Enter the transfer token for the remote Strapi ${direction === 'from' ? 'source' : 'destination'}:`,\n+                  default: process.env.STRAPI_TRANSFER_TOKEN,\n+                  validate(input: string) {\n+                    if (!input?.length) {\n+                      return 'Transfer token is required';\n+                    }\n+                    return true;\n+                  },\n+                },\n+              ]);\n+\n+              return answer.token;\n+            };\n+\n+            const direction = await determineDirection();\n+            opts[direction] = await determineUrl(direction);\n+            opts[`${direction}Token`] = await determineToken(direction);\n+          }\n+        )\n+      )\n       // If --from is used, validate the URL and token\n       .hook(\n         'preAction',\n         ifOptions(\n-          (opts) => opts.from,\n+          async (opts) => opts.from,\n           async (thisCommand) => {\n             assertUrlHasProtocol(thisCommand.opts().from, ['https:', 'http:']);\n             if (!thisCommand.opts().fromToken) {\n@@ -213,7 +220,7 @@ const command = () => {\n       .hook(\n         'preAction',\n         ifOptions(\n-          (opts) => opts.to,\n+          async (opts) => opts.to,\n           async (thisCommand) => {\n             assertUrlHasProtocol(thisCommand.opts().to, ['https:', 'http:']);\n             if (!thisCommand.opts().toToken) {\n",
    "problem_statement": "Strapi Transfer CLI --force issue\n### Node Version\n\n20.15.0\n\n### NPM/Yarn/PNPM Version\n\nyarn 4.4.1\n\n### Strapi Version\n\n5.14.0\n\n### Operating System\n\nLinux (Debian/Ubuntu)\n\n### Database\n\nPostgreSQL\n\n### Javascript or Typescript\n\nTypescript\n\n### Reproduction URL\n\n_No response_\n\n### Bug Description\n\nHey guys. It seems that in version v5.14.0 the `--force` parameter of strapi transfer CLI is broken. Below is my CLI call with said parameter and correct `--from` and `--from-token` parameters. And it still prompts for the URL (and then token) even though they're passed through the call and the `--force` parameter is present.\n\n\n```\nrunner@fv-az720-478:~/work/redacted$ yarn strapi transfer \\\n--from https://valid-origin-url.com/admin \\\n--from-token 123-valid-token-123 \\\n--force \\\n--exclude files\u2028\n\u2139\ufe0f  No transfer configuration found in environment variables\n   \u2192 Add STRAPI_TRANSFER_URL and STRAPI_TRANSFER_TOKEN environment variables to make the transfer process faster for future runs\n? Enter the URL of the remote Strapi instance to send data to: \n```\n\nIt works the same way locally (MacOS m3 14.6) and on Github runner instance (Ubuntu 22.04).\nI think it might be related to the new transfer CLI feature from [this pr](https://github.com/strapi/strapi/pull/23421)\nAm I doing something wrong or is it a bug? It worked properly in v5.13. \n\n### Steps to Reproduce\n\n1. Run transfer command with `--from`, `--from-token` and `--force` parameters.\n2. Observe CLI prompts still appearing.\n\n### Expected Behavior\n\nTransfer going through. CLI not prompting for additional information.\n\n### Logs\n\n```shell\n\n```\n\n### Code Snippets\n\n_No response_\n\n### Media\n\n_No response_\n\n### Additional information\n\n_No response_\n\n### Confirmation Checklist\n\n- [x] I have checked the existing [issues](https://github.com/strapi/strapi/issues) for duplicates.\n- [x] I agree to follow this project's [Code of Conduct](https://github.com/strapi/strapi/blob/develop/CODE_OF_CONDUCT.md).\n",
    "FAIL_TO_PASS": [],
    "PASS_TO_PASS": []
  },
  {
    "instance_id": "strapi__strapi.main.24918",
    "repo": "strapi__strapi.main",
    "base_commit": "29273b8e8a9a5aa635e5680190eda01f861431aa",
    "patch": "diff --git a/packages/core/content-type-builder/admin/src/components/AIChat/Chat.tsx b/packages/core/content-type-builder/admin/src/components/AIChat/Chat.tsx\nindex 0b344ad118ec..4d934adc0ffd 100644\n--- a/packages/core/content-type-builder/admin/src/components/AIChat/Chat.tsx\n+++ b/packages/core/content-type-builder/admin/src/components/AIChat/Chat.tsx\n@@ -340,6 +340,7 @@ const ChatInput = (props: React.FormHTMLAttributes<HTMLFormElement>) => {\n                 <IconButton\n                   label={t('chat.tooltips.send-message', 'Send')}\n                   variant=\"default\"\n+                  type=\"submit\"\n                   // allow sending an empty message if there are attachments\n                   disabled={input.trim().length === 0 && attachments.length === 0}\n                 >\ndiff --git a/packages/core/content-type-builder/admin/src/components/AIChat/components/Messages/Message.tsx b/packages/core/content-type-builder/admin/src/components/AIChat/components/Messages/Message.tsx\nindex 635122fb56c8..4d9b03d8f870 100644\n--- a/packages/core/content-type-builder/admin/src/components/AIChat/components/Messages/Message.tsx\n+++ b/packages/core/content-type-builder/admin/src/components/AIChat/components/Messages/Message.tsx\n@@ -19,6 +19,8 @@ import { Marker } from './Marker';\n const MarkdownStyles = styled(Typography)`\n   max-width: 65ch;\n   margin: 0 auto;\n+  overflow-wrap: anywhere;\n+  word-break: break-word;\n \n   h1,\n   h2,\n@@ -77,6 +79,11 @@ const MarkdownStyles = styled(Typography)`\n   }\n `;\n \n+const UserMessageTypography = styled(Typography)`\n+  overflow-wrap: anywhere;\n+  word-break: break-word;\n+`;\n+\n // ---------------------------\n // Tool: schemaGenerationTool helpers\n // ---------------------------\n@@ -195,7 +202,7 @@ const UserMessage = ({ message }: { message: UserMessageType }) => {\n         <Box background=\"neutral150\" borderStyle=\"none\" padding={['10px', '16px']} hasRadius>\n           {message.parts.map((content, index) => {\n             if (content.type !== 'text') return null;\n-            return <Typography key={index}>{content.text}</Typography>;\n+            return <UserMessageTypography key={index}>{content.text}</UserMessageTypography>;\n           })}\n         </Box>\n       ) : null}\n",
    "problem_statement": "",
    "FAIL_TO_PASS": [],
    "PASS_TO_PASS": []
  },
  {
    "instance_id": "colinhacks__zod.main.5473",
    "repo": "colinhacks__zod.main",
    "base_commit": "a43295dd4c3b8a425f9ea93d55790a1347368993",
    "patch": "diff --git a/packages/zod/src/v4/core/util.ts b/packages/zod/src/v4/core/util.ts\nindex b067a34dbd..948a02c8b2 100644\n--- a/packages/zod/src/v4/core/util.ts\n+++ b/packages/zod/src/v4/core/util.ts\n@@ -199,7 +199,7 @@ export function assertNotEqual<A, B>(val: AssertNotEqual<A, B>): AssertNotEqual<\n export function assertIs<T>(_arg: T): void {}\n \n export function assertNever(_x: never): never {\n-  throw new Error(\"Unexpected value in exhaustive check\");\n+  throw new Error();\n }\n export function assert<T>(_: any): asserts _ is T {}\n \n",
    "problem_statement": "The assertNever function should throw an error with a descriptive message when called with an unexpected value during exhaustive type checking. Currently it throws a generic Error() without any message, making debugging difficult.",
    "FAIL_TO_PASS": [],
    "PASS_TO_PASS": []
  }
]